/*! For license information please see main.172777c0.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(202)},153:(e,t,s)=>{var a=s(43),l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var a,r={},d=null,c=null;for(a in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,a)&&!o.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:l,type:e,key:d,ref:c,props:r,_owner:i.current}}t.Fragment=r,t.jsx=d,t.jsxs=d},202:(e,t)=>{var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,b={};function g(e,t,s){this.props=e,this.context=t,this.refs=b,this.updater=s||h}function f(){}function v(e,t,s){this.props=e,this.context=t,this.refs=b,this.updater=s||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=g.prototype;var y=v.prototype=new f;y.constructor=v,p(y,g.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,a){var l,r={},n=null,i=null;if(null!=t)for(l in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(n=""+t.key),t)j.call(t,l)&&!S.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(1===o)r.children=a;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];r.children=d}if(e&&e.defaultProps)for(l in o=e.defaultProps)void 0===r[l]&&(r[l]=o[l]);return{$$typeof:s,type:e,key:n,ref:i,props:r,_owner:N.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,l,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case a:o=!0}}if(o)return n=n(o=e),e=""===r?"."+T(o,0):r,w(n)?(l="",null!=e&&(l=e.replace(P,"$&/")+"/"),I(n,t,l,"",function(e){return e})):null!=n&&(k(n)&&(n=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(n,l+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(P,"$&/")+"/")+e)),t.push(n)),1;if(o=0,r=""===r?".":r+":",w(e))for(var d=0;d<e.length;d++){var c=r+T(i=e[d],d);o+=I(i,t,l,c,n)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),d=0;!(i=e.next()).done;)o+=I(i=i.value,t,l,c=r+T(i,d++),n);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function D(e,t,s){if(null==e)return e;var a=[],l=0;return I(e,a,"","",function(e){return t.call(s,e,l++)}),a}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},L={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:L,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,s){D(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=l,t.Profiler=n,t.PureComponent=v,t.StrictMode=r,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=O,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=p({},e.props),r=e.key,n=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(n=t.ref,i=N.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)j.call(t,d)&&!S.hasOwnProperty(d)&&(l[d]=void 0===t[d]&&void 0!==o?o[d]:t[d])}var d=arguments.length-2;if(1===d)l.children=a;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];l.children=o}return{$$typeof:s,type:e.type,key:r,ref:n,props:l,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,s){return A.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,s){return A.current.useReducer(e,t,s)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return A.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var a=s-1>>>1,l=e[a];if(!(0<r(l,t)))break e;e[a]=t,e[s]=l,s=a}}function a(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var a=0,l=e.length,n=l>>>1;a<n;){var i=2*(a+1)-1,o=e[i],d=i+1,c=e[d];if(0>r(o,s))d<l&&0>r(c,o)?(e[a]=c,e[d]=s,a=d):(e[a]=o,e[i]=s,a=i);else{if(!(d<l&&0>r(c,s)))break e;e[a]=c,e[d]=s,a=d}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var n=performance;t.unstable_now=function(){return n.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var d=[],c=[],u=1,m=null,x=3,h=!1,p=!1,b=!1,g="function"===typeof setTimeout?setTimeout:null,f="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(c);null!==t;){if(null===t.callback)l(c);else{if(!(t.startTime<=e))break;l(c),t.sortIndex=t.expirationTime,s(d,t)}t=a(c)}}function w(e){if(b=!1,y(e),!p)if(null!==a(d))p=!0,L(j);else{var t=a(c);null!==t&&R(w,t.startTime-e)}}function j(e,s){p=!1,b&&(b=!1,f(k),k=-1),h=!0;var r=x;try{for(y(s),m=a(d);null!==m&&(!(m.expirationTime>s)||e&&!I());){var n=m.callback;if("function"===typeof n){m.callback=null,x=m.priorityLevel;var i=n(m.expirationTime<=s);s=t.unstable_now(),"function"===typeof i?m.callback=i:m===a(d)&&l(d),y(s)}else l(d);m=a(d)}if(null!==m)var o=!0;else{var u=a(c);null!==u&&R(w,u.startTime-s),o=!1}return o}finally{m=null,x=r,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,C=null,k=-1,P=5,T=-1;function I(){return!(t.unstable_now()-T<P)}function D(){if(null!==C){var e=t.unstable_now();T=e;var s=!0;try{s=C(!0,e)}finally{s?N():(S=!1,C=null)}}else S=!1}if("function"===typeof v)N=function(){v(D)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,A=E.port2;E.port1.onmessage=D,N=function(){A.postMessage(null)}}else N=function(){g(D,0)};function L(e){C=e,S||(S=!0,N())}function R(e,s){k=g(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,L(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(d)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var s=x;x=t;try{return e()}finally{x=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=x;x=e;try{return t()}finally{x=s}},t.unstable_scheduleCallback=function(e,l,r){var n=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?n+r:n:r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:l,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>n?(e.sortIndex=r,s(c,e),null===a(d)&&e===a(c)&&(b?(f(k),k=-1):b=!0,R(w,r-n))):(e.sortIndex=i,s(d,e),p||h||(p=!0,L(j))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=x;return function(){var s=x;x=t;try{return e.apply(this,arguments)}finally{x=s}}}},391:(e,t,s)=>{var a=s(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,s)=>{e.exports=s(153)},730:(e,t,s)=>{var a=s(43),l=s(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(i[e]=t,e=0;e<t.length;e++)n.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},h={};function p(e,t,s,a,l,r,n){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=n}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}function v(e,t,s,a){var l=b.hasOwnProperty(t)?b[t]:null;(null!==l?0!==l.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,a){if(null===t||"undefined"===typeof t||function(e,t,s,a){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,a))return!0;if(a)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,l,a)&&(s=null),a||null===l?function(e){return!!u.call(h,e)||!u.call(x,e)&&(m.test(e)?h[e]=!0:(x[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):l.mustUseProperty?e[l.propertyName]=null===s?3!==l.type&&"":s:(t=l.attributeName,a=l.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(l=l.type)||4===l&&!0===s?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,f);b[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,f);b[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,f);b[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function _(e){if(void 0===M)try{throw Error()}catch(ba){var t=ba.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function q(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(ma){var a=ma}Reflect.construct(e,[],t)}else{try{t.call()}catch(ma){a=ma}e.call(t.prototype)}else{try{throw Error()}catch(ma){a=ma}e()}}catch(ma){if(ma&&a&&"string"===typeof ma.stack){for(var l=ma.stack.split("\n"),r=a.stack.split("\n"),n=l.length-1,i=r.length-1;1<=n&&0<=i&&l[n]!==r[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==r[i]){if(1!==n||1!==i)do{if(n--,0>--i||l[n]!==r[i]){var o="\n"+l[n].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=n&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?_(e):""}function U(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(ba){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var l=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=V(e)?e.checked?"true":"false":e.value),(e=a)!==s&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var s=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function $(e,t){var s=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;s=H(null!=t.value?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var s=H(t.value),a=t.type;if(null!=s)"number"===a?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&Q(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,a){if(e=e.options,t){t={};for(var l=0;l<s.length;l++)t["$"+s[l]]=!0;for(s=0;s<e.length;s++)l=t.hasOwnProperty("$"+e[s].value),e[s].selected!==l&&(e[s].selected=l),l&&a&&(e[s].defaultSelected=!0)}else{for(s=""+H(s),t=null,l=0;l<e.length;l++){if(e[l].value===s)return e[l].selected=!0,void(a&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(r(92));if(te(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:H(s)}}function re(e,t){var s=H(t.value),a=H(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=a&&(e.defaultValue=""+a)}function ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,s,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,s)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function he(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function pe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var a=0===s.indexOf("--"),l=he(s,t[s],a);"float"===s&&(s="cssFloat"),a?e.setProperty(s,l):e[s]=l}}Object.keys(me).forEach(function(e){xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function fe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,Ne=null;function Se(e){if(e=Pl(e)){if("function"!==typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=Il(t),we(e.stateNode,e.type,t))}}function Ce(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function ke(){if(je){var e=je,t=Ne;if(Ne=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Ie=!1;function De(e,t,s){if(Ie)return e(t,s);Ie=!0;try{return Pe(e,t,s)}finally{Ie=!1,(null!==je||null!==Ne)&&(Te(),ke())}}function Ee(e,t){var s=e.stateNode;if(null===s)return null;var a=Il(s);if(null===a)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(r(231,t,typeof s));return s}var Ae=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(xa){Ae=!1}function Re(e,t,s,a,l,r,n,i,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(c){this.onError(c)}}var Oe=!1,Me=null,Fe=!1,_e=null,ze={onError:function(e){Oe=!0,Me=e}};function qe(e,t,s,a,l,r,n,i,o){Oe=!1,Me=null,Re.apply(ze,arguments)}function Ue(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(r(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,a=t;;){var l=s.return;if(null===l)break;var n=l.alternate;if(null===n){if(null!==(a=l.return)){s=a;continue}break}if(l.child===n.child){for(n=l.child;n;){if(n===s)return We(l),e;if(n===a)return We(l),t;n=n.sibling}throw Error(r(188))}if(s.return!==a.return)s=l,a=n;else{for(var i=!1,o=l.child;o;){if(o===s){i=!0,s=l,a=n;break}if(o===a){i=!0,a=l,s=n;break}o=o.sibling}if(!i){for(o=n.child;o;){if(o===s){i=!0,s=n,a=l;break}if(o===a){i=!0,a=n,s=l;break}o=o.sibling}if(!i)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(e),null!==e?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Je=l.unstable_scheduleCallback,Ke=l.unstable_cancelCallback,Qe=l.unstable_shouldYield,Ge=l.unstable_requestPaint,$e=l.unstable_now,Ye=l.unstable_getCurrentPriorityLevel,Xe=l.unstable_ImmediatePriority,Ze=l.unstable_UserBlockingPriority,et=l.unstable_NormalPriority,tt=l.unstable_LowPriority,st=l.unstable_IdlePriority,at=null,lt=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(nt(e)/it|0)|0},nt=Math.log,it=Math.LN2;var ot=64,dt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var s=e.pendingLanes;if(0===s)return 0;var a=0,l=e.suspendedLanes,r=e.pingedLanes,n=268435455&s;if(0!==n){var i=n&~l;0!==i?a=ct(i):0!==(r&=n)&&(a=ct(r))}else 0!==(n=s&~l)?a=ct(n):0!==r&&(a=ct(r));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&l)&&((l=a&-a)>=(r=t&-t)||16===l&&0!==(4194240&r)))return t;if(0!==(4&a)&&(a|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)l=1<<(s=31-rt(t)),a|=e[s],t&=~l;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function pt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function bt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=s}function gt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-rt(s),l=1<<a;l&t|e[a]&t&&(e[a]|=t),s&=~l}}var ft=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,wt,jt,Nt,St,Ct=!1,kt=[],Pt=null,Tt=null,It=null,Dt=new Map,Et=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Ot(e,t,s,a,l,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:r,targetContainers:[l]},null!==t&&(null!==(t=Pl(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==l&&-1===t.indexOf(l)&&t.push(l),e)}function Mt(e){var t=kl(e.target);if(null!==t){var s=Ue(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Be(s)))return e.blockedOn=t,void St(e.priority,function(){jt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=Pl(s))&&wt(t),e.blockedOn=s,!1;var a=new(s=e.nativeEvent).constructor(s.type,s);ve=a,s.target.dispatchEvent(a),ve=null,t.shift()}return!0}function _t(e,t,s){Ft(e)&&s.delete(t)}function zt(){Ct=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),Dt.forEach(_t),Et.forEach(_t)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return qt(t,e)}if(0<kt.length){qt(kt[0],e);for(var s=1;s<kt.length;s++){var a=kt[s];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Pt&&qt(Pt,e),null!==Tt&&qt(Tt,e),null!==It&&qt(It,e),Dt.forEach(t),Et.forEach(t),s=0;s<At.length;s++)(a=At[s]).blockedOn===e&&(a.blockedOn=null);for(;0<At.length&&null===(s=At[0]).blockedOn;)Mt(s),null===s.blockedOn&&At.shift()}var Bt=y.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,s,a){var l=ft,r=Bt.transition;Bt.transition=null;try{ft=1,Jt(e,t,s,a)}finally{ft=l,Bt.transition=r}}function Vt(e,t,s,a){var l=ft,r=Bt.transition;Bt.transition=null;try{ft=4,Jt(e,t,s,a)}finally{ft=l,Bt.transition=r}}function Jt(e,t,s,a){if(Wt){var l=Qt(e,t,s,a);if(null===l)Ya(e,t,a,Kt,s),Rt(e,a);else if(function(e,t,s,a,l){switch(t){case"focusin":return Pt=Ot(Pt,e,t,s,a,l),!0;case"dragenter":return Tt=Ot(Tt,e,t,s,a,l),!0;case"mouseover":return It=Ot(It,e,t,s,a,l),!0;case"pointerover":var r=l.pointerId;return Dt.set(r,Ot(Dt.get(r)||null,e,t,s,a,l)),!0;case"gotpointercapture":return r=l.pointerId,Et.set(r,Ot(Et.get(r)||null,e,t,s,a,l)),!0}return!1}(l,e,t,s,a))a.stopPropagation();else if(Rt(e,a),4&t&&-1<Lt.indexOf(e)){for(;null!==l;){var r=Pl(l);if(null!==r&&yt(r),null===(r=Qt(e,t,s,a))&&Ya(e,t,a,Kt,s),r===l)break;l=r}null!==l&&a.stopPropagation()}else Ya(e,t,a,null,s)}}var Kt=null;function Qt(e,t,s,a){if(Kt=null,null!==(e=kl(e=ye(a))))if(null===(t=Ue(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case Ze:return 4;case et:case tt:return 16;case st:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Zt(){if(Xt)return Xt;var e,t,s=Yt,a=s.length,l="value"in $t?$t.value:$t.textContent,r=l.length;for(e=0;e<a&&s[e]===l[e];e++);var n=a-e;for(t=1;t<=n&&s[a-t]===l[r-t];t++);return Xt=l.slice(e,1<t?1-t:void 0)}function es(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ts(){return!0}function ss(){return!1}function as(e){function t(t,s,a,l,r){for(var n in this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(n)&&(t=e[n],this[n]=t?t(l):l[n]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?ts:ss,this.isPropagationStopped=ss,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),t}var ls,rs,ns,is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=as(is),ds=F({},is,{view:0,detail:0}),cs=as(ds),us=F({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&"mousemove"===e.type?(ls=e.screenX-ns.screenX,rs=e.screenY-ns.screenY):rs=ls=0,ns=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),ms=as(us),xs=as(F({},us,{dataTransfer:0})),hs=as(F({},ds,{relatedTarget:0})),ps=as(F({},is,{animationName:0,elapsedTime:0,pseudoElement:0})),bs=F({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gs=as(bs),fs=as(F({},is,{data:0})),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function Ns(){return js}var Ss=F({},ds,{key:function(e){if(e.key){var t=vs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=es(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ys[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return"keypress"===e.type?es(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?es(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cs=as(Ss),ks=as(F({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ps=as(F({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns})),Ts=as(F({},is,{propertyName:0,elapsedTime:0,pseudoElement:0})),Is=F({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=as(Is),Es=[9,13,27,32],As=c&&"CompositionEvent"in window,Ls=null;c&&"documentMode"in document&&(Ls=document.documentMode);var Rs=c&&"TextEvent"in window&&!Ls,Os=c&&(!As||Ls&&8<Ls&&11>=Ls),Ms=String.fromCharCode(32),Fs=!1;function _s(e,t){switch(e){case"keyup":return-1!==Es.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qs=!1;var Us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Us[e.type]:"textarea"===t}function Ws(e,t,s,a){Ce(a),0<(t=Za(t,"onChange")).length&&(s=new os("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Hs=null,Vs=null;function Js(e){Va(e,0)}function Ks(e){if(K(Tl(e)))return e}function Qs(e,t){if("change"===e)return t}var Gs=!1;if(c){var $s;if(c){var Ys="oninput"in document;if(!Ys){var Xs=document.createElement("div");Xs.setAttribute("oninput","return;"),Ys="function"===typeof Xs.oninput}$s=Ys}else $s=!1;Gs=$s&&(!document.documentMode||9<document.documentMode)}function Zs(){Hs&&(Hs.detachEvent("onpropertychange",ea),Vs=Hs=null)}function ea(e){if("value"===e.propertyName&&Ks(Vs)){var t=[];Ws(t,Vs,e,ye(e)),De(Js,t)}}function ta(e,t,s){"focusin"===e?(Zs(),Vs=s,(Hs=t).attachEvent("onpropertychange",ea)):"focusout"===e&&Zs()}function sa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ks(Vs)}function aa(e,t){if("click"===e)return Ks(t)}function la(e,t){if("input"===e||"change"===e)return Ks(t)}var ra="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function na(e,t){if(ra(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var l=s[a];if(!u.call(t,l)||!ra(e[l],t[l]))return!1}return!0}function ia(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oa(e,t){var s,a=ia(e);for(e=0;a;){if(3===a.nodeType){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ia(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(ya){s=!1}if(!s)break;t=Q((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ga(e){var t=ha(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&da(s.ownerDocument.documentElement,s)){if(null!==a&&pa(s))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var l=s.textContent.length,r=Math.min(a.start,l);a=void 0===a.end?r:Math.min(a.end,l),!e.extend&&r>a&&(l=a,a=r,r=l),l=oa(s,r);var n=oa(s,a);l&&n&&(1!==e.rangeCount||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==n.node||e.focusOffset!==n.offset)&&((t=t.createRange()).setStart(l.node,l.offset),e.removeAllRanges(),r>a?(e.addRange(t),e.extend(n.node,n.offset)):(t.setEnd(n.node,n.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=c&&"documentMode"in document&&11>=document.documentMode,va=null,ja=null,Sa=null,Ca=!1;function ka(e,t,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;Ca||null==va||va!==Q(a)||("selectionStart"in(a=va)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},Sa&&na(Sa,a)||(Sa=a,0<(a=Za(ja,"onSelect")).length&&(t=new os("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=va)))}function Pa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ta={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Ia={},Da={};function Ea(e){if(Ia[e])return Ia[e];if(!Ta[e])return e;var t,s=Ta[e];for(t in s)if(s.hasOwnProperty(t)&&t in Da)return Ia[e]=s[t];return e}c&&(Da=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);var Aa=Ea("animationend"),La=Ea("animationiteration"),Ra=Ea("animationstart"),Oa=Ea("transitionend"),Ma=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){Ma.set(e,t),o(t,[e])}for(var za=0;za<Fa.length;za++){var qa=Fa[za];_a(qa.toLowerCase(),"on"+(qa[0].toUpperCase()+qa.slice(1)))}_a(Aa,"onAnimationEnd"),_a(La,"onAnimationIteration"),_a(Ra,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(Oa,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ba=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function Wa(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,a,l,n,i,o,d){if(qe.apply(this,arguments),Oe){if(!Oe)throw Error(r(198));var c=Me;Oe=!1,Me=null,Fe||(Fe=!0,_e=c)}}(a,t,void 0,e),e.currentTarget=null}function Va(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var a=e[s],l=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var n=a.length-1;0<=n;n--){var i=a[n],o=i.instance,d=i.currentTarget;if(i=i.listener,o!==r&&l.isPropagationStopped())break e;Wa(l,i,d),r=o}else for(n=0;n<a.length;n++){if(o=(i=a[n]).instance,d=i.currentTarget,i=i.listener,o!==r&&l.isPropagationStopped())break e;Wa(l,i,d),r=o}}}if(Fe)throw e=_e,Fe=!1,_e=null,e}function Ja(e,t){var s=t[Nl];void 0===s&&(s=t[Nl]=new Set);var a=e+"__bubble";s.has(a)||($a(t,e,2,!1),s.add(a))}function Ka(e,t,s){var a=0;t&&(a|=4),$a(s,e,a,t)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Ga(e){if(!e[Qa]){e[Qa]=!0,n.forEach(function(t){"selectionchange"!==t&&(Ba.has(t)||Ka(t,!1,e),Ka(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qa]||(t[Qa]=!0,Ka("selectionchange",!1,t))}}function $a(e,t,s,a){switch(Gt(t)){case 1:var l=Ht;break;case 4:l=Vt;break;default:l=Jt}s=l.bind(null,t,s,e),l=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(l=!0),a?void 0!==l?e.addEventListener(t,s,{capture:!0,passive:l}):e.addEventListener(t,s,!0):void 0!==l?e.addEventListener(t,s,{passive:l}):e.addEventListener(t,s,!1)}function Ya(e,t,s,a,l){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var n=a.tag;if(3===n||4===n){var i=a.stateNode.containerInfo;if(i===l||8===i.nodeType&&i.parentNode===l)break;if(4===n)for(n=a.return;null!==n;){var o=n.tag;if((3===o||4===o)&&((o=n.stateNode.containerInfo)===l||8===o.nodeType&&o.parentNode===l))return;n=n.return}for(;null!==i;){if(null===(n=kl(i)))return;if(5===(o=n.tag)||6===o){a=r=n;continue e}i=i.parentNode}}a=a.return}De(function(){var a=r,l=ye(s),n=[];e:{var i=Ma.get(e);if(void 0!==i){var o=os,d=e;switch(e){case"keypress":if(0===es(s))break e;case"keydown":case"keyup":o=Cs;break;case"focusin":d="focus",o=hs;break;case"focusout":d="blur",o=hs;break;case"beforeblur":case"afterblur":o=hs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=xs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Ps;break;case Aa:case La:case Ra:o=ps;break;case Oa:o=Ts;break;case"scroll":o=cs;break;case"wheel":o=Ds;break;case"copy":case"cut":case"paste":o=gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=ks}var c=0!==(4&t),u=!c&&"scroll"===e,m=c?null!==i?i+"Capture":null:i;c=[];for(var x,h=a;null!==h;){var p=(x=h).stateNode;if(5===x.tag&&null!==p&&(x=p,null!==m&&(null!=(p=Ee(h,m))&&c.push(Xa(h,p,x)))),u)break;h=h.return}0<c.length&&(i=new o(i,d,null,s,l),n.push({event:i,listeners:c}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||s===ve||!(d=s.relatedTarget||s.fromElement)||!kl(d)&&!d[jl])&&(o||i)&&(i=l.window===l?l:(i=l.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(d=(d=s.relatedTarget||s.toElement)?kl(d):null)&&(d!==(u=Ue(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(o=null,d=a),o!==d)){if(c=ms,p="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=ks,p="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?i:Tl(o),x=null==d?i:Tl(d),(i=new c(p,h+"leave",o,s,l)).target=u,i.relatedTarget=x,p=null,kl(l)===a&&((c=new c(m,h+"enter",d,s,l)).target=x,c.relatedTarget=u,p=c),u=p,o&&d)e:{for(m=d,h=0,x=c=o;x;x=el(x))h++;for(x=0,p=m;p;p=el(p))x++;for(;0<h-x;)c=el(c),h--;for(;0<x-h;)m=el(m),x--;for(;h--;){if(c===m||null!==m&&c===m.alternate)break e;c=el(c),m=el(m)}c=null}else c=null;null!==o&&tl(n,i,o,c,!1),null!==d&&null!==u&&tl(n,u,d,c,!0)}if("select"===(o=(i=a?Tl(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var b=Qs;else if(Bs(i))if(Gs)b=la;else{b=sa;var g=ta}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(b=aa);switch(b&&(b=b(e,a))?Ws(n,b,s,l):(g&&g(e,i,a),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=a?Tl(a):window,e){case"focusin":(Bs(g)||"true"===g.contentEditable)&&(va=g,ja=a,Sa=null);break;case"focusout":Sa=ja=va=null;break;case"mousedown":Ca=!0;break;case"contextmenu":case"mouseup":case"dragend":Ca=!1,ka(n,s,l);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ka(n,s,l)}var f;if(As)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qs?_s(e,s)&&(v="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(v="onCompositionStart");v&&(Os&&"ko"!==s.locale&&(qs||"onCompositionStart"!==v?"onCompositionEnd"===v&&qs&&(f=Zt()):(Yt="value"in($t=l)?$t.value:$t.textContent,qs=!0)),0<(g=Za(a,v)).length&&(v=new fs(v,e,null,s,l),n.push({event:v,listeners:g}),f?v.data=f:null!==(f=zs(s))&&(v.data=f))),(f=Rs?function(e,t){switch(e){case"compositionend":return zs(t);case"keypress":return 32!==t.which?null:(Fs=!0,Ms);case"textInput":return(e=t.data)===Ms&&Fs?null:e;default:return null}}(e,s):function(e,t){if(qs)return"compositionend"===e||!As&&_s(e,t)?(e=Zt(),Xt=Yt=$t=null,qs=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Os&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(a=Za(a,"onBeforeInput")).length&&(l=new fs("onBeforeInput","beforeinput",null,s,l),n.push({event:l,listeners:a}),l.data=f))}Va(n,t)})}function Xa(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Za(e,t){for(var s=t+"Capture",a=[];null!==e;){var l=e,r=l.stateNode;5===l.tag&&null!==r&&(l=r,null!=(r=Ee(e,s))&&a.unshift(Xa(e,r,l)),null!=(r=Ee(e,t))&&a.push(Xa(e,r,l))),e=e.return}return a}function el(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function tl(e,t,s,a,l){for(var r=t._reactName,n=[];null!==s&&s!==a;){var i=s,o=i.alternate,d=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==d&&(i=d,l?null!=(o=Ee(s,r))&&n.unshift(Xa(s,o,i)):l||null!=(o=Ee(s,r))&&n.push(Xa(s,o,i))),s=s.return}0!==n.length&&e.push({event:t,listeners:n})}var sl=/\r\n?/g,al=/\u0000|\uFFFD/g;function ll(e){return("string"===typeof e?e:""+e).replace(sl,"\n").replace(al,"")}function rl(e,t,s){if(t=ll(t),ll(e)!==t&&s)throw Error(r(425))}function nl(){}var ol=null,dl=null;function cl(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ul="function"===typeof setTimeout?setTimeout:void 0,ml="function"===typeof clearTimeout?clearTimeout:void 0,xl="function"===typeof Promise?Promise:void 0,hl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xl?function(e){return xl.resolve(null).then(e).catch(pl)}:ul;function pl(e){setTimeout(function(){throw e})}function bl(e,t){var s=t,a=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&8===l.nodeType)if("/$"===(s=l.data)){if(0===a)return e.removeChild(l),void Ut(t);a--}else"$"!==s&&"$?"!==s&&"$!"!==s||a++;s=l}while(s);Ut(t)}function gl(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fl(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var vl=Math.random().toString(36).slice(2),yl="__reactFiber$"+vl,wl="__reactProps$"+vl,jl="__reactContainer$"+vl,Nl="__reactEvents$"+vl,Sl="__reactListeners$"+vl,Cl="__reactHandles$"+vl;function kl(e){var t=e[yl];if(t)return t;for(var s=e.parentNode;s;){if(t=s[jl]||s[yl]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=fl(e);null!==e;){if(s=e[yl])return s;e=fl(e)}return t}s=(e=s).parentNode}return null}function Pl(e){return!(e=e[yl]||e[jl])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Tl(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Il(e){return e[wl]||null}var Dl=[],El=-1;function Al(e){return{current:e}}function Ll(e){0>El||(e.current=Dl[El],Dl[El]=null,El--)}function Rl(e,t){El++,Dl[El]=e.current,e.current=t}var Ol={},Ml=Al(Ol),Fl=Al(!1),_l=Ol;function zl(e,t){var s=e.type.contextTypes;if(!s)return Ol;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l,r={};for(l in s)r[l]=t[l];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function ql(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ul(){Ll(Fl),Ll(Ml)}function Bl(e,t,s){if(Ml.current!==Ol)throw Error(r(168));Rl(Ml,t),Rl(Fl,s)}function Wl(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return s;for(var l in a=a.getChildContext())if(!(l in t))throw Error(r(108,W(e)||"Unknown",l));return F({},s,a)}function Hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ol,_l=Ml.current,Rl(Ml,e),Rl(Fl,Fl.current),!0}function Vl(e,t,s){var a=e.stateNode;if(!a)throw Error(r(169));s?(e=Wl(e,t,_l),a.__reactInternalMemoizedMergedChildContext=e,Ll(Fl),Ll(Ml),Rl(Ml,e)):Ll(Fl),Rl(Fl,s)}var Jl=null,Kl=!1,Ql=!1;function Gl(e){null===Jl?Jl=[e]:Jl.push(e)}function $l(){if(!Ql&&null!==Jl){Ql=!0;var e=0,t=ft;try{var s=Jl;for(ft=1;e<s.length;e++){var a=s[e];do{a=a(!0)}while(null!==a)}Jl=null,Kl=!1}catch(ca){throw null!==Jl&&(Jl=Jl.slice(e+1)),Je(Xe,$l),ca}finally{ft=t,Ql=!1}}return null}var Yl=[],Xl=0,Zl=null,er=0,tr=[],sr=0,ar=null,lr=1,rr="";function nr(e,t){Yl[Xl++]=er,Yl[Xl++]=Zl,Zl=e,er=t}function ir(e,t,s){tr[sr++]=lr,tr[sr++]=rr,tr[sr++]=ar,ar=e;var a=lr;e=rr;var l=32-rt(a)-1;a&=~(1<<l),s+=1;var r=32-rt(t)+l;if(30<r){var n=l-l%5;r=(a&(1<<n)-1).toString(32),a>>=n,l-=n,lr=1<<32-rt(t)+l|s<<l|a,rr=r+e}else lr=1<<r|s<<l|a,rr=e}function or(e){null!==e.return&&(nr(e,1),ir(e,1,0))}function dr(e){for(;e===Zl;)Zl=Yl[--Xl],Yl[Xl]=null,er=Yl[--Xl],Yl[Xl]=null;for(;e===ar;)ar=tr[--sr],tr[sr]=null,rr=tr[--sr],tr[sr]=null,lr=tr[--sr],tr[sr]=null}var cr=null,ur=null,mr=!1,xr=null;function hr(e,t){var s=qd(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function pr(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,cr=e,ur=gl(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,cr=e,ur=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==ar?{id:lr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=qd(18,null,null,0)).stateNode=t,s.return=e,e.child=s,cr=e,ur=null,!0);default:return!1}}function br(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function gr(e){if(mr){var t=ur;if(t){var s=t;if(!pr(e,t)){if(br(e))throw Error(r(418));t=gl(s.nextSibling);var a=cr;t&&pr(e,t)?hr(a,s):(e.flags=-4097&e.flags|2,mr=!1,cr=e)}}else{if(br(e))throw Error(r(418));e.flags=-4097&e.flags|2,mr=!1,cr=e}}}function fr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;cr=e}function vr(e){if(e!==cr)return!1;if(!mr)return fr(e),mr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!cl(e.type,e.memoizedProps)),t&&(t=ur)){if(br(e))throw yr(),Error(r(418));for(;t;)hr(e,t),t=gl(t.nextSibling)}if(fr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ur=gl(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ur=null}}else ur=cr?gl(e.stateNode.nextSibling):null;return!0}function yr(){for(var e=ur;e;)e=gl(e.nextSibling)}function wr(){ur=cr=null,mr=!1}function jr(e){null===xr?xr=[e]:xr.push(e)}var Nr=y.ReactCurrentBatchConfig;function Sr(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(r(309));var a=s.stateNode}if(!a)throw Error(r(147,e));var l=a,n=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===n?t.ref:(t=function(e){var t=l.refs;null===e?delete t[n]:t[n]=e},t._stringRef=n,t)}if("string"!==typeof e)throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Cr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kr(e){return(0,e._init)(e._payload)}function Pr(e){function t(t,s){if(e){var a=t.deletions;null===a?(t.deletions=[s],t.flags|=16):a.push(s)}}function s(s,a){if(!e)return null;for(;null!==a;)t(s,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function l(e,t){return(e=Bd(e,t)).index=0,e.sibling=null,e}function n(t,s,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<s?(t.flags|=2,s):a:(t.flags|=2,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,a){return null===t||6!==t.tag?((t=Jd(s,e.mode,a)).return=e,t):((t=l(t,s)).return=e,t)}function d(e,t,s,a){var r=s.type;return r===N?u(e,t,s.props.children,a,s.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===A&&kr(r)===t.type)?((a=l(t,s.props)).ref=Sr(e,t,s),a.return=e,a):((a=Wd(s.type,s.key,s.props,null,e.mode,a)).ref=Sr(e,t,s),a.return=e,a)}function c(e,t,s,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Kd(s,e.mode,a)).return=e,t):((t=l(t,s.children||[])).return=e,t)}function u(e,t,s,a,r){return null===t||7!==t.tag?((t=Hd(s,e.mode,a,r)).return=e,t):((t=l(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Jd(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(s=Wd(t.type,t.key,t.props,null,e.mode,s)).ref=Sr(e,null,t),s.return=e,s;case j:return(t=Kd(t,e.mode,s)).return=e,t;case A:return m(e,(0,t._init)(t._payload),s)}if(te(t)||O(t))return(t=Hd(t,e.mode,s,null)).return=e,t;Cr(e,t)}return null}function x(e,t,s,a){var l=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==l?null:o(e,t,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return s.key===l?d(e,t,s,a):null;case j:return s.key===l?c(e,t,s,a):null;case A:return x(e,t,(l=s._init)(s._payload),a)}if(te(s)||O(s))return null!==l?null:u(e,t,s,a,null);Cr(e,s)}return null}function h(e,t,s,a,l){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(s)||null,""+a,l);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return d(t,e=e.get(null===a.key?s:a.key)||null,a,l);case j:return c(t,e=e.get(null===a.key?s:a.key)||null,a,l);case A:return h(e,t,s,(0,a._init)(a._payload),l)}if(te(a)||O(a))return u(t,e=e.get(s)||null,a,l,null);Cr(t,a)}return null}function p(l,r,i,o){for(var d=null,c=null,u=r,p=r=0,b=null;null!==u&&p<i.length;p++){u.index>p?(b=u,u=null):b=u.sibling;var g=x(l,u,i[p],o);if(null===g){null===u&&(u=b);break}e&&u&&null===g.alternate&&t(l,u),r=n(g,r,p),null===c?d=g:c.sibling=g,c=g,u=b}if(p===i.length)return s(l,u),mr&&nr(l,p),d;if(null===u){for(;p<i.length;p++)null!==(u=m(l,i[p],o))&&(r=n(u,r,p),null===c?d=u:c.sibling=u,c=u);return mr&&nr(l,p),d}for(u=a(l,u);p<i.length;p++)null!==(b=h(u,l,p,i[p],o))&&(e&&null!==b.alternate&&u.delete(null===b.key?p:b.key),r=n(b,r,p),null===c?d=b:c.sibling=b,c=b);return e&&u.forEach(function(e){return t(l,e)}),mr&&nr(l,p),d}function b(l,i,o,d){var c=O(o);if("function"!==typeof c)throw Error(r(150));if(null==(o=c.call(o)))throw Error(r(151));for(var u=c=null,p=i,b=i=0,g=null,f=o.next();null!==p&&!f.done;b++,f=o.next()){p.index>b?(g=p,p=null):g=p.sibling;var v=x(l,p,f.value,d);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(l,p),i=n(v,i,b),null===u?c=v:u.sibling=v,u=v,p=g}if(f.done)return s(l,p),mr&&nr(l,b),c;if(null===p){for(;!f.done;b++,f=o.next())null!==(f=m(l,f.value,d))&&(i=n(f,i,b),null===u?c=f:u.sibling=f,u=f);return mr&&nr(l,b),c}for(p=a(l,p);!f.done;b++,f=o.next())null!==(f=h(p,l,b,f.value,d))&&(e&&null!==f.alternate&&p.delete(null===f.key?b:f.key),i=n(f,i,b),null===u?c=f:u.sibling=f,u=f);return e&&p.forEach(function(e){return t(l,e)}),mr&&nr(l,b),c}return function e(a,r,n,o){if("object"===typeof n&&null!==n&&n.type===N&&null===n.key&&(n=n.props.children),"object"===typeof n&&null!==n){switch(n.$$typeof){case w:e:{for(var d=n.key,c=r;null!==c;){if(c.key===d){if((d=n.type)===N){if(7===c.tag){s(a,c.sibling),(r=l(c,n.props.children)).return=a,a=r;break e}}else if(c.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===A&&kr(d)===c.type){s(a,c.sibling),(r=l(c,n.props)).ref=Sr(a,c,n),r.return=a,a=r;break e}s(a,c);break}t(a,c),c=c.sibling}n.type===N?((r=Hd(n.props.children,a.mode,o,n.key)).return=a,a=r):((o=Wd(n.type,n.key,n.props,null,a.mode,o)).ref=Sr(a,r,n),o.return=a,a=o)}return i(a);case j:e:{for(c=n.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===n.containerInfo&&r.stateNode.implementation===n.implementation){s(a,r.sibling),(r=l(r,n.children||[])).return=a,a=r;break e}s(a,r);break}t(a,r),r=r.sibling}(r=Kd(n,a.mode,o)).return=a,a=r}return i(a);case A:return e(a,r,(c=n._init)(n._payload),o)}if(te(n))return p(a,r,n,o);if(O(n))return b(a,r,n,o);Cr(a,n)}return"string"===typeof n&&""!==n||"number"===typeof n?(n=""+n,null!==r&&6===r.tag?(s(a,r.sibling),(r=l(r,n)).return=a,a=r):(s(a,r),(r=Jd(n,a.mode,o)).return=a,a=r),i(a)):s(a,r)}}var Tr=Pr(!0),Ir=Pr(!1),Dr=Al(null),Er=null,Ar=null,Lr=null;function Rr(){Lr=Ar=Er=null}function Or(e){var t=Dr.current;Ll(Dr),e._currentValue=t}function Mr(e,t,s){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Fr(e,t){Er=e,Lr=Ar=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Pi=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(Lr!==e)if(e={context:e,memoizedValue:t,next:null},null===Ar){if(null===Er)throw Error(r(308));Ar=e,Er.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var zr=null;function qr(e){null===zr?zr=[e]:zr.push(e)}function Ur(e,t,s,a){var l=t.interleaved;return null===l?(s.next=s,qr(t)):(s.next=l.next,l.next=s),t.interleaved=s,Br(e,a)}function Br(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Wr=!1;function Hr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,s){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Fo)){var l=a.pending;return null===l?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Br(e,s)}return null===(l=a.interleaved)?(t.next=t,qr(a)):(t.next=l.next,l.next=t),a.interleaved=t,Br(e,s)}function Qr(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,gt(e,s)}}function Gr(e,t){var s=e.updateQueue,a=e.alternate;if(null!==a&&s===(a=a.updateQueue)){var l=null,r=null;if(null!==(s=s.firstBaseUpdate)){do{var n={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===r?l=r=n:r=r.next=n,s=s.next}while(null!==s);null===r?l=r=t:r=r.next=t}else l=r=t;return s={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:a.shared,effects:a.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function $r(e,t,s,a){var l=e.updateQueue;Wr=!1;var r=l.firstBaseUpdate,n=l.lastBaseUpdate,i=l.shared.pending;if(null!==i){l.shared.pending=null;var o=i,d=o.next;o.next=null,null===n?r=d:n.next=d,n=o;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==n&&(null===i?c.firstBaseUpdate=d:i.next=d,c.lastBaseUpdate=o))}if(null!==r){var u=l.baseState;for(n=0,c=d=o=null,i=r;;){var m=i.lane,x=i.eventTime;if((a&m)===m){null!==c&&(c=c.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,p=i;switch(m=t,x=s,p.tag){case 1:if("function"===typeof(h=p.payload)){u=h.call(x,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=p.payload)?h.call(x,u,m):h)||void 0===m)break e;u=F({},u,m);break e;case 2:Wr=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=l.effects)?l.effects=[i]:m.push(i))}else x={eventTime:x,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(d=c=x,o=u):c=c.next=x,n|=m;if(null===(i=i.next)){if(null===(i=l.shared.pending))break;i=(m=i).next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}if(null===c&&(o=u),l.baseState=o,l.firstBaseUpdate=d,l.lastBaseUpdate=c,null!==(t=l.shared.interleaved)){l=t;do{n|=l.lane,l=l.next}while(l!==t)}else null===r&&(l.shared.lanes=0);Vo|=n,e.lanes=n,e.memoizedState=u}}function Yr(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(null!==l){if(a.callback=null,a=s,"function"!==typeof l)throw Error(r(191,l));l.call(a)}}}var Xr={},Zr=Al(Xr),en=Al(Xr),tn=Al(Xr);function sn(e){if(e===Xr)throw Error(r(174));return e}function an(e,t){switch(Rl(tn,t),Rl(en,e),Rl(Zr,Xr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ll(Zr),Rl(Zr,t)}function ln(){Ll(Zr),Ll(en),Ll(tn)}function rn(e){sn(tn.current);var t=sn(Zr.current),s=oe(t,e.type);t!==s&&(Rl(en,e),Rl(Zr,s))}function nn(e){en.current===e&&(Ll(Zr),Ll(en))}var on=Al(0);function dn(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cn=[];function un(){for(var e=0;e<cn.length;e++)cn[e]._workInProgressVersionPrimary=null;cn.length=0}var mn=y.ReactCurrentDispatcher,xn=y.ReactCurrentBatchConfig,hn=0,pn=null,bn=null,gn=null,fn=!1,vn=!1,yn=0,wn=0;function jn(){throw Error(r(321))}function Nn(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ra(e[s],t[s]))return!1;return!0}function Sn(e,t,s,a,l,n){if(hn=n,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mn.current=null===e||null===e.memoizedState?ii:oi,e=s(a,l),vn){n=0;do{if(vn=!1,yn=0,25<=n)throw Error(r(301));n+=1,gn=bn=null,t.updateQueue=null,mn.current=di,e=s(a,l)}while(vn)}if(mn.current=ni,t=null!==bn&&null!==bn.next,hn=0,gn=bn=pn=null,fn=!1,t)throw Error(r(300));return e}function Cn(){var e=0!==yn;return yn=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gn?pn.memoizedState=gn=e:gn=gn.next=e,gn}function Pn(){if(null===bn){var e=pn.alternate;e=null!==e?e.memoizedState:null}else e=bn.next;var t=null===gn?pn.memoizedState:gn.next;if(null!==t)gn=t,bn=e;else{if(null===e)throw Error(r(310));e={memoizedState:(bn=e).memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},null===gn?pn.memoizedState=gn=e:gn=gn.next=e}return gn}function Tn(e,t){return"function"===typeof t?t(e):t}function In(e){var t=Pn(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var a=bn,l=a.baseQueue,n=s.pending;if(null!==n){if(null!==l){var i=l.next;l.next=n.next,n.next=i}a.baseQueue=l=n,s.pending=null}if(null!==l){n=l.next,a=a.baseState;var o=i=null,d=null,c=n;do{var u=c.lane;if((hn&u)===u)null!==d&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===d?(o=d=m,i=a):d=d.next=m,pn.lanes|=u,Vo|=u}c=c.next}while(null!==c&&c!==n);null===d?i=a:d.next=o,ra(a,t.memoizedState)||(Pi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=d,s.lastRenderedState=a}if(null!==(e=s.interleaved)){l=e;do{n=l.lane,pn.lanes|=n,Vo|=n,l=l.next}while(l!==e)}else null===l&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Dn(e){var t=Pn(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var a=s.dispatch,l=s.pending,n=t.memoizedState;if(null!==l){s.pending=null;var i=l=l.next;do{n=e(n,i.action),i=i.next}while(i!==l);ra(n,t.memoizedState)||(Pi=!0),t.memoizedState=n,null===t.baseQueue&&(t.baseState=n),s.lastRenderedState=n}return[n,a]}function En(){}function An(e,t){var s=pn,a=Pn(),l=t(),n=!ra(a.memoizedState,l);if(n&&(a.memoizedState=l,Pi=!0),a=a.queue,Hn(On.bind(null,s,a,e),[e]),a.getSnapshot!==t||n||null!==gn&&1&gn.memoizedState.tag){if(s.flags|=2048,zn(9,Rn.bind(null,s,a,l,t),void 0,null),null===_o)throw Error(r(349));0!==(30&hn)||Ln(s,t,l)}return l}function Ln(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=pn.updateQueue)?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Rn(e,t,s,a){t.value=s,t.getSnapshot=a,Mn(t)&&Fn(e)}function On(e,t,s){return s(function(){Mn(t)&&Fn(e)})}function Mn(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ra(e,s)}catch(ya){return!0}}function Fn(e){var t=Br(e,1);null!==t&&ud(t,e,1,-1)}function _n(e){var t=kn();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,pn,e),[t.memoizedState,e]}function zn(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},null===(t=pn.updateQueue)?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function qn(){return Pn().memoizedState}function Un(e,t,s,a){var l=kn();pn.flags|=e,l.memoizedState=zn(1|t,s,void 0,void 0===a?null:a)}function Bn(e,t,s,a){var l=Pn();a=void 0===a?null:a;var r=void 0;if(null!==bn){var n=bn.memoizedState;if(r=n.destroy,null!==a&&Nn(a,n.deps))return void(l.memoizedState=zn(t,s,r,a))}pn.flags|=e,l.memoizedState=zn(1|t,s,r,a)}function Wn(e,t){return Un(8390656,8,e,t)}function Hn(e,t){return Bn(2048,8,e,t)}function Vn(e,t){return Bn(4,2,e,t)}function Jn(e,t){return Bn(4,4,e,t)}function Kn(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qn(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Bn(4,4,Kn.bind(null,t,e),s)}function Gn(){}function $n(e,t){var s=Pn();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&Nn(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Yn(e,t){var s=Pn();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&Nn(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Xn(e,t,s){return 0===(21&hn)?(e.baseState&&(e.baseState=!1,Pi=!0),e.memoizedState=s):(ra(s,t)||(s=ht(),pn.lanes|=s,Vo|=s,e.baseState=!0),t)}function Zn(e,t){var s=ft;ft=0!==s&&4>s?s:4,e(!0);var a=xn.transition;xn.transition={};try{e(!1),t()}finally{ft=s,xn.transition=a}}function ei(){return Pn().memoizedState}function ti(e,t,s){var a=cd(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},ai(e))li(t,s);else if(null!==(s=Ur(e,t,s,a))){ud(s,e,a,dd()),ri(s,t,a)}}function si(e,t,s){var a=cd(e),l={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(ai(e))li(t,l);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var n=t.lastRenderedState,i=r(n,s);if(l.hasEagerState=!0,l.eagerState=i,ra(i,n)){var o=t.interleaved;return null===o?(l.next=l,qr(t)):(l.next=o.next,o.next=l),void(t.interleaved=l)}}catch(ma){}null!==(s=Ur(e,t,l,a))&&(ud(s,e,a,l=dd()),ri(s,t,a))}}function ai(e){var t=e.alternate;return e===pn||null!==t&&t===pn}function li(e,t){vn=fn=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ri(e,t,s){if(0!==(4194240&s)){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,gt(e,s)}}var ni={readContext:_r,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},ii={readContext:_r,useCallback:function(e,t){return kn().memoizedState=[e,void 0===t?null:t],e},useContext:_r,useEffect:Wn,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Un(4194308,4,Kn.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Un(4194308,4,e,t)},useInsertionEffect:function(e,t){return Un(4,2,e,t)},useMemo:function(e,t){var s=kn();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=kn();return t=void 0!==s?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ti.bind(null,pn,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},kn().memoizedState=e},useState:_n,useDebugValue:Gn,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=_n(!1),t=e[0];return e=Zn.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=pn,l=kn();if(mr){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===_o)throw Error(r(349));0!==(30&hn)||Ln(a,t,s)}l.memoizedState=s;var n={value:s,getSnapshot:t};return l.queue=n,Wn(On.bind(null,a,n,e),[e]),a.flags|=2048,zn(9,Rn.bind(null,a,n,s,t),void 0,null),s},useId:function(){var e=kn(),t=_o.identifierPrefix;if(mr){var s=rr;t=":"+t+"R"+(s=(lr&~(1<<32-rt(lr)-1)).toString(32)+s),0<(s=yn++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=wn++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oi={readContext:_r,useCallback:$n,useContext:_r,useEffect:Hn,useImperativeHandle:Qn,useInsertionEffect:Vn,useLayoutEffect:Jn,useMemo:Yn,useReducer:In,useRef:qn,useState:function(){return In(Tn)},useDebugValue:Gn,useDeferredValue:function(e){return Xn(Pn(),bn.memoizedState,e)},useTransition:function(){return[In(Tn)[0],Pn().memoizedState]},useMutableSource:En,useSyncExternalStore:An,useId:ei,unstable_isNewReconciler:!1},di={readContext:_r,useCallback:$n,useContext:_r,useEffect:Hn,useImperativeHandle:Qn,useInsertionEffect:Vn,useLayoutEffect:Jn,useMemo:Yn,useReducer:Dn,useRef:qn,useState:function(){return Dn(Tn)},useDebugValue:Gn,useDeferredValue:function(e){var t=Pn();return null===bn?t.memoizedState=e:Xn(t,bn.memoizedState,e)},useTransition:function(){return[Dn(Tn)[0],Pn().memoizedState]},useMutableSource:En,useSyncExternalStore:An,useId:ei,unstable_isNewReconciler:!1};function ci(e,t){if(e&&e.defaultProps){for(var s in t=F({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function ui(e,t,s,a){s=null===(s=s(a,t=e.memoizedState))||void 0===s?t:F({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=dd(),l=cd(e),r=Jr(a,l);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Kr(e,r,l))&&(ud(t,e,l,a),Qr(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=dd(),l=cd(e),r=Jr(a,l);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Kr(e,r,l))&&(ud(t,e,l,a),Qr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=dd(),a=cd(e),l=Jr(s,a);l.tag=2,void 0!==t&&null!==t&&(l.callback=t),null!==(t=Kr(e,l,a))&&(ud(t,e,a,s),Qr(t,e,a))}};function xi(e,t,s,a,l,r,n){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,n):!t.prototype||!t.prototype.isPureReactComponent||(!na(s,a)||!na(l,r))}function hi(e,t,s){var a=!1,l=Ol,r=t.contextType;return"object"===typeof r&&null!==r?r=_r(r):(l=ql(t)?_l:Ml.current,r=(a=null!==(a=t.contextTypes)&&void 0!==a)?zl(e,l):Ol),t=new t(s,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=r),t}function pi(e,t,s,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function bi(e,t,s,a){var l=e.stateNode;l.props=s,l.state=e.memoizedState,l.refs={},Hr(e);var r=t.contextType;"object"===typeof r&&null!==r?l.context=_r(r):(r=ql(t)?_l:Ml.current,l.context=zl(e,r)),l.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ui(e,t,r,s),l.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(t=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&mi.enqueueReplaceState(l,l.state,null),$r(e,s,l,a),l.state=e.memoizedState),"function"===typeof l.componentDidMount&&(e.flags|=4194308)}function gi(e,t){try{var s="",a=t;do{s+=U(a),a=a.return}while(a);var l=s}catch(wa){l="\nError generating stack: "+wa.message+"\n"+wa.stack}return{value:e,source:t,stack:l,digest:null}}function fi(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function vi(e,t){try{console.error(t.value)}catch(ba){setTimeout(function(){throw ba})}}var yi="function"===typeof WeakMap?WeakMap:Map;function wi(e,t,s){(s=Jr(-1,s)).tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Zo||(Zo=!0,ed=a),vi(0,t)},s}function ji(e,t,s){(s=Jr(-1,s)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var l=t.value;s.payload=function(){return a(l)},s.callback=function(){vi(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(s.callback=function(){vi(0,t),"function"!==typeof a&&(null===td?td=new Set([this]):td.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function Ni(e,t,s){var a=e.pingCache;if(null===a){a=e.pingCache=new yi;var l=new Set;a.set(t,l)}else void 0===(l=a.get(t))&&(l=new Set,a.set(t,l));l.has(s)||(l.add(s),e=Rd.bind(null,e,t,s),t.then(e,e))}function Si(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ci(e,t,s,a,l){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Jr(-1,1)).tag=2,Kr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var ki=y.ReactCurrentOwner,Pi=!1;function Ti(e,t,s,a){t.child=null===e?Ir(t,null,s,a):Tr(t,e.child,s,a)}function Ii(e,t,s,a,l){s=s.render;var r=t.ref;return Fr(t,l),a=Sn(e,t,s,a,r,l),s=Cn(),null===e||Pi?(mr&&s&&or(t),t.flags|=1,Ti(e,t,a,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Xi(e,t,l))}function Di(e,t,s,a,l){if(null===e){var r=s.type;return"function"!==typeof r||Ud(r)||void 0!==r.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Wd(s.type,null,a,t,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ei(e,t,r,a,l))}if(r=e.child,0===(e.lanes&l)){var n=r.memoizedProps;if((s=null!==(s=s.compare)?s:na)(n,a)&&e.ref===t.ref)return Xi(e,t,l)}return t.flags|=1,(e=Bd(r,a)).ref=t.ref,e.return=t,t.child=e}function Ei(e,t,s,a,l){if(null!==e){var r=e.memoizedProps;if(na(r,a)&&e.ref===t.ref){if(Pi=!1,t.pendingProps=a=r,0===(e.lanes&l))return t.lanes=e.lanes,Xi(e,t,l);0!==(131072&e.flags)&&(Pi=!0)}}return Ri(e,t,s,a,l)}function Ai(e,t,s){var a=t.pendingProps,l=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rl(Bo,Uo),Uo|=s;else{if(0===(1073741824&s))return e=null!==r?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rl(Bo,Uo),Uo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==r?r.baseLanes:s,Rl(Bo,Uo),Uo|=a}else null!==r?(a=r.baseLanes|s,t.memoizedState=null):a=s,Rl(Bo,Uo),Uo|=a;return Ti(e,t,l,s),t.child}function Li(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ri(e,t,s,a,l){var r=ql(s)?_l:Ml.current;return r=zl(t,r),Fr(t,l),s=Sn(e,t,s,a,r,l),a=Cn(),null===e||Pi?(mr&&a&&or(t),t.flags|=1,Ti(e,t,s,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Xi(e,t,l))}function Oi(e,t,s,a,l){if(ql(s)){var r=!0;Hl(t)}else r=!1;if(Fr(t,l),null===t.stateNode)Yi(e,t),hi(t,s,a),bi(t,s,a,l),a=!0;else if(null===e){var n=t.stateNode,i=t.memoizedProps;n.props=i;var o=n.context,d=s.contextType;"object"===typeof d&&null!==d?d=_r(d):d=zl(t,d=ql(s)?_l:Ml.current);var c=s.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof n.getSnapshotBeforeUpdate;u||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(i!==a||o!==d)&&pi(t,n,a,d),Wr=!1;var m=t.memoizedState;n.state=m,$r(t,a,n,l),o=t.memoizedState,i!==a||m!==o||Fl.current||Wr?("function"===typeof c&&(ui(t,s,c,a),o=t.memoizedState),(i=Wr||xi(t,s,i,a,m,o,d))?(u||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.flags|=4194308)):("function"===typeof n.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),n.props=a,n.state=o,n.context=d,a=i):("function"===typeof n.componentDidMount&&(t.flags|=4194308),a=!1)}else{n=t.stateNode,Vr(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:ci(t.type,i),n.props=d,u=t.pendingProps,m=n.context,"object"===typeof(o=s.contextType)&&null!==o?o=_r(o):o=zl(t,o=ql(s)?_l:Ml.current);var x=s.getDerivedStateFromProps;(c="function"===typeof x||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(i!==u||m!==o)&&pi(t,n,a,o),Wr=!1,m=t.memoizedState,n.state=m,$r(t,a,n,l);var h=t.memoizedState;i!==u||m!==h||Fl.current||Wr?("function"===typeof x&&(ui(t,s,x,a),h=t.memoizedState),(d=Wr||xi(t,s,d,a,m,h,o)||!1)?(c||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(a,h,o),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(a,h,o)),"function"===typeof n.componentDidUpdate&&(t.flags|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof n.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),n.props=a,n.state=h,n.context=o,a=d):("function"!==typeof n.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Mi(e,t,s,a,r,l)}function Mi(e,t,s,a,l,r){Li(e,t);var n=0!==(128&t.flags);if(!a&&!n)return l&&Vl(t,s,!1),Xi(e,t,r);a=t.stateNode,ki.current=t;var i=n&&"function"!==typeof s.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&n?(t.child=Tr(t,e.child,null,r),t.child=Tr(t,null,i,r)):Ti(e,t,i,r),t.memoizedState=a.state,l&&Vl(t,s,!0),t.child}function Fi(e){var t=e.stateNode;t.pendingContext?Bl(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Bl(0,t.context,!1),an(e,t.containerInfo)}function _i(e,t,s,a,l){return wr(),jr(l),t.flags|=256,Ti(e,t,s,a),t.child}var zi,qi,Ui,Bi,Wi={dehydrated:null,treeContext:null,retryLane:0};function Hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vi(e,t,s){var a,l=t.pendingProps,n=on.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&n)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(n|=1),Rl(on,1&n),null===e)return gr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=l.children,e=l.fallback,i?(l=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&l)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Vd(o,l,0,null),e=Hd(e,l,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hi(s),t.memoizedState=Wi,e):Ji(t,o));if(null!==(n=e.memoizedState)&&null!==(a=n.dehydrated))return function(e,t,s,a,l,n,i){if(s)return 256&t.flags?(t.flags&=-257,Ki(e,t,i,a=fi(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(n=a.fallback,l=t.mode,a=Vd({mode:"visible",children:a.children},l,0,null),(n=Hd(n,l,i,null)).flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,0!==(1&t.mode)&&Tr(t,e.child,null,i),t.child.memoizedState=Hi(i),t.memoizedState=Wi,n);if(0===(1&t.mode))return Ki(e,t,i,null);if("$!"===l.data){if(a=l.nextSibling&&l.nextSibling.dataset)var o=a.dgst;return a=o,Ki(e,t,i,a=fi(n=Error(r(419)),a,void 0))}if(o=0!==(i&e.childLanes),Pi||o){if(null!==(a=_o)){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}0!==(l=0!==(l&(a.suspendedLanes|i))?0:l)&&l!==n.retryLane&&(n.retryLane=l,Br(e,l),ud(a,e,l,-1))}return Sd(),Ki(e,t,i,a=fi(Error(r(421))))}return"$?"===l.data?(t.flags|=128,t.child=e.child,t=Md.bind(null,e),l._reactRetry=t,null):(e=n.treeContext,ur=gl(l.nextSibling),cr=t,mr=!0,xr=null,null!==e&&(tr[sr++]=lr,tr[sr++]=rr,tr[sr++]=ar,lr=e.id,rr=e.overflow,ar=t),t=Ji(t,a.children),t.flags|=4096,t)}(e,t,o,l,a,n,s);if(i){i=l.fallback,o=t.mode,a=(n=e.child).sibling;var d={mode:"hidden",children:l.children};return 0===(1&o)&&t.child!==n?((l=t.child).childLanes=0,l.pendingProps=d,t.deletions=null):(l=Bd(n,d)).subtreeFlags=14680064&n.subtreeFlags,null!==a?i=Bd(a,i):(i=Hd(i,o,s,null)).flags|=2,i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,o=null===(o=e.child.memoizedState)?Hi(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Wi,l}return e=(i=e.child).sibling,l=Bd(i,{mode:"visible",children:l.children}),0===(1&t.mode)&&(l.lanes=s),l.return=t,l.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=l,t.memoizedState=null,l}function Ji(e,t){return(t=Vd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,s,a){return null!==a&&jr(a),Tr(t,e.child,null,s),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qi(e,t,s){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Mr(e.return,t,s)}function Gi(e,t,s,a,l){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:l}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=s,r.tailMode=l)}function $i(e,t,s){var a=t.pendingProps,l=a.revealOrder,r=a.tail;if(Ti(e,t,a.children,s),0!==(2&(a=on.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,s,t);else if(19===e.tag)Qi(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Rl(on,a),0===(1&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(s=t.child,l=null;null!==s;)null!==(e=s.alternate)&&null===dn(e)&&(l=s),s=s.sibling;null===(s=l)?(l=t.child,t.child=null):(l=s.sibling,s.sibling=null),Gi(t,!1,l,s,r);break;case"backwards":for(s=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===dn(e)){t.child=l;break}e=l.sibling,l.sibling=s,s=l,l=e}Gi(t,!0,s,null,r);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Vo|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Bd(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Bd(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Zi(e,t){if(!mr)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function eo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,a=0;if(t)for(var l=e.child;null!==l;)s|=l.lanes|l.childLanes,a|=14680064&l.subtreeFlags,a|=14680064&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)s|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function to(e,t,s){var a=t.pendingProps;switch(dr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(t),null;case 1:case 17:return ql(t.type)&&Ul(),eo(t),null;case 3:return a=t.stateNode,ln(),Ll(Fl),Ll(Ml),un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(vr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==xr&&(pd(xr),xr=null))),qi(e,t),eo(t),null;case 5:nn(t);var l=sn(tn.current);if(s=t.type,null!==e&&null!=t.stateNode)Ui(e,t,s,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(r(166));return eo(t),null}if(e=sn(Zr.current),vr(t)){a=t.stateNode,s=t.type;var n=t.memoizedProps;switch(a[yl]=t,a[wl]=n,e=0!==(1&t.mode),s){case"dialog":Ja("cancel",a),Ja("close",a);break;case"iframe":case"object":case"embed":Ja("load",a);break;case"video":case"audio":for(l=0;l<Ua.length;l++)Ja(Ua[l],a);break;case"source":Ja("error",a);break;case"img":case"image":case"link":Ja("error",a),Ja("load",a);break;case"details":Ja("toggle",a);break;case"input":$(a,n),Ja("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!n.multiple},Ja("invalid",a);break;case"textarea":le(a,n),Ja("invalid",a)}for(var o in ge(s,n),l=null,n)if(n.hasOwnProperty(o)){var d=n[o];"children"===o?"string"===typeof d?a.textContent!==d&&(!0!==n.suppressHydrationWarning&&rl(a.textContent,d,e),l=["children",d]):"number"===typeof d&&a.textContent!==""+d&&(!0!==n.suppressHydrationWarning&&rl(a.textContent,d,e),l=["children",""+d]):i.hasOwnProperty(o)&&null!=d&&"onScroll"===o&&Ja("scroll",a)}switch(s){case"input":J(a),Z(a,n,!0);break;case"textarea":J(a),ne(a);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(a.onclick=nl)}a=l,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),"select"===s&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[yl]=t,e[wl]=a,zi(e,t,!1,!1),t.stateNode=e;e:{switch(o=fe(s,a),s){case"dialog":Ja("cancel",e),Ja("close",e),l=a;break;case"iframe":case"object":case"embed":Ja("load",e),l=a;break;case"video":case"audio":for(l=0;l<Ua.length;l++)Ja(Ua[l],e);l=a;break;case"source":Ja("error",e),l=a;break;case"img":case"image":case"link":Ja("error",e),Ja("load",e),l=a;break;case"details":Ja("toggle",e),l=a;break;case"input":$(e,a),l=G(e,a),Ja("invalid",e);break;case"option":default:l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=F({},a,{value:void 0}),Ja("invalid",e);break;case"textarea":le(e,a),l=ae(e,a),Ja("invalid",e)}for(n in ge(s,l),d=l)if(d.hasOwnProperty(n)){var c=d[n];"style"===n?pe(e,c):"dangerouslySetInnerHTML"===n?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===n?"string"===typeof c?("textarea"!==s||""!==c)&&ue(e,c):"number"===typeof c&&ue(e,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(i.hasOwnProperty(n)?null!=c&&"onScroll"===n&&Ja("scroll",e):null!=c&&v(e,n,c,o))}switch(s){case"input":J(e),Z(e,a,!1);break;case"textarea":J(e),ne(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(n=a.value)?se(e,!!a.multiple,n,!1):null!=a.defaultValue&&se(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=nl)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return eo(t),null;case 6:if(e&&null!=t.stateNode)Bi(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(s=sn(tn.current),sn(Zr.current),vr(t)){if(a=t.stateNode,s=t.memoizedProps,a[yl]=t,(n=a.nodeValue!==s)&&null!==(e=cr))switch(e.tag){case 3:rl(a.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rl(a.nodeValue,s,0!==(1&e.mode))}n&&(t.flags|=4)}else(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[yl]=t,t.stateNode=a}return eo(t),null;case 13:if(Ll(on),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(mr&&null!==ur&&0!==(1&t.mode)&&0===(128&t.flags))yr(),wr(),t.flags|=98560,n=!1;else if(n=vr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!n)throw Error(r(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(r(317));n[yl]=t}else wr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;eo(t),n=!1}else null!==xr&&(pd(xr),xr=null),n=!0;if(!n)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&on.current)?0===Wo&&(Wo=3):Sd())),null!==t.updateQueue&&(t.flags|=4),eo(t),null);case 4:return ln(),qi(e,t),null===e&&Ga(t.stateNode.containerInfo),eo(t),null;case 10:return Or(t.type._context),eo(t),null;case 19:if(Ll(on),null===(n=t.memoizedState))return eo(t),null;if(a=0!==(128&t.flags),null===(o=n.rendering))if(a)Zi(n,!1);else{if(0!==Wo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=dn(e))){for(t.flags|=128,Zi(n,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;null!==s;)e=a,(n=s).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,e=o.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Rl(on,1&on.current|2),t.child}e=e.sibling}null!==n.tail&&$e()>Yo&&(t.flags|=128,a=!0,Zi(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=dn(o))){if(t.flags|=128,a=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Zi(n,!0),null===n.tail&&"hidden"===n.tailMode&&!o.alternate&&!mr)return eo(t),null}else 2*$e()-n.renderingStartTime>Yo&&1073741824!==s&&(t.flags|=128,a=!0,Zi(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=n.last)?s.sibling=o:t.child=o,n.last=o)}return null!==n.tail?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=$e(),t.sibling=null,s=on.current,Rl(on,a?1&s|2:1&s),t):(eo(t),null);case 22:case 23:return yd(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Uo)&&(eo(t),6&t.subtreeFlags&&(t.flags|=8192)):eo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function so(e,t){switch(dr(t),t.tag){case 1:return ql(t.type)&&Ul(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ln(),Ll(Fl),Ll(Ml),un(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nn(t),null;case 13:if(Ll(on),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));wr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ll(on),null;case 4:return ln(),null;case 10:return Or(t.type._context),null;case 22:case 23:return yd(),null;default:return null}}zi=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},qi=function(){},Ui=function(e,t,s,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,sn(Zr.current);var r,n=null;switch(s){case"input":l=G(e,l),a=G(e,a),n=[];break;case"select":l=F({},l,{value:void 0}),a=F({},a,{value:void 0}),n=[];break;case"textarea":l=ae(e,l),a=ae(e,a),n=[];break;default:"function"!==typeof l.onClick&&"function"===typeof a.onClick&&(e.onclick=nl)}for(c in ge(s,a),s=null,l)if(!a.hasOwnProperty(c)&&l.hasOwnProperty(c)&&null!=l[c])if("style"===c){var o=l[c];for(r in o)o.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?n||(n=[]):(n=n||[]).push(c,null));for(c in a){var d=a[c];if(o=null!=l?l[c]:void 0,a.hasOwnProperty(c)&&d!==o&&(null!=d||null!=o))if("style"===c)if(o){for(r in o)!o.hasOwnProperty(r)||d&&d.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in d)d.hasOwnProperty(r)&&o[r]!==d[r]&&(s||(s={}),s[r]=d[r])}else s||(n||(n=[]),n.push(c,s)),s=d;else"dangerouslySetInnerHTML"===c?(d=d?d.__html:void 0,o=o?o.__html:void 0,null!=d&&o!==d&&(n=n||[]).push(c,d)):"children"===c?"string"!==typeof d&&"number"!==typeof d||(n=n||[]).push(c,""+d):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=d&&"onScroll"===c&&Ja("scroll",e),n||o===d||(n=[])):(n=n||[]).push(c,d))}s&&(n=n||[]).push("style",s);var c=n;(t.updateQueue=c)&&(t.flags|=4)}},Bi=function(e,t,s,a){s!==a&&(t.flags|=4)};var ao=!1,lo=!1,ro="function"===typeof WeakSet?WeakSet:Set,no=null;function io(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(ya){Ld(e,t,ya)}else s.current=null}function oo(e,t,s){try{s()}catch(ya){Ld(e,t,ya)}}var co=!1;function uo(e,t,s){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var l=a=a.next;do{if((l.tag&e)===e){var r=l.destroy;l.destroy=void 0,void 0!==r&&oo(t,s,r)}l=l.next}while(l!==a)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function xo(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function ho(e){var t=e.alternate;null!==t&&(e.alternate=null,ho(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[yl],delete t[wl],delete t[Nl],delete t[Sl],delete t[Cl])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function po(e){return 5===e.tag||3===e.tag||4===e.tag}function bo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||po(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=nl));else if(4!==a&&null!==(e=e.child))for(go(e,t,s),e=e.sibling;null!==e;)go(e,t,s),e=e.sibling}function fo(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==a&&null!==(e=e.child))for(fo(e,t,s),e=e.sibling;null!==e;)fo(e,t,s),e=e.sibling}var vo=null,yo=!1;function wo(e,t,s){for(s=s.child;null!==s;)jo(e,t,s),s=s.sibling}function jo(e,t,s){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(at,s)}catch(Na){}switch(s.tag){case 5:lo||io(s,t);case 6:var a=vo,l=yo;vo=null,wo(e,t,s),yo=l,null!==(vo=a)&&(yo?(e=vo,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):vo.removeChild(s.stateNode));break;case 18:null!==vo&&(yo?(e=vo,s=s.stateNode,8===e.nodeType?bl(e.parentNode,s):1===e.nodeType&&bl(e,s),Ut(e)):bl(vo,s.stateNode));break;case 4:a=vo,l=yo,vo=s.stateNode.containerInfo,yo=!0,wo(e,t,s),vo=a,yo=l;break;case 0:case 11:case 14:case 15:if(!lo&&(null!==(a=s.updateQueue)&&null!==(a=a.lastEffect))){l=a=a.next;do{var r=l,n=r.destroy;r=r.tag,void 0!==n&&(0!==(2&r)||0!==(4&r))&&oo(s,t,n),l=l.next}while(l!==a)}wo(e,t,s);break;case 1:if(!lo&&(io(s,t),"function"===typeof(a=s.stateNode).componentWillUnmount))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(Na){Ld(s,t,Na)}wo(e,t,s);break;case 21:wo(e,t,s);break;case 22:1&s.mode?(lo=(a=lo)||null!==s.memoizedState,wo(e,t,s),lo=a):wo(e,t,s);break;default:wo(e,t,s)}}function No(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new ro),t.forEach(function(t){var a=Fd.bind(null,e,t);s.has(t)||(s.add(t),t.then(a,a))})}}function So(e,t){var s=t.deletions;if(null!==s)for(var a=0;a<s.length;a++){var l=s[a];try{var n=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:vo=o.stateNode,yo=!1;break e;case 3:case 4:vo=o.stateNode.containerInfo,yo=!0;break e}o=o.return}if(null===vo)throw Error(r(160));jo(n,i,l),vo=null,yo=!1;var d=l.alternate;null!==d&&(d.return=null),l.return=null}catch(ma){Ld(l,t,ma)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Co(t,e),t=t.sibling}function Co(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(So(t,e),ko(e),4&a){try{uo(3,e,e.return),mo(3,e)}catch(ua){Ld(e,e.return,ua)}try{uo(5,e,e.return)}catch(ua){Ld(e,e.return,ua)}}break;case 1:So(t,e),ko(e),512&a&&null!==s&&io(s,s.return);break;case 5:if(So(t,e),ko(e),512&a&&null!==s&&io(s,s.return),32&e.flags){var l=e.stateNode;try{ue(l,"")}catch(ua){Ld(e,e.return,ua)}}if(4&a&&null!=(l=e.stateNode)){var n=e.memoizedProps,i=null!==s?s.memoizedProps:n,o=e.type,d=e.updateQueue;if(e.updateQueue=null,null!==d)try{"input"===o&&"radio"===n.type&&null!=n.name&&Y(l,n),fe(o,i);var c=fe(o,n);for(i=0;i<d.length;i+=2){var u=d[i],m=d[i+1];"style"===u?pe(l,m):"dangerouslySetInnerHTML"===u?ce(l,m):"children"===u?ue(l,m):v(l,u,m,c)}switch(o){case"input":X(l,n);break;case"textarea":re(l,n);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!n.multiple;var h=n.value;null!=h?se(l,!!n.multiple,h,!1):x!==!!n.multiple&&(null!=n.defaultValue?se(l,!!n.multiple,n.defaultValue,!0):se(l,!!n.multiple,n.multiple?[]:"",!1))}l[wl]=n}catch(ua){Ld(e,e.return,ua)}}break;case 6:if(So(t,e),ko(e),4&a){if(null===e.stateNode)throw Error(r(162));l=e.stateNode,n=e.memoizedProps;try{l.nodeValue=n}catch(ua){Ld(e,e.return,ua)}}break;case 3:if(So(t,e),ko(e),4&a&&null!==s&&s.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(ua){Ld(e,e.return,ua)}break;case 4:default:So(t,e),ko(e);break;case 13:So(t,e),ko(e),8192&(l=e.child).flags&&(n=null!==l.memoizedState,l.stateNode.isHidden=n,!n||null!==l.alternate&&null!==l.alternate.memoizedState||($o=$e())),4&a&&No(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(lo=(c=lo)||u,So(t,e),lo=c):So(t,e),ko(e),8192&a){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(no=e,u=e.child;null!==u;){for(m=no=u;null!==no;){switch(h=(x=no).child,x.tag){case 0:case 11:case 14:case 15:uo(4,x,x.return);break;case 1:io(x,x.return);var p=x.stateNode;if("function"===typeof p.componentWillUnmount){a=x,s=x.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(ua){Ld(a,s,ua)}}break;case 5:io(x,x.return);break;case 22:if(null!==x.memoizedState){Do(m);continue}}null!==h?(h.return=x,no=h):Do(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{l=m.stateNode,c?"function"===typeof(n=l.style).setProperty?n.setProperty("display","none","important"):n.display="none":(o=m.stateNode,i=void 0!==(d=m.memoizedProps.style)&&null!==d&&d.hasOwnProperty("display")?d.display:null,o.style.display=he("display",i))}catch(ua){Ld(e,e.return,ua)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(ua){Ld(e,e.return,ua)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:So(t,e),ko(e),4&a&&No(e);case 21:}}function ko(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(po(s)){var a=s;break e}s=s.return}throw Error(r(160))}switch(a.tag){case 5:var l=a.stateNode;32&a.flags&&(ue(l,""),a.flags&=-33),fo(e,bo(e),l);break;case 3:case 4:var n=a.stateNode.containerInfo;go(e,bo(e),n);break;default:throw Error(r(161))}}catch(Ha){Ld(e,e.return,Ha)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Po(e,t,s){no=e,To(e,t,s)}function To(e,t,s){for(var a=0!==(1&e.mode);null!==no;){var l=no,r=l.child;if(22===l.tag&&a){var n=null!==l.memoizedState||ao;if(!n){var i=l.alternate,o=null!==i&&null!==i.memoizedState||lo;i=ao;var d=lo;if(ao=n,(lo=o)&&!d)for(no=l;null!==no;)o=(n=no).child,22===n.tag&&null!==n.memoizedState?Eo(l):null!==o?(o.return=n,no=o):Eo(l);for(;null!==r;)no=r,To(r,t,s),r=r.sibling;no=l,ao=i,lo=d}Io(e)}else 0!==(8772&l.subtreeFlags)&&null!==r?(r.return=l,no=r):Io(e)}}function Io(e){for(;null!==no;){var t=no;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:lo||mo(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!lo)if(null===s)a.componentDidMount();else{var l=t.elementType===t.type?s.memoizedProps:ci(t.type,s.memoizedProps);a.componentDidUpdate(l,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var n=t.updateQueue;null!==n&&Yr(t,n,a);break;case 3:var i=t.updateQueue;if(null!==i){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Yr(t,i,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(r(163))}lo||512&t.flags&&xo(t)}catch(x){Ld(t,t.return,x)}}if(t===e){no=null;break}if(null!==(s=t.sibling)){s.return=t.return,no=s;break}no=t.return}}function Do(e){for(;null!==no;){var t=no;if(t===e){no=null;break}var s=t.sibling;if(null!==s){s.return=t.return,no=s;break}no=t.return}}function Eo(e){for(;null!==no;){var t=no;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{mo(4,t)}catch(Ha){Ld(t,s,Ha)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var l=t.return;try{a.componentDidMount()}catch(Ha){Ld(t,l,Ha)}}var r=t.return;try{xo(t)}catch(Ha){Ld(t,r,Ha)}break;case 5:var n=t.return;try{xo(t)}catch(Ha){Ld(t,n,Ha)}}}catch(Ha){Ld(t,t.return,Ha)}if(t===e){no=null;break}var i=t.sibling;if(null!==i){i.return=t.return,no=i;break}no=t.return}}var Ao,Lo=Math.ceil,Ro=y.ReactCurrentDispatcher,Oo=y.ReactCurrentOwner,Mo=y.ReactCurrentBatchConfig,Fo=0,_o=null,zo=null,qo=0,Uo=0,Bo=Al(0),Wo=0,Ho=null,Vo=0,Jo=0,Ko=0,Qo=null,Go=null,$o=0,Yo=1/0,Xo=null,Zo=!1,ed=null,td=null,sd=!1,ad=null,ld=0,rd=0,nd=null,id=-1,od=0;function dd(){return 0!==(6&Fo)?$e():-1!==id?id:id=$e()}function cd(e){return 0===(1&e.mode)?1:0!==(2&Fo)&&0!==qo?qo&-qo:null!==Nr.transition?(0===od&&(od=ht()),od):0!==(e=ft)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function ud(e,t,s,a){if(50<rd)throw rd=0,nd=null,Error(r(185));bt(e,s,a),0!==(2&Fo)&&e===_o||(e===_o&&(0===(2&Fo)&&(Jo|=s),4===Wo&&bd(e,qo)),md(e,a),1===s&&0===Fo&&0===(1&t.mode)&&(Yo=$e()+500,Kl&&$l()))}function md(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,r=e.pendingLanes;0<r;){var n=31-rt(r),i=1<<n,o=l[n];-1===o?0!==(i&s)&&0===(i&a)||(l[n]=mt(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}}(e,t);var a=ut(e,e===_o?qo:0);if(0===a)null!==s&&Ke(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=s&&Ke(s),1===t)0===e.tag?function(e){Kl=!0,Gl(e)}(gd.bind(null,e)):Gl(gd.bind(null,e)),hl(function(){0===(6&Fo)&&$l()}),s=null;else{switch(vt(a)){case 1:s=Xe;break;case 4:s=Ze;break;case 16:default:s=et;break;case 536870912:s=st}s=_d(s,xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function xd(e,t){if(id=-1,od=0,0!==(6&Fo))throw Error(r(327));var s=e.callbackNode;if(Ed()&&e.callbackNode!==s)return null;var a=ut(e,e===_o?qo:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=Cd(e,a);else{t=a;var l=Fo;Fo|=2;var n=Nd();for(_o===e&&qo===t||(Xo=null,Yo=$e()+500,wd(e,t));;)try{Pd();break}catch(Na){jd(e,Na)}Rr(),Ro.current=n,Fo=l,null!==zo?t=0:(_o=null,qo=0,t=Wo)}if(0!==t){if(2===t&&(0!==(l=xt(e))&&(a=l,t=hd(e,l))),1===t)throw s=Ho,wd(e,0),bd(e,a),md(e,$e()),s;if(6===t)bd(e,a);else{if(l=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var a=0;a<s.length;a++){var l=s[a],r=l.getSnapshot;l=l.value;try{if(!ra(r(),l))return!1}catch(i){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(l)&&(2===(t=Cd(e,a))&&(0!==(n=xt(e))&&(a=n,t=hd(e,n))),1===t))throw s=Ho,wd(e,0),bd(e,a),md(e,$e()),s;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(r(345));case 2:case 5:Dd(e,Go,Xo);break;case 3:if(bd(e,a),(130023424&a)===a&&10<(t=$o+500-$e())){if(0!==ut(e,0))break;if(((l=e.suspendedLanes)&a)!==a){dd(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ul(Dd.bind(null,e,Go,Xo),t);break}Dd(e,Go,Xo);break;case 4:if(bd(e,a),(4194240&a)===a)break;for(t=e.eventTimes,l=-1;0<a;){var i=31-rt(a);n=1<<i,(i=t[i])>l&&(l=i),a&=~n}if(a=l,10<(a=(120>(a=$e()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Lo(a/1960))-a)){e.timeoutHandle=ul(Dd.bind(null,e,Go,Xo),a);break}Dd(e,Go,Xo);break;default:throw Error(r(329))}}}return md(e,$e()),e.callbackNode===s?xd.bind(null,e):null}function hd(e,t){var s=Qo;return e.current.memoizedState.isDehydrated&&(wd(e,t).flags|=256),2!==(e=Cd(e,t))&&(t=Go,Go=s,null!==t&&pd(t)),e}function pd(e){null===Go?Go=e:Go.push.apply(Go,e)}function bd(e,t){for(t&=~Ko,t&=~Jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-rt(t),a=1<<s;e[s]=-1,t&=~a}}function gd(e){if(0!==(6&Fo))throw Error(r(327));Ed();var t=ut(e,0);if(0===(1&t))return md(e,$e()),null;var s=Cd(e,t);if(0!==e.tag&&2===s){var a=xt(e);0!==a&&(t=a,s=hd(e,a))}if(1===s)throw s=Ho,wd(e,0),bd(e,t),md(e,$e()),s;if(6===s)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dd(e,Go,Xo),md(e,$e()),null}function fd(e,t){var s=Fo;Fo|=1;try{return e(t)}finally{0===(Fo=s)&&(Yo=$e()+500,Kl&&$l())}}function vd(e){null!==ad&&0===ad.tag&&0===(6&Fo)&&Ed();var t=Fo;Fo|=1;var s=Mo.transition,a=ft;try{if(Mo.transition=null,ft=1,e)return e()}finally{ft=a,Mo.transition=s,0===(6&(Fo=t))&&$l()}}function yd(){Uo=Bo.current,Ll(Bo)}function wd(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,ml(s)),null!==zo)for(s=zo.return;null!==s;){var a=s;switch(dr(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ul();break;case 3:ln(),Ll(Fl),Ll(Ml),un();break;case 5:nn(a);break;case 4:ln();break;case 13:case 19:Ll(on);break;case 10:Or(a.type._context);break;case 22:case 23:yd()}s=s.return}if(_o=e,zo=e=Bd(e.current,null),qo=Uo=t,Wo=0,Ho=null,Ko=Jo=Vo=0,Go=Qo=null,null!==zr){for(t=0;t<zr.length;t++)if(null!==(a=(s=zr[t]).interleaved)){s.interleaved=null;var l=a.next,r=s.pending;if(null!==r){var n=r.next;r.next=l,a.next=n}s.pending=a}zr=null}return e}function jd(e,t){for(;;){var s=zo;try{if(Rr(),mn.current=ni,fn){for(var a=pn.memoizedState;null!==a;){var l=a.queue;null!==l&&(l.pending=null),a=a.next}fn=!1}if(hn=0,gn=bn=pn=null,vn=!1,yn=0,Oo.current=null,null===s||null===s.return){Wo=1,Ho=t,zo=null;break}e:{var n=e,i=s.return,o=s,d=t;if(t=qo,o.flags|=32768,null!==d&&"object"===typeof d&&"function"===typeof d.then){var c=d,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Si(i);if(null!==h){h.flags&=-257,Ci(h,i,o,0,t),1&h.mode&&Ni(n,c,t),d=c;var p=(t=h).updateQueue;if(null===p){var b=new Set;b.add(d),t.updateQueue=b}else p.add(d);break e}if(0===(1&t)){Ni(n,c,t),Sd();break e}d=Error(r(426))}else if(mr&&1&o.mode){var g=Si(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ci(g,i,o,0,t),jr(gi(d,o));break e}}n=d=gi(d,o),4!==Wo&&(Wo=2),null===Qo?Qo=[n]:Qo.push(n),n=i;do{switch(n.tag){case 3:n.flags|=65536,t&=-t,n.lanes|=t,Gr(n,wi(0,d,t));break e;case 1:o=d;var f=n.type,v=n.stateNode;if(0===(128&n.flags)&&("function"===typeof f.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===td||!td.has(v)))){n.flags|=65536,t&=-t,n.lanes|=t,Gr(n,ji(n,o,t));break e}}n=n.return}while(null!==n)}Id(s)}catch(y){t=y,zo===s&&null!==s&&(zo=s=s.return);continue}break}}function Nd(){var e=Ro.current;return Ro.current=ni,null===e?ni:e}function Sd(){0!==Wo&&3!==Wo&&2!==Wo||(Wo=4),null===_o||0===(268435455&Vo)&&0===(268435455&Jo)||bd(_o,qo)}function Cd(e,t){var s=Fo;Fo|=2;var a=Nd();for(_o===e&&qo===t||(Xo=null,wd(e,t));;)try{kd();break}catch(ca){jd(e,ca)}if(Rr(),Fo=s,Ro.current=a,null!==zo)throw Error(r(261));return _o=null,qo=0,Wo}function kd(){for(;null!==zo;)Td(zo)}function Pd(){for(;null!==zo&&!Qe();)Td(zo)}function Td(e){var t=Ao(e.alternate,e,Uo);e.memoizedProps=e.pendingProps,null===t?Id(e):zo=t,Oo.current=null}function Id(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=to(s,t,Uo)))return void(zo=s)}else{if(null!==(s=so(s,t)))return s.flags&=32767,void(zo=s);if(null===e)return Wo=6,void(zo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zo=t);zo=t=e}while(null!==t);0===Wo&&(Wo=5)}function Dd(e,t,s){var a=ft,l=Mo.transition;try{Mo.transition=null,ft=1,function(e,t,s,a){do{Ed()}while(null!==ad);if(0!==(6&Fo))throw Error(r(327));s=e.finishedWork;var l=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var n=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var l=31-rt(s),r=1<<l;t[l]=0,a[l]=-1,e[l]=-1,s&=~r}}(e,n),e===_o&&(zo=_o=null,qo=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||sd||(sd=!0,_d(et,function(){return Ed(),null})),n=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||n){n=Mo.transition,Mo.transition=null;var i=ft;ft=1;var o=Fo;Fo|=4,Oo.current=null,function(e,t){if(ol=Wt,pa(e=ha())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var l=a.anchorOffset,n=a.focusNode;a=a.focusOffset;try{s.nodeType,n.nodeType}catch(il){s=null;break e}var i=0,o=-1,d=-1,c=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||0!==l&&3!==m.nodeType||(o=i+l),m!==n||0!==a&&3!==m.nodeType||(d=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++c===l&&(o=i),x===n&&++u===a&&(d=i),null!==(h=m.nextSibling))break;x=(m=x).parentNode}m=h}s=-1===o||-1===d?null:{start:o,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(dl={focusedElem:e,selectionRange:s},Wt=!1,no=t;null!==no;)if(e=(t=no).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,no=e;else for(;null!==no;){t=no;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var b=p.memoizedProps,g=p.memoizedState,f=t.stateNode,v=f.getSnapshotBeforeUpdate(t.elementType===t.type?b:ci(t.type,b),g);f.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(il){Ld(t,t.return,il)}if(null!==(e=t.sibling)){e.return=t.return,no=e;break}no=t.return}p=co,co=!1}(e,s),Co(s,e),ga(dl),Wt=!!ol,dl=ol=null,e.current=s,Po(s,e,l),Ge(),Fo=o,ft=i,Mo.transition=n}else e.current=s;if(sd&&(sd=!1,ad=e,ld=l),n=e.pendingLanes,0===n&&(td=null),function(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),md(e,$e()),null!==t)for(a=e.onRecoverableError,s=0;s<t.length;s++)l=t[s],a(l.value,{componentStack:l.stack,digest:l.digest});if(Zo)throw Zo=!1,e=ed,ed=null,e;0!==(1&ld)&&0!==e.tag&&Ed(),n=e.pendingLanes,0!==(1&n)?e===nd?rd++:(rd=0,nd=e):rd=0,$l()}(e,t,s,a)}finally{Mo.transition=l,ft=a}return null}function Ed(){if(null!==ad){var e=vt(ld),t=Mo.transition,s=ft;try{if(Mo.transition=null,ft=16>e?16:e,null===ad)var a=!1;else{if(e=ad,ad=null,ld=0,0!==(6&Fo))throw Error(r(331));var l=Fo;for(Fo|=4,no=e.current;null!==no;){var n=no,i=n.child;if(0!==(16&no.flags)){var o=n.deletions;if(null!==o){for(var d=0;d<o.length;d++){var c=o[d];for(no=c;null!==no;){var u=no;switch(u.tag){case 0:case 11:case 15:uo(8,u,n)}var m=u.child;if(null!==m)m.return=u,no=m;else for(;null!==no;){var x=(u=no).sibling,h=u.return;if(ho(u),u===c){no=null;break}if(null!==x){x.return=h,no=x;break}no=h}}}var p=n.alternate;if(null!==p){var b=p.child;if(null!==b){p.child=null;do{var g=b.sibling;b.sibling=null,b=g}while(null!==b)}}no=n}}if(0!==(2064&n.subtreeFlags)&&null!==i)i.return=n,no=i;else e:for(;null!==no;){if(0!==(2048&(n=no).flags))switch(n.tag){case 0:case 11:case 15:uo(9,n,n.return)}var f=n.sibling;if(null!==f){f.return=n.return,no=f;break e}no=n.return}}var v=e.current;for(no=v;null!==no;){var y=(i=no).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,no=y;else e:for(i=v;null!==no;){if(0!==(2048&(o=no).flags))try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(j){Ld(o,o.return,j)}if(o===i){no=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,no=w;break e}no=o.return}}if(Fo=l,$l(),lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(at,e)}catch(j){}a=!0}return a}finally{ft=s,Mo.transition=t}}return!1}function Ad(e,t,s){e=Kr(e,t=wi(0,t=gi(s,t),1),1),t=dd(),null!==e&&(bt(e,1,t),md(e,t))}function Ld(e,t,s){if(3===e.tag)Ad(e,e,s);else for(;null!==t;){if(3===t.tag){Ad(t,e,s);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===td||!td.has(a))){t=Kr(t,e=ji(t,e=gi(s,e),1),1),e=dd(),null!==t&&(bt(t,1,e),md(t,e));break}}t=t.return}}function Rd(e,t,s){var a=e.pingCache;null!==a&&a.delete(t),t=dd(),e.pingedLanes|=e.suspendedLanes&s,_o===e&&(qo&s)===s&&(4===Wo||3===Wo&&(130023424&qo)===qo&&500>$e()-$o?wd(e,0):Ko|=s),md(e,t)}function Od(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=dd();null!==(e=Br(e,t))&&(bt(e,t,s),md(e,s))}function Md(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Od(e,s)}function Fd(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;null!==l&&(s=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}null!==a&&a.delete(t),Od(e,s)}function _d(e,t){return Je(e,t)}function zd(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qd(e,t,s,a){return new zd(e,t,s,a)}function Ud(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bd(e,t){var s=e.alternate;return null===s?((s=qd(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Wd(e,t,s,a,l,n){var i=2;if(a=e,"function"===typeof e)Ud(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Hd(s.children,l,n,t);case S:i=8,l|=8;break;case C:return(e=qd(12,s,t,2|l)).elementType=C,e.lanes=n,e;case I:return(e=qd(13,s,t,l)).elementType=I,e.lanes=n,e;case D:return(e=qd(19,s,t,l)).elementType=D,e.lanes=n,e;case L:return Vd(s,l,n,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:i=10;break e;case P:i=9;break e;case T:i=11;break e;case E:i=14;break e;case A:i=16,a=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=qd(i,s,t,l)).elementType=e,t.type=a,t.lanes=n,t}function Hd(e,t,s,a){return(e=qd(7,e,a,t)).lanes=s,e}function Vd(e,t,s,a){return(e=qd(22,e,a,t)).elementType=L,e.lanes=s,e.stateNode={isHidden:!1},e}function Jd(e,t,s){return(e=qd(6,e,null,t)).lanes=s,e}function Kd(e,t,s){return(t=qd(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qd(e,t,s,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Gd(e,t,s,a,l,r,n,i,o){return e=new Qd(e,t,s,i,o),1===t?(t=1,!0===r&&(t|=8)):t=0,r=qd(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hr(r),e}function $d(e){if(!e)return Ol;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ql(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var s=e.type;if(ql(s))return Wl(e,s,t)}return t}function Yd(e,t,s,a,l,r,n,i,o){return(e=Gd(s,a,!0,e,0,r,0,i,o)).context=$d(null),s=e.current,(r=Jr(a=dd(),l=cd(s))).callback=void 0!==t&&null!==t?t:null,Kr(s,r,l),e.current.lanes=l,bt(e,l,a),md(e,a),e}function Xd(e,t,s,a){var l=t.current,r=dd(),n=cd(l);return s=$d(s),null===t.context?t.context=s:t.pendingContext=s,(t=Jr(r,n)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Kr(l,t,n))&&(ud(e,l,n,r),Qr(e,l,n)),n}function Zd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ec(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function tc(e,t){ec(e,t),(e=e.alternate)&&ec(e,t)}Ao=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fl.current)Pi=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return Pi=!1,function(e,t,s){switch(t.tag){case 3:Fi(t),wr();break;case 5:rn(t);break;case 1:ql(t.type)&&Hl(t);break;case 4:an(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;Rl(Dr,a._currentValue),a._currentValue=l;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Rl(on,1&on.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Vi(e,t,s):(Rl(on,1&on.current),null!==(e=Xi(e,t,s))?e.sibling:null);Rl(on,1&on.current);break;case 19:if(a=0!==(s&t.childLanes),0!==(128&e.flags)){if(a)return $i(e,t,s);t.flags|=128}if(null!==(l=t.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),Rl(on,on.current),a)break;return null;case 22:case 23:return t.lanes=0,Ai(e,t,s)}return Xi(e,t,s)}(e,t,s);Pi=0!==(131072&e.flags)}else Pi=!1,mr&&0!==(1048576&t.flags)&&ir(t,er,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Yi(e,t),e=t.pendingProps;var l=zl(t,Ml.current);Fr(t,s),l=Sn(null,t,a,e,l,s);var n=Cn();return t.flags|=1,"object"===typeof l&&null!==l&&"function"===typeof l.render&&void 0===l.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ql(a)?(n=!0,Hl(t)):n=!1,t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,Hr(t),l.updater=mi,t.stateNode=l,l._reactInternals=t,bi(t,a,e,s),t=Mi(null,t,a,!0,n,s)):(t.tag=0,mr&&n&&or(t),Ti(null,t,l,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,a=(l=a._init)(a._payload),t.type=a,l=t.tag=function(e){if("function"===typeof e)return Ud(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===E)return 14}return 2}(a),e=ci(a,e),l){case 0:t=Ri(null,t,a,e,s);break e;case 1:t=Oi(null,t,a,e,s);break e;case 11:t=Ii(null,t,a,e,s);break e;case 14:t=Di(null,t,a,ci(a.type,e),s);break e}throw Error(r(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,Ri(e,t,a,l=t.elementType===a?l:ci(a,l),s);case 1:return a=t.type,l=t.pendingProps,Oi(e,t,a,l=t.elementType===a?l:ci(a,l),s);case 3:e:{if(Fi(t),null===e)throw Error(r(387));a=t.pendingProps,l=(n=t.memoizedState).element,Vr(e,t),$r(t,a,null,s);var i=t.memoizedState;if(a=i.element,n.isDehydrated){if(n={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=n,t.memoizedState=n,256&t.flags){t=_i(e,t,a,s,l=gi(Error(r(423)),t));break e}if(a!==l){t=_i(e,t,a,s,l=gi(Error(r(424)),t));break e}for(ur=gl(t.stateNode.containerInfo.firstChild),cr=t,mr=!0,xr=null,s=Ir(t,null,a,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(wr(),a===l){t=Xi(e,t,s);break e}Ti(e,t,a,s)}t=t.child}return t;case 5:return rn(t),null===e&&gr(t),a=t.type,l=t.pendingProps,n=null!==e?e.memoizedProps:null,i=l.children,cl(a,l)?i=null:null!==n&&cl(a,n)&&(t.flags|=32),Li(e,t),Ti(e,t,i,s),t.child;case 6:return null===e&&gr(t),null;case 13:return Vi(e,t,s);case 4:return an(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Tr(t,null,a,s):Ti(e,t,a,s),t.child;case 11:return a=t.type,l=t.pendingProps,Ii(e,t,a,l=t.elementType===a?l:ci(a,l),s);case 7:return Ti(e,t,t.pendingProps,s),t.child;case 8:case 12:return Ti(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,n=t.memoizedProps,i=l.value,Rl(Dr,a._currentValue),a._currentValue=i,null!==n)if(ra(n.value,i)){if(n.children===l.children&&!Fl.current){t=Xi(e,t,s);break e}}else for(null!==(n=t.child)&&(n.return=t);null!==n;){var o=n.dependencies;if(null!==o){i=n.child;for(var d=o.firstContext;null!==d;){if(d.context===a){if(1===n.tag){(d=Jr(-1,s&-s)).tag=2;var c=n.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}n.lanes|=s,null!==(d=n.alternate)&&(d.lanes|=s),Mr(n.return,s,t),o.lanes|=s;break}d=d.next}}else if(10===n.tag)i=n.type===t.type?null:n.child;else if(18===n.tag){if(null===(i=n.return))throw Error(r(341));i.lanes|=s,null!==(o=i.alternate)&&(o.lanes|=s),Mr(i,s,t),i=n.sibling}else i=n.child;if(null!==i)i.return=n;else for(i=n;null!==i;){if(i===t){i=null;break}if(null!==(n=i.sibling)){n.return=i.return,i=n;break}i=i.return}n=i}Ti(e,t,l.children,s),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,Fr(t,s),a=a(l=_r(l)),t.flags|=1,Ti(e,t,a,s),t.child;case 14:return l=ci(a=t.type,t.pendingProps),Di(e,t,a,l=ci(a.type,l),s);case 15:return Ei(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:ci(a,l),Yi(e,t),t.tag=1,ql(a)?(e=!0,Hl(t)):e=!1,Fr(t,s),hi(t,a,l),bi(t,a,l,s),Mi(null,t,a,!0,e,s);case 19:return $i(e,t,s);case 22:return Ai(e,t,s)}throw Error(r(156,t.tag))};var sc="function"===typeof reportError?reportError:function(e){console.error(e)};function ac(e){this._internalRoot=e}function lc(e){this._internalRoot=e}function rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(){}function oc(e,t,s,a,l){var r=s._reactRootContainer;if(r){var n=r;if("function"===typeof l){var i=l;l=function(){var e=Zd(n);i.call(e)}}Xd(t,n,e,l)}else n=function(e,t,s,a,l){if(l){if("function"===typeof a){var r=a;a=function(){var e=Zd(n);r.call(e)}}var n=Yd(t,a,e,0,null,!1,0,"",ic);return e._reactRootContainer=n,e[jl]=n.current,Ga(8===e.nodeType?e.parentNode:e),vd(),n}for(;l=e.lastChild;)e.removeChild(l);if("function"===typeof a){var i=a;a=function(){var e=Zd(o);i.call(e)}}var o=Gd(e,0,!1,null,0,!1,0,"",ic);return e._reactRootContainer=o,e[jl]=o.current,Ga(8===e.nodeType?e.parentNode:e),vd(function(){Xd(t,o,s,a)}),o}(s,t,e,l,a);return Zd(n)}lc.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Xd(e,t,null,null)},lc.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vd(function(){Xd(null,e,null,null)}),t[jl]=null}},lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<At.length&&0!==t&&t<At[s].priority;s++);At.splice(s,0,e),0===s&&Mt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ct(t.pendingLanes);0!==s&&(gt(t,1|s),md(t,$e()),0===(6&Fo)&&(Yo=$e()+500,$l()))}break;case 13:vd(function(){var t=Br(e,1);if(null!==t){var s=dd();ud(t,e,1,s)}}),tc(e,1)}},wt=function(e){if(13===e.tag){var t=Br(e,134217728);if(null!==t)ud(t,e,134217728,dd());tc(e,134217728)}},jt=function(e){if(13===e.tag){var t=cd(e),s=Br(e,t);if(null!==s)ud(s,e,t,dd());tc(e,t)}},Nt=function(){return ft},St=function(e,t){var s=ft;try{return ft=e,t()}finally{ft=s}},we=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var l=Il(a);if(!l)throw Error(r(90));K(a),X(a,l)}}}break;case"textarea":re(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Pe=fd,Te=vd;var dc={usingClientEntryPoint:!1,Events:[Pl,Tl,Il,Ce,ke,fd]},cc={findFiberByHostInstance:kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{at=mc.inject(uc),lt=mc}catch(xa){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dc,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rc(t))throw Error(r(200));return function(e,t,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!rc(e))throw Error(r(299));var s=!1,a="",l=sc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=Gd(e,1,!1,null,0,s,0,a,l),e[jl]=t.current,Ga(8===e.nodeType?e.parentNode:e),new ac(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return vd(e)},t.hydrate=function(e,t,s){if(!nc(t))throw Error(r(200));return oc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!rc(e))throw Error(r(405));var a=null!=s&&s.hydratedSources||null,l=!1,n="",i=sc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(l=!0),void 0!==s.identifierPrefix&&(n=s.identifierPrefix),void 0!==s.onRecoverableError&&(i=s.onRecoverableError)),t=Yd(t,null,e,1,null!=s?s:null,l,0,n,i),e[jl]=t.current,Ga(e),a)for(e=0;e<a.length;e++)l=(l=(s=a[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,l]:t.mutableSourceEagerHydrationData.push(s,l);return new lc(t)},t.render=function(e,t,s){if(!nc(t))throw Error(r(200));return oc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(r(40));return!!e._reactRootContainer&&(vd(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[jl]=null})}),!0)},t.unstable_batchedUpdates=fd,t.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!nc(s))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return oc(e,t,s,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{e.exports=s(234)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}var a=s(43),l=s(391);function r(e,t){if(null==e)return{};var s,a,l=function(e,t){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function o(e,t,s){return(t=i(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach(function(t){o(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}const u=["sri"],m=["page"],x=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],b=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function f(){return C(function(e,t){let{pathname:s,search:a,hash:l}=e.location;return j("",{pathname:s,search:a,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:N(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ca){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:s,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function N(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function S(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function C(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:l=document.defaultView,v5Compat:r=!1}=a,n=l.history,i="POP",o=null,d=u();function u(){return(n.state||{idx:null}).idx}function m(){i="POP";let e=u(),t=null==e?null:e-d;d=e,o&&o({action:i,location:h.location,delta:t})}function x(e){return k(e)}null==d&&(d=0,n.replaceState(c(c({},n.state),{},{idx:d}),""));let h={get action(){return i},get location(){return e(l,n)},listen(e){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(g,m),o=e,()=>{l.removeEventListener(g,m),o=null}},createHref:e=>t(l,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i="PUSH";let a=j(h.location,e,t);s&&s(a,e),d=u()+1;let c=w(a,d),m=h.createHref(a);try{n.pushState(c,"",m)}catch(x){if(x instanceof DOMException&&"DataCloneError"===x.name)throw x;l.location.assign(m)}r&&o&&o({action:i,location:h.location,delta:1})},replace:function(e,t){i="REPLACE";let a=j(h.location,e,t);s&&s(a,e),d=u();let l=w(a,d),c=h.createHref(a);n.replaceState(l,"",c),r&&o&&o({action:i,location:h.location,delta:0})},go:e=>n.go(e)};return h}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s="http://localhost";"undefined"!==typeof window&&(s="null"!==window.location.origin?window.location.origin:window.location.href),v(s,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:N(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}new WeakMap;function P(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,s,a){let l=W(("string"===typeof t?S(t):t).pathname||"/",s);if(null==l)return null;let r=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let n=null;for(let i=0;null==n&&i<r.length;++i){let e=B(l);n=z(r[i],e,a)}return n}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,i=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(a)&&n)return;v(o.relativePath.startsWith(a),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(a.length)}let d=Q([a,o.relativePath]),c=s.concat(o);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(d,'".')),I(e.children,t,c,d,n)),(null!=e.path||e.index)&&t.push({path:d,score:_(d,e.index),routesMeta:c})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!==(s=e.path)&&void 0!==s&&s.includes("?"))for(let a of D(e.path))r(e,t,!0,a);else r(e,t)}),t}function D(e){let t=e.split("/");if(0===t.length)return[];let[s,...a]=t,l=s.endsWith("?"),r=s.replace(/\?$/,"");if(0===a.length)return l?[r,""]:[r];let n=D(a.join("/")),i=[];return i.push(...n.map(e=>""===e?r:[r,e].join("/"))),l&&i.push(...n),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var E=/^:[\w-]+$/,A=3,L=2,R=1,O=10,M=-2,F=e=>"*"===e;function _(e,t){let s=e.split("/"),a=s.length;return s.some(F)&&(a+=M),t&&(a+=L),s.filter(e=>!F(e)).reduce((e,t)=>e+(E.test(t)?A:""===t?R:O),a)}function z(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,l={},r="/",n=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,d="/"===r?t:t.slice(r.length)||"/",c=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},d),u=e.route;if(!c&&o&&s&&!a[a.length-1].route.index&&(c=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},d)),!c)return null;Object.assign(l,c.params),n.push({params:l,pathname:Q([r,c.pathname]),pathnameBase:G(Q([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=Q([r,c.pathnameBase]))}return n}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=U(e.path,e.caseSensitive,e.end),l=t.match(s);if(!l)return null;let r=l[0],n=r.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:a.reduce((e,t,s)=>{let{paramName:a,isOptional:l}=t;if("*"===a){let e=i[s]||"";n=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[s];return e[a]=l&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:n,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(a.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),l+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":""!==e&&"/"!==e&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&"/"!==a?null:e.slice(s)||"/"}function H(e,t,s,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(s,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function J(e){let t=V(e);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,s){let a,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=S(e):(a=c({},e),v(!a.pathname||!a.pathname.includes("?"),H("?","pathname","search",a)),v(!a.pathname||!a.pathname.includes("#"),H("#","pathname","hash",a)),v(!a.search||!a.search.includes("#"),H("#","search","hash",a)));let r,n=""===e||""===a.pathname,i=n?"/":a.pathname;if(null==i)r=s;else{let e=t.length-1;if(!l&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:s,search:a="",hash:l=""}="string"===typeof e?S(e):e,r=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:r,search:$(a),hash:Y(l)}}(a,r),d=i&&"/"!==i&&i.endsWith("/"),u=(n||"."===i)&&s.endsWith("/");return o.pathname.endsWith("/")||!d&&!u||(o.pathname+="/"),o}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=a.createContext(null);te.displayName="DataRouter";var se=a.createContext(null);se.displayName="DataRouterState";var ae=a.createContext(!1);var le=a.createContext({isTransitioning:!1});le.displayName="ViewTransition";var re=a.createContext(new Map);re.displayName="Fetchers";var ne=a.createContext(null);ne.displayName="Await";var ie=a.createContext(null);ie.displayName="Navigation";var oe=a.createContext(null);oe.displayName="Location";var de=a.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var ce=a.createContext(null);ce.displayName="RouteError";function ue(){return null!=a.useContext(oe)}function me(){return v(ue(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(oe).location}var xe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){a.useContext(ie).static||a.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=a.useContext(de);return e?function(){let{router:e}=Se("useNavigate"),t=ke("useNavigate"),s=a.useRef(!1);he(()=>{s.current=!0});let l=a.useCallback(async function(a){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(s.current,xe),s.current&&("number"===typeof a?e.navigate(a):await e.navigate(a,c({fromRouteId:t},l)))},[e,t]);return l}():function(){v(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(te),{basename:t,navigator:s}=a.useContext(ie),{matches:l}=a.useContext(de),{pathname:r}=me(),n=JSON.stringify(J(l)),i=a.useRef(!1);he(()=>{i.current=!0});let o=a.useCallback(function(a){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(i.current,xe),!i.current)return;if("number"===typeof a)return void s.go(a);let o=K(a,JSON.parse(n),r,"path"===l.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:Q([t,o.pathname])),(l.replace?s.replace:s.push)(o,l.state,l)},[t,s,n,r,e]);return o}()}a.createContext(null);function be(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:s}=a.useContext(de),{pathname:l}=me(),r=JSON.stringify(J(s));return a.useMemo(()=>K(e,JSON.parse(r),l,"path"===t),[e,r,l,t])}function ge(e,t,s,l,r){v(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=a.useContext(ie),{matches:i}=a.useContext(de),o=i[i.length-1],d=o?o.params:{},u=o?o.pathname:"/",m=o?o.pathnameBase:"/",x=o&&o.route;{let e=x&&x.path||"";Ie(u,!x||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,p=me();if(t){var b;let e="string"===typeof t?S(t):t;v("/"===m||(null===(b=e.pathname)||void 0===b?void 0:b.startsWith(m)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(m,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=p;let g=h.pathname||"/",f=g;if("/"!==m){let e=m.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=P(e,{pathname:f});y(x||null!=w,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),y(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let j=je(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:Q([m,n.encodeLocation?n.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:Q([m,n.encodeLocation?n.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,s,l,r);return t&&j?a.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},j):j}function fe(){let e=Pe(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:l},n={padding:"2px 4px",backgroundColor:l},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:n},"ErrorBoundary")," or"," ",a.createElement("code",{style:n},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),s?a.createElement("pre",{style:r},s):null,i)}var ve=a.createElement(fe,null),ye=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?a.createElement(de.Provider,{value:this.props.routeContext},a.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:s,children:l}=e,r=a.useContext(te);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),a.createElement(de.Provider,{value:t},l)}function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!s)return null;if(s.errors)e=s.matches;else{if(0!==t.length||s.initialized||!(s.matches.length>0))return null;e=s.matches}}let r=e,n=null===s||void 0===s?void 0:s.errors;if(null!=n){let e=r.findIndex(e=>e.route.id&&void 0!==(null===n||void 0===n?void 0:n[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(n).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,o=-1;if(s)for(let a=0;a<r.length;a++){let e=r[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=a),e.route.id){let{loaderData:t,errors:a}=s,l=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||l){i=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight((e,d,c)=>{let u,m=!1,x=null,h=null;s&&(u=n&&d.route.id?n[d.route.id]:void 0,x=d.route.errorElement||ve,i&&(o<0&&0===c?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,h=null):o===c&&(m=!0,h=d.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,c+1)),b=()=>{let t;return t=u?x:m?h:d.route.Component?a.createElement(d.route.Component,null):d.route.element?d.route.element:e,a.createElement(we,{match:d,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(d.route.ErrorBoundary||d.route.errorElement||0===c)?a.createElement(ye,{location:s.location,revalidation:s.revalidation,component:x,error:u,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0},unstable_onError:l}):b()},null)}function Ne(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=a.useContext(te);return v(t,Ne(e)),t}function Ce(e){let t=a.useContext(se);return v(t,Ne(e)),t}function ke(e){let t=function(e){let t=a.useContext(de);return v(t,Ne(e)),t}(e),s=t.matches[t.matches.length-1];return v(s.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),s.route.id}function Pe(){var e;let t=a.useContext(ce),s=Ce("useRouteError"),l=ke("useRouteError");return void 0!==t?t:null===(e=s.errors)||void 0===e?void 0:e[l]}var Te={};function Ie(e,t,s){t||Te[e]||(Te[e]=!0,y(!1,s))}var De={};function Ee(e,t){e||De[t]||(De[t]=!0,console.warn(t))}a.memo(function(e){let{routes:t,future:s,state:a,unstable_onError:l}=e;return ge(t,void 0,a,l,s)});function Ae(e){let{to:t,replace:s,state:l,relative:r}=e;v(ue(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=a.useContext(ie);y(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=a.useContext(de),{pathname:o}=me(),d=pe(),c=K(t,J(i),o,"path"===r),u=JSON.stringify(c);return a.useEffect(()=>{d(JSON.parse(u),{replace:s,state:l,relative:r})},[d,u,r,s,l]),null}function Le(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:t="/",children:s=null,location:l,navigationType:r="POP",navigator:n,static:i=!1}=e;v(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),d=a.useMemo(()=>({basename:o,navigator:n,static:i,future:{}}),[o,n,i]);"string"===typeof l&&(l=S(l));let{pathname:c="/",search:u="",hash:m="",state:x=null,key:h="default"}=l,p=a.useMemo(()=>{let e=W(c,o);return null==e?null:{location:{pathname:e,search:u,hash:m,state:x,key:h},navigationType:r}},[o,c,u,m,x,h,r]);return y(null!=p,'<Router basename="'.concat(o,'"> is not able to match the URL "').concat(c).concat(u).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:a.createElement(ie.Provider,{value:d},a.createElement(oe.Provider,{children:s,value:p}))}function Oe(e){let{children:t,location:s}=e;return ge(Me(t),s)}a.Component;function Me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[];return a.Children.forEach(e,(e,l)=>{if(!a.isValidElement(e))return;let r=[...t,l];if(e.type===a.Fragment)return void s.push.apply(s,Me(e.props.children,r));v(e.type===Le,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let n={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(n.children=Me(e.props.children,r)),s.push(n)}),s}var Fe="get",_e="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var qe=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Ue.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(_e,'"')),null)}function We(e,t){let s,a,l,r,n;if(ze(i=e)&&"form"===i.tagName.toLowerCase()){let n=e.getAttribute("action");a=n?W(n,t):null,s=e.getAttribute("method")||Fe,l=Be(e.getAttribute("enctype"))||_e,r=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let n=e.form;if(null==n)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||n.getAttribute("action");if(a=i?W(i,t):null,s=e.getAttribute("formmethod")||n.getAttribute("method")||Fe,l=Be(e.getAttribute("formenctype"))||Be(n.getAttribute("enctype"))||_e,r=new FormData(n,e),!function(){if(null===qe)try{new FormData(document.createElement("form"),0),qe=!1}catch(ca){qe=!0}return qe}()){let{name:t,type:s,value:a}=e;if("image"===s){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,a)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Fe,a=null,l=_e,n=e}var i;return r&&"text/plain"===l&&(n=r,r=void 0),{action:a,method:s.toLowerCase(),encType:l,formData:r,body:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,s){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(s):t&&"/"===W(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(s):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(s),a}async function Je(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,s,a,l,r){let n=(e,t)=>!s[t]||e.route.id!==s[t].route.id,i=(e,t)=>{var a;return s[t].pathname!==e.pathname||(null===(a=s[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&s[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>n(e,t)||i(e,t)):"data"===r?t.filter((t,r)=>{let o=a.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(n(t,r)||i(t,r))return!0;if(t.route.shouldRevalidate){var d;let a=t.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:(null===(d=s[0])||void 0===d?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function $e(e,t){let{includeHydrateFallback:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1),[...new Set(a)];var a}function Ye(e,t){let s=new Set,a=new Set(t);return e.reduce((e,l)=>{if(t&&!Ke(l)&&"script"===l.as&&l.href&&a.has(l.href))return e;let r=JSON.stringify(function(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}(l));return s.has(r)||(s.add(r),e.push({key:r,link:l})),e},[])}function Xe(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=a.useContext(te);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=a.useContext(se);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=a.createContext(void 0);function st(){let e=a.useContext(tt);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function lt(e,t,s){if(s&&!ot)return[e[0]];if(t){let s=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,s+1)}return e}tt.displayName="FrameworkContext";function rt(e){let{page:t}=e,s=r(e,m),{router:l}=Ze(),n=a.useMemo(()=>P(l.routes,t,l.basename),[l.routes,t,l.basename]);return n?a.createElement(it,c({page:t,matches:n},s)):null}function nt(e){let{manifest:t,routeModules:s}=st(),[l,r]=a.useState([]);return a.useEffect(()=>{let a=!1;return async function(e,t,s){return Ye((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await Je(a,s);return e.links?e.links():[]}return[]}))).flat(1).filter(Qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,t,s).then(e=>{a||r(e)}),()=>{a=!0}},[e,t,s]),l}function it(e){let{page:t,matches:s}=e,l=r(e,x),n=me(),{manifest:i,routeModules:o}=st(),{basename:d}=Ze(),{loaderData:u,matches:m}=et(),h=a.useMemo(()=>Ge(t,s,m,i,n,"data"),[t,s,m,i,n]),p=a.useMemo(()=>Ge(t,s,m,i,n,"assets"),[t,s,m,i,n]),b=a.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let e=new Set,a=!1;if(s.forEach(t=>{var s;let l=i.routes[t.route.id];l&&l.hasLoader&&(!h.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(s=o[t.route.id])&&void 0!==s&&s.shouldRevalidate||l.hasClientLoader?a=!0:e.add(t.route.id))}),0===e.size)return[];let l=Ve(t,d,"data");return a&&e.size>0&&l.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[l.pathname+l.search]},[d,u,n,i,h,s,t,o]),g=a.useMemo(()=>$e(p,i),[p,i]),f=nt(p);return a.createElement(a.Fragment,null,b.map(e=>a.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},l))),g.map(e=>a.createElement("link",c({key:e,rel:"modulepreload",href:e},l))),f.map(e=>{let{key:t,link:s}=e;return a.createElement("link",c({key:t,nonce:l.nonce},s))}))}var ot=!1;function dt(e){let{manifest:t,serverHandoffString:s,isSpaMode:l,renderMeta:n,routeDiscovery:i,ssr:o}=st(),{router:d,static:m,staticContext:x}=Ze(),{matches:h}=et(),p=a.useContext(ae),b=Xe(i,o);n&&(n.didRenderScripts=!0);let g=lt(h,null,l);a.useEffect(()=>{ot=!0},[]);let f=a.useMemo(()=>{var l;if(p)return null;let n=x?"window.__reactRouterContext = ".concat(s,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=m?"".concat(null!==(l=t.hmr)&&void 0!==l&&l.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(b?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,s)=>{let a="route".concat(s),l=t.routes[e.route.id];He(l,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:n,clientMiddlewareModule:i,hydrateFallbackModule:o,module:d}=l,c=[...r?[{module:r,varName:"".concat(a,"_clientAction")}]:[],...n?[{module:n,varName:"".concat(a,"_clientLoader")}]:[],...i?[{module:i,varName:"".concat(a,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(a,"_HydrateFallback")}]:[],{module:d,varName:"".concat(a,"_main")}];return 1===c.length?"import * as ".concat(a," from ").concat(JSON.stringify(d),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(a," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(b?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:s}=e,a=r(e,u),l=new Set(t.state.matches.map(e=>e.route.id)),n=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(n.pop();n.length>0;)i.push("/".concat(n.join("/"))),n.pop();i.forEach(e=>{let s=P(t.routes,e,t.basename);s&&s.forEach(e=>l.add(e.route.id))});let o=[...l].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return c(c({},a),{},{routes:o,sri:!!s||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:n},type:void 0})),a.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),v=ot||p?[]:(y=t.entry.imports.concat($e(g,t,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let w="object"===typeof t.sri?t.sri:{};return Ee(!p,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ot||p?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,b?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),f)}function ct(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}a.Component;function ut(e){let{error:t,isOutsideRemixApp:s}=e;console.error(t);let l,r=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return a.createElement(mt,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),r);if(t instanceof Error)l=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);l=new Error(e)}return a.createElement(mt,{title:"Application Error!",isOutsideRemixApp:s},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},l.stack),r)}function mt(e){var t;let{title:s,renderScripts:l,isOutsideRemixApp:r,children:n}=e,{routeModules:i}=st();return null!==(t=i.root)&&void 0!==t&&t.Layout&&!r?n:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,s)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},n,l?a.createElement(dt,null):null)))}var xt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{xt&&(window.__reactRouterVersion="7.9.4")}catch(ca){}function ht(e){let{basename:t,children:s,window:l}=e,r=a.useRef();null==r.current&&(r.current=f({window:l,v5Compat:!0}));let n=r.current,[i,o]=a.useState({action:n.action,location:n.location}),d=a.useCallback(e=>{a.startTransition(()=>o(e))},[o]);return a.useLayoutEffect(()=>n.listen(d),[n,d]),a.createElement(Re,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:n})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=a.forwardRef(function(e,t){let s,{onClick:l,discover:n="render",prefetch:i="none",relative:o,reloadDocument:d,replace:u,state:m,target:x,to:p,preventScrollReset:b,viewTransition:g}=e,f=r(e,h),{basename:w}=a.useContext(ie),j="string"===typeof p&&pt.test(p),S=!1;if("string"===typeof p&&j&&(s=p,xt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),s=W(t.pathname,w);t.origin===e.origin&&null!=s?p=s+t.search+t.hash:S=!0}catch(ca){y(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=a.useContext(ie),{hash:r,pathname:n,search:i}=be(e,{relative:t}),o=n;return"/"!==s&&(o="/"===n?s:Q([s,n])),l.createHref({pathname:o,search:i,hash:r})}(p,{relative:o}),[k,P,T]=function(e,t){let s=a.useContext(tt),[l,r]=a.useState(!1),[n,i]=a.useState(!1),{onFocus:o,onBlur:d,onMouseEnter:c,onMouseLeave:u,onTouchStart:m}=t,x=a.useRef(null);a.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return x.current&&e.observe(x.current),()=>{e.disconnect()}}},[e]),a.useEffect(()=>{if(l){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[l]);let h=()=>{r(!0)},p=()=>{r(!1),i(!1)};return s?"intent"!==e?[n,x,{}]:[n,x,{onFocus:at(o,h),onBlur:at(d,p),onMouseEnter:at(c,h),onMouseLeave:at(u,p),onTouchStart:at(m,h)}]:[!1,x,{}]}(i,f),I=function(e){let{target:t,replace:s,state:l,preventScrollReset:r,relative:n,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=pe(),d=me(),c=be(e,{relative:n});return a.useCallback(a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==s?s:N(d)===N(c);o(e,{replace:t,state:l,preventScrollReset:r,relative:n,viewTransition:i})}},[d,o,c,s,l,t,e,r,n,i])}(p,{replace:u,state:m,target:x,preventScrollReset:b,relative:o,viewTransition:g});let D=a.createElement("a",c(c(c({},f),T),{},{href:s||C,onClick:S||d?l:function(e){l&&l(e),e.defaultPrevented||I(e)},ref:ct(t,P),target:x,"data-discover":j||"render"!==n?void 0:"true"}));return k&&!j?a.createElement(a.Fragment,null,D,a.createElement(rt,{page:C})):D});bt.displayName="Link",a.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:l=!1,className:n="",end:i=!1,style:o,to:d,viewTransition:u,children:m}=e,x=r(e,p),h=be(d,{relative:x.relative}),b=me(),g=a.useContext(se),{navigator:f,basename:y}=a.useContext(ie),w=null!=g&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.useContext(le);v(null!=s,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=vt("useViewTransitionState"),r=be(e,{relative:t});if(!s.isTransitioning)return!1;let n=W(s.currentLocation.pathname,l)||s.currentLocation.pathname,i=W(s.nextLocation.pathname,l)||s.nextLocation.pathname;return null!=q(r.pathname,i)||null!=q(r.pathname,n)}(h)&&!0===u,j=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,N=b.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;l||(N=N.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&y&&(S=W(S,y)||S);const C="/"!==j&&j.endsWith("/")?j.length-1:j.length;let k,P=N===j||!i&&N.startsWith(j)&&"/"===N.charAt(C),T=null!=S&&(S===j||!i&&S.startsWith(j)&&"/"===S.charAt(j.length)),I={isActive:P,isPending:T,isTransitioning:w},D=P?s:void 0;k="function"===typeof n?n(I):[n,P?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof o?o(I):o;return a.createElement(bt,c(c({},x),{},{"aria-current":D,className:k,ref:t,style:E,to:d,viewTransition:u}),"function"===typeof m?m(I):m)}).displayName="NavLink";var gt=a.forwardRef((e,t)=>{let{discover:s="render",fetcherKey:l,navigate:n,reloadDocument:i,replace:o,state:d,method:u=Fe,action:m,onSubmit:x,relative:h,preventScrollReset:p,viewTransition:g}=e,f=r(e,b),y=jt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:s}=a.useContext(ie),l=a.useContext(de);v(l,"useFormAction must be used inside a RouteContext");let[r]=l.matches.slice(-1),n=c({},be(e||".",{relative:t})),i=me();if(null==e){n.search=i.search;let e=new URLSearchParams(n.search),t=e.getAll("index"),s=t.some(e=>""===e);if(s){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let s=e.toString();n.search=s?"?".concat(s):""}}e&&"."!==e||!r.route.index||(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index");"/"!==s&&(n.pathname="/"===n.pathname?s:Q([s,n.pathname]));return N(n)}(m,{relative:h}),j="get"===u.toLowerCase()?"get":"post",S="string"===typeof m&&pt.test(m);return a.createElement("form",c(c({ref:t,method:j,action:w,onSubmit:i?x:e=>{if(x&&x(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,s=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;y(t||e.currentTarget,{fetcherKey:l,method:s,navigate:n,replace:o,state:d,relative:h,preventScrollReset:p,viewTransition:g})}},f),{},{"data-discover":S||"render"!==s?void 0:"true"}))});function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=a.useContext(te);return v(t,ft(e)),t}gt.displayName="Form";var yt=0,wt=()=>"__".concat(String(++yt),"__");function jt(){let{router:e}=vt("useSubmit"),{basename:t}=a.useContext(ie),s=ke("useRouteId");return a.useCallback(async function(a){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:n,encType:i,formData:o,body:d}=We(a,t);if(!1===l.navigate){let t=l.fetcherKey||wt();await e.fetch(t,s,l.action||r,{preventScrollReset:l.preventScrollReset,formData:o,body:d,formMethod:l.method||n,formEncType:l.encType||i,flushSync:l.flushSync})}else await e.navigate(l.action||r,{preventScrollReset:l.preventScrollReset,formData:o,body:d,formMethod:l.method||n,formEncType:l.encType||i,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,s])}var Nt,St;function Ct(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kt(e,t,s){Ct(e,t),t.set(e,s)}function Pt(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}function Tt(e,t){return e.get(Pt(e,t))}function It(e,t,s){return e.set(Pt(e,t),s),s}var Dt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Et=new(Nt=new WeakMap,St=new WeakMap,class{constructor(){kt(this,Nt,Dt),kt(this,St,!1)}setTimeoutProvider(e){It(Nt,this,e)}setTimeout(e,t){return Tt(Nt,this).setTimeout(e,t)}clearTimeout(e){Tt(Nt,this).clearTimeout(e)}setInterval(e,t){return Tt(Nt,this).setInterval(e,t)}clearInterval(e){Tt(Nt,this).clearInterval(e)}});var At="undefined"===typeof window||"Deno"in globalThis;function Lt(){}function Rt(e){return"number"===typeof e&&e>=0&&e!==1/0}function Ot(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mt(e,t){return"function"===typeof e?e(t):e}function Ft(e,t){return"function"===typeof e?e(t):e}function _t(e,t){const{type:s="all",exact:a,fetchStatus:l,predicate:r,queryKey:n,stale:i}=e;if(n)if(a){if(t.queryHash!==qt(n,t.options))return!1}else if(!Bt(t.queryKey,n))return!1;if("all"!==s){const e=t.isActive();if("active"===s&&!e)return!1;if("inactive"===s&&e)return!1}return("boolean"!==typeof i||t.isStale()===i)&&((!l||l===t.state.fetchStatus)&&!(r&&!r(t)))}function zt(e,t){const{exact:s,status:a,predicate:l,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(s){if(Ut(t.options.mutationKey)!==Ut(r))return!1}else if(!Bt(t.options.mutationKey,r))return!1}return(!a||t.state.status===a)&&!(l&&!l(t))}function qt(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||Ut)(e)}function Ut(e){return JSON.stringify(e,(e,t)=>Kt(t)?Object.keys(t).sort().reduce((e,s)=>(e[s]=t[s],e),{}):t)}function Bt(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(s=>Bt(e[s],t[s])))}var Wt=Object.prototype.hasOwnProperty;function Ht(e,t){if(e===t)return e;const s=Jt(e)&&Jt(t);if(!s&&(!Kt(e)||!Kt(t)))return t;const a=(s?e:Object.keys(e)).length,l=s?t:Object.keys(t),r=l.length,n=s?new Array(r):{};let i=0;for(let o=0;o<r;o++){const r=s?o:l[o],d=e[r],c=t[r];if(d===c){n[r]=d,(s?o<a:Wt.call(e,r))&&i++;continue}if(null===d||null===c||"object"!==typeof d||"object"!==typeof c){n[r]=c;continue}const u=Ht(d,c);n[r]=u,u===d&&i++}return a===r&&i===a?e:n}function Vt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Jt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kt(e){if(!Qt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!Qt(s)&&(!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Qt(e){return"[object Object]"===Object.prototype.toString.call(e)}function Gt(e,t,s){return"function"===typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?Ht(e,t):t}function $t(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=[...e,t];return s&&a.length>s?a.slice(1):a}function Yt(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Xt=Symbol();function Zt(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Xt?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function es(e,t){return"function"===typeof e?e(...t):!!e}function ts(e,t){Ct(e,t),t.add(e)}var ss=function(e){setTimeout(e,0)};var as,ls,rs,ns,is,os,ds=function(){let e=[],t=0,s=e=>{e()},a=e=>{e()},l=ss;const r=a=>{t?e.push(a):l(()=>{s(a)})};return{batch:r=>{let n;t++;try{n=r()}finally{t--,t||(()=>{const t=e;e=[],t.length&&l(()=>{a(()=>{t.forEach(e=>{s(e)})})})})()}return n},batchCalls:e=>function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];r(()=>{e(...s)})},schedule:r,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{l=e}}}(),cs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},us=new(as=new WeakMap,ls=new WeakMap,rs=new WeakMap,class extends cs{constructor(){super(),kt(this,as,void 0),kt(this,ls,void 0),kt(this,rs,void 0),It(rs,this,e=>{if(!At&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Tt(ls,this)||this.setEventListener(Tt(rs,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Tt(ls,this))||void 0===e||e.call(this),It(ls,this,void 0))}setEventListener(e){var t;It(rs,this,e),null===(t=Tt(ls,this))||void 0===t||t.call(this),It(ls,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){Tt(as,this)!==e&&(It(as,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof Tt(as,this)?Tt(as,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),ms=new(ns=new WeakMap,is=new WeakMap,os=new WeakMap,class extends cs{constructor(){super(),kt(this,ns,!0),kt(this,is,void 0),kt(this,os,void 0),It(os,this,e=>{if(!At&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){Tt(is,this)||this.setEventListener(Tt(os,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Tt(is,this))||void 0===e||e.call(this),It(is,this,void 0))}setEventListener(e){var t;It(os,this,e),null===(t=Tt(is,this))||void 0===t||t.call(this),It(is,this,e(this.setOnline.bind(this)))}setOnline(e){Tt(ns,this)!==e&&(It(ns,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return Tt(ns,this)}});function xs(){let e,t;const s=new Promise((s,a)=>{e=s,t=a});function a(e){Object.assign(s,e),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=t=>{a({status:"fulfilled",value:t}),e(t)},s.reject=e=>{a({status:"rejected",reason:e}),t(e)},s}function hs(e){return Math.min(1e3*2**e,3e4)}function ps(e){return"online"!==(null!==e&&void 0!==e?e:"online")||ms.isOnline()}var bs,gs=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function fs(e){let t,s=!1,a=0;const l=xs(),r=()=>"pending"!==l.status,n=()=>us.isFocused()&&("always"===e.networkMode||ms.isOnline())&&e.canRun(),i=()=>ps(e.networkMode)&&e.canRun(),o=e=>{var s;r()||(null===(s=t)||void 0===s||s(),l.resolve(e))},d=e=>{var s;r()||(null===(s=t)||void 0===s||s(),l.reject(e))},c=()=>new Promise(s=>{var a;t=e=>{(r()||n())&&s(e)},null===(a=e.onPause)||void 0===a||a.call(e)}).then(()=>{var s;(t=void 0,r())||(null===(s=e.onContinue)||void 0===s||s.call(e))}),u=()=>{if(r())return;let t;const l=0===a?e.initialPromise:void 0;try{t=null!==l&&void 0!==l?l:e.fn()}catch(i){t=Promise.reject(i)}Promise.resolve(t).then(o).catch(t=>{var l,i,o;if(r())return;const m=null!==(l=e.retry)&&void 0!==l?l:At?0:3,x=null!==(i=e.retryDelay)&&void 0!==i?i:hs,h="function"===typeof x?x(a,t):x,p=!0===m||"number"===typeof m&&a<m||"function"===typeof m&&m(a,t);var b;!s&&p?(a++,null===(o=e.onFail)||void 0===o||o.call(e,a,t),(b=h,new Promise(e=>{Et.setTimeout(e,b)})).then(()=>n()?void 0:c()).then(()=>{s?d(t):u()})):d(t)})};return{promise:l,status:()=>l.status,cancel:t=>{if(!r()){var s;const a=new gs(t);d(a),null===(s=e.onCancel)||void 0===s||s.call(e,a)}},continue:()=>{var e;return null===(e=t)||void 0===e||e(),l},cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:i,start:()=>(i()?u():c().then(u),l)}}var vs,ys,ws,js,Ns,Ss,Cs,ks,Ps,Ts=(bs=new WeakMap,class{constructor(){kt(this,bs,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rt(this.gcTime)&&It(bs,this,Et.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:At?1/0:3e5)}clearGcTimeout(){Tt(bs,this)&&(Et.clearTimeout(Tt(bs,this)),It(bs,this,void 0))}}),Is=(vs=new WeakMap,ys=new WeakMap,ws=new WeakMap,js=new WeakMap,Ns=new WeakMap,Ss=new WeakMap,Cs=new WeakMap,ks=new WeakSet,class extends Ts{constructor(e){var t;super(),ts(this,ks),kt(this,vs,void 0),kt(this,ys,void 0),kt(this,ws,void 0),kt(this,js,void 0),kt(this,Ns,void 0),kt(this,Ss,void 0),kt(this,Cs,void 0),It(Cs,this,!1),It(Ss,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],It(js,this,e.client),It(ws,this,Tt(js,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,It(vs,this,Ls(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:Tt(vs,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=Tt(Ns,this))||void 0===e?void 0:e.promise}setOptions(e){if(this.options=c(c({},Tt(Ss,this)),e),this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Ls(this.options);void 0!==e.data&&(this.setState(As(e.data,e.dataUpdatedAt)),It(vs,this,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Tt(ws,this).remove(this)}setData(e,t){const s=Gt(this.state.data,e,this.options);return Pt(ks,this,Ds).call(this,{data:s,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),s}setState(e,t){Pt(ks,this,Ds).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,s;const a=null===(t=Tt(Ns,this))||void 0===t?void 0:t.promise;return null===(s=Tt(Ns,this))||void 0===s||s.cancel(e),a?a.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Tt(vs,this))}isActive(){return this.observers.some(e=>!1!==Ft(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Mt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Ot(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Tt(Ns,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Tt(Ns,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Tt(ws,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Tt(Ns,this)&&(Tt(Cs,this)?Tt(Ns,this).cancel({revert:!0}):Tt(Ns,this).cancelRetry()),this.scheduleGc()),Tt(ws,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(ks,this,Ds).call(this,{type:"invalidate"})}async fetch(e,t){var s,a,l;if("idle"!==this.state.fetchStatus&&"rejected"!==(null===(s=Tt(Ns,this))||void 0===s?void 0:s.status()))if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(Tt(Ns,this))return Tt(Ns,this).continueRetry(),Tt(Ns,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(It(Cs,this,!0),r.signal)})},i=()=>{const e=Zt(this.options,t),s=(()=>{const e={client:Tt(js,this),queryKey:this.queryKey,meta:this.meta};return n(e),e})();return It(Cs,this,!1),this.options.persister?this.options.persister(e,s,this):e(s)},o=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Tt(js,this),state:this.state,fetchFn:i};return n(e),e})();var d;(null===(a=this.options.behavior)||void 0===a||a.onFetch(o,this),It(ys,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(l=o.fetchOptions)||void 0===l?void 0:l.meta))&&Pt(ks,this,Ds).call(this,{type:"fetch",meta:null===(d=o.fetchOptions)||void 0===d?void 0:d.meta});It(Ns,this,fs({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:o.fetchFn,onCancel:e=>{e instanceof gs&&e.revert&&this.setState(c(c({},Tt(ys,this)),{},{fetchStatus:"idle"})),r.abort()},onFail:(e,t)=>{Pt(ks,this,Ds).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Pt(ks,this,Ds).call(this,{type:"pause"})},onContinue:()=>{Pt(ks,this,Ds).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{var u,m,x,h;const e=await Tt(Ns,this).start();if(void 0===e)throw new Error("".concat(this.queryHash," data is undefined"));return this.setData(e),null===(u=(m=Tt(ws,this).config).onSuccess)||void 0===u||u.call(m,e,this),null===(x=(h=Tt(ws,this).config).onSettled)||void 0===x||x.call(h,e,this.state.error,this),e}catch(v){var p,b,g,f;if(v instanceof gs){if(v.silent)return Tt(Ns,this).promise;if(v.revert){if(void 0===this.state.data)throw v;return this.state.data}}throw Pt(ks,this,Ds).call(this,{type:"error",error:v}),null===(p=(b=Tt(ws,this).config).onError)||void 0===p||p.call(b,v,this),null===(g=(f=Tt(ws,this).config).onSettled)||void 0===g||g.call(f,this.state.data,v,this),v}finally{this.scheduleGc()}}});function Ds(e){this.state=(t=>{var s;switch(e.type){case"failed":return c(c({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return c(c({},t),{},{fetchStatus:"paused"});case"continue":return c(c({},t),{},{fetchStatus:"fetching"});case"fetch":return c(c(c({},t),Es(t.data,this.options)),{},{fetchMeta:null!==(s=e.meta)&&void 0!==s?s:null});case"success":const a=c(c(c({},t),As(e.data,e.dataUpdatedAt)),{},{dataUpdateCount:t.dataUpdateCount+1},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});return It(ys,this,e.manual?a:void 0),a;case"error":const l=e.error;return c(c({},t),{},{error:l,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"});case"invalidate":return c(c({},t),{},{isInvalidated:!0});case"setState":return c(c({},t),e.state)}})(this.state),ds.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),Tt(ws,this).notify({query:this,type:"updated",action:e})})}function Es(e,t){return c({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ps(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}function As(e,t){return{data:e,dataUpdatedAt:null!==t&&void 0!==t?t:Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ls(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,a=s?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?null!==a&&void 0!==a?a:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Rs,Os,Ms,Fs,_s,zs,qs,Us,Bs=(Ps=new WeakMap,class extends cs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),kt(this,Ps,void 0),this.config=e,It(Ps,this,new Map)}build(e,t,s){var a;const l=t.queryKey,r=null!==(a=t.queryHash)&&void 0!==a?a:qt(l,t);let n=this.get(r);return n||(n=new Is({client:e,queryKey:l,queryHash:r,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(l)}),this.add(n)),n}add(e){Tt(Ps,this).has(e.queryHash)||(Tt(Ps,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Tt(Ps,this).get(e.queryHash);t&&(e.destroy(),t===e&&Tt(Ps,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ds.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Tt(Ps,this).get(e)}getAll(){return[...Tt(Ps,this).values()]}find(e){const t=c({exact:!0},e);return this.getAll().find(e=>_t(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>_t(e,t)):t}notify(e){ds.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ds.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ds.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),Ws=(Rs=new WeakMap,Os=new WeakMap,Ms=new WeakMap,Fs=new WeakMap,_s=new WeakSet,class extends Ts{constructor(e){super(),ts(this,_s),kt(this,Rs,void 0),kt(this,Os,void 0),kt(this,Ms,void 0),kt(this,Fs,void 0),It(Rs,this,e.client),this.mutationId=e.mutationId,It(Ms,this,e.mutationCache),It(Os,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Tt(Os,this).includes(e)||(Tt(Os,this).push(e),this.clearGcTimeout(),Tt(Ms,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){It(Os,this,Tt(Os,this).filter(t=>t!==e)),this.scheduleGc(),Tt(Ms,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Tt(Os,this).length||("pending"===this.state.status?this.scheduleGc():Tt(Ms,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=Tt(Fs,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const s=()=>{Pt(_s,this,Hs).call(this,{type:"continue"})},a={client:Tt(Rs,this),meta:this.options.meta,mutationKey:this.options.mutationKey};It(Fs,this,fs({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Pt(_s,this,Hs).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Pt(_s,this,Hs).call(this,{type:"pause"})},onContinue:s,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Tt(Ms,this).canRun(this)}));const l="pending"===this.state.status,r=!Tt(Fs,this).canStart();try{var n,i,o,d,c,u,m,x;if(l)s();else{var h,p,b,g;Pt(_s,this,Hs).call(this,{type:"pending",variables:e,isPaused:r}),await(null===(h=(p=Tt(Ms,this).config).onMutate)||void 0===h?void 0:h.call(p,e,this,a));const t=await(null===(b=(g=this.options).onMutate)||void 0===b?void 0:b.call(g,e,a));t!==this.state.context&&Pt(_s,this,Hs).call(this,{type:"pending",context:t,variables:e,isPaused:r})}const t=await Tt(Fs,this).start();return await(null===(n=(i=Tt(Ms,this).config).onSuccess)||void 0===n?void 0:n.call(i,t,e,this.state.context,this,a)),await(null===(o=(d=this.options).onSuccess)||void 0===o?void 0:o.call(d,t,e,this.state.context,a)),await(null===(c=(u=Tt(Ms,this).config).onSettled)||void 0===c?void 0:c.call(u,t,null,this.state.variables,this.state.context,this,a)),await(null===(m=(x=this.options).onSettled)||void 0===m?void 0:m.call(x,t,null,e,this.state.context,a)),Pt(_s,this,Hs).call(this,{type:"success",data:t}),t}catch(k){try{var f,v,y,w,j,N,S,C;throw await(null===(f=(v=Tt(Ms,this).config).onError)||void 0===f?void 0:f.call(v,k,e,this.state.context,this,a)),await(null===(y=(w=this.options).onError)||void 0===y?void 0:y.call(w,k,e,this.state.context,a)),await(null===(j=(N=Tt(Ms,this).config).onSettled)||void 0===j?void 0:j.call(N,void 0,k,this.state.variables,this.state.context,this,a)),await(null===(S=(C=this.options).onSettled)||void 0===S?void 0:S.call(C,void 0,k,e,this.state.context,a)),k}finally{Pt(_s,this,Hs).call(this,{type:"error",error:k})}}finally{Tt(Ms,this).runNext(this)}}});function Hs(e){this.state=(t=>{switch(e.type){case"failed":return c(c({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return c(c({},t),{},{isPaused:!0});case"continue":return c(c({},t),{},{isPaused:!1});case"pending":return c(c({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return c(c({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return c(c({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),ds.batch(()=>{Tt(Os,this).forEach(t=>{t.onMutationUpdate(e)}),Tt(Ms,this).notify({mutation:this,type:"updated",action:e})})}var Vs,Js,Ks,Qs,Gs,$s,Ys,Xs,Zs=(zs=new WeakMap,qs=new WeakMap,Us=new WeakMap,class extends cs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),kt(this,zs,void 0),kt(this,qs,void 0),kt(this,Us,void 0),this.config=e,It(zs,this,new Set),It(qs,this,new Map),It(Us,this,0)}build(e,t,s){var a;const l=new Ws({client:e,mutationCache:this,mutationId:It(Us,this,(a=Tt(Us,this),++a)),options:e.defaultMutationOptions(t),state:s});return this.add(l),l}add(e){Tt(zs,this).add(e);const t=ea(e);if("string"===typeof t){const s=Tt(qs,this).get(t);s?s.push(e):Tt(qs,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Tt(zs,this).delete(e)){const t=ea(e);if("string"===typeof t){const s=Tt(qs,this).get(t);if(s)if(s.length>1){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}else s[0]===e&&Tt(qs,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ea(e);if("string"===typeof t){const s=Tt(qs,this).get(t),a=null===s||void 0===s?void 0:s.find(e=>"pending"===e.state.status);return!a||a===e}return!0}runNext(e){const t=ea(e);if("string"===typeof t){var s,a;const l=null===(s=Tt(qs,this).get(t))||void 0===s?void 0:s.find(t=>t!==e&&t.state.isPaused);return null!==(a=null===l||void 0===l?void 0:l.continue())&&void 0!==a?a:Promise.resolve()}return Promise.resolve()}clear(){ds.batch(()=>{Tt(zs,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),Tt(zs,this).clear(),Tt(qs,this).clear()})}getAll(){return Array.from(Tt(zs,this))}find(e){const t=c({exact:!0},e);return this.getAll().find(e=>zt(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>zt(e,t))}notify(e){ds.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return ds.batch(()=>Promise.all(e.map(e=>e.continue().catch(Lt))))}});function ea(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function ta(e){return{onFetch:(t,s)=>{var a,l,r;const n=t.options,i=null===(a=t.fetchOptions)||void 0===a||null===(a=a.meta)||void 0===a||null===(a=a.fetchMore)||void 0===a?void 0:a.direction,o=(null===(l=t.state.data)||void 0===l?void 0:l.pages)||[],d=(null===(r=t.state.data)||void 0===r?void 0:r.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const m=async()=>{let s=!1;const a=Zt(t.options,t.fetchOptions),l=async(e,l,r)=>{if(s)return Promise.reject();if(null==l&&e.pages.length)return Promise.resolve(e);const n=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:l,direction:r?"backward":"forward",meta:t.options.meta};var a;return a=e,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?s=!0:t.signal.addEventListener("abort",()=>{s=!0}),t.signal)}),e})(),i=await a(n),{maxPages:o}=t.options,d=r?Yt:$t;return{pages:d(e.pages,i,o),pageParams:d(e.pageParams,l,o)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:d},s=(e?aa:sa)(n,t);c=await l(t,s,e)}else{const t=null!==e&&void 0!==e?e:o.length;do{var r;const e=0===u?null!==(r=d[0])&&void 0!==r?r:n.initialPageParam:sa(n,c);if(u>0&&null==e)break;c=await l(c,e),u++}while(u<t)}return c};t.options.persister?t.fetchFn=()=>{var e,a;return null===(e=(a=t.options).persister)||void 0===e?void 0:e.call(a,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=m}}}function sa(e,t){let{pages:s,pageParams:a}=t;const l=s.length-1;return s.length>0?e.getNextPageParam(s[l],s,a[l],a):void 0}function aa(e,t){var s;let{pages:a,pageParams:l}=t;return a.length>0?null===(s=e.getPreviousPageParam)||void 0===s?void 0:s.call(e,a[0],a,l[0],l):void 0}var la=(Vs=new WeakMap,Js=new WeakMap,Ks=new WeakMap,Qs=new WeakMap,Gs=new WeakMap,$s=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};kt(this,Vs,void 0),kt(this,Js,void 0),kt(this,Ks,void 0),kt(this,Qs,void 0),kt(this,Gs,void 0),kt(this,$s,void 0),kt(this,Ys,void 0),kt(this,Xs,void 0),It(Vs,this,e.queryCache||new Bs),It(Js,this,e.mutationCache||new Zs),It(Ks,this,e.defaultOptions||{}),It(Qs,this,new Map),It(Gs,this,new Map),It($s,this,0)}mount(){var e;It($s,this,(e=Tt($s,this),e++,e)),1===Tt($s,this)&&(It(Ys,this,us.subscribe(async e=>{e&&(await this.resumePausedMutations(),Tt(Vs,this).onFocus())})),It(Xs,this,ms.subscribe(async e=>{e&&(await this.resumePausedMutations(),Tt(Vs,this).onOnline())})))}unmount(){var e,t,s;It($s,this,(e=Tt($s,this),e--,e)),0===Tt($s,this)&&(null===(t=Tt(Ys,this))||void 0===t||t.call(this),It(Ys,this,void 0),null===(s=Tt(Xs,this))||void 0===s||s.call(this),It(Xs,this,void 0))}isFetching(e){return Tt(Vs,this).findAll(c(c({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return Tt(Js,this).findAll(c(c({},e),{},{status:"pending"})).length}getQueryData(e){var t;const s=this.defaultQueryOptions({queryKey:e});return null===(t=Tt(Vs,this).get(s.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=Tt(Vs,this).build(this,t),a=s.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Mt(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Tt(Vs,this).findAll(e).map(e=>{let{queryKey:t,state:s}=e;return[t,s.data]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),l=Tt(Vs,this).get(a.queryHash),r=function(e,t){return"function"===typeof e?e(t):e}(t,null===l||void 0===l?void 0:l.state.data);if(void 0!==r)return Tt(Vs,this).build(this,a).setData(r,c(c({},s),{},{manual:!0}))}setQueriesData(e,t,s){return ds.batch(()=>Tt(Vs,this).findAll(e).map(e=>{let{queryKey:a}=e;return[a,this.setQueryData(a,t,s)]}))}getQueryState(e){var t;const s=this.defaultQueryOptions({queryKey:e});return null===(t=Tt(Vs,this).get(s.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=Tt(Vs,this);ds.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const s=Tt(Vs,this);return ds.batch(()=>(s.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(c({type:"active"},e),t)))}cancelQueries(e){const t=c({revert:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),s=ds.batch(()=>Tt(Vs,this).findAll(e).map(e=>e.cancel(t)));return Promise.all(s).then(Lt).catch(Lt)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ds.batch(()=>{var s,a;return Tt(Vs,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(c(c({},e),{},{type:null!==(s=null!==(a=null===e||void 0===e?void 0:e.refetchType)&&void 0!==a?a:null===e||void 0===e?void 0:e.type)&&void 0!==s?s:"active"}),t)})}refetchQueries(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=c(c({},s),{},{cancelRefetch:null===(t=s.cancelRefetch)||void 0===t||t}),l=ds.batch(()=>Tt(Vs,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,a);return a.throwOnError||(t=t.catch(Lt)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(l).then(Lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const s=Tt(Vs,this).build(this,t);return s.isStaleByTime(Mt(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lt).catch(Lt)}fetchInfiniteQuery(e){return e.behavior=ta(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lt).catch(Lt)}ensureInfiniteQueryData(e){return e.behavior=ta(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ms.isOnline()?Tt(Js,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return Tt(Vs,this)}getMutationCache(){return Tt(Js,this)}getDefaultOptions(){return Tt(Ks,this)}setDefaultOptions(e){It(Ks,this,e)}setQueryDefaults(e,t){Tt(Qs,this).set(Ut(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Tt(Qs,this).values()],s={};return t.forEach(t=>{Bt(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){Tt(Gs,this).set(Ut(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Tt(Gs,this).values()],s={};return t.forEach(t=>{Bt(e,t.mutationKey)&&Object.assign(s,t.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t=c(c(c(c({},Tt(Ks,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=qt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xt&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:c(c(c(c({},Tt(Ks,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){Tt(Vs,this).clear(),Tt(Js,this).clear()}}),ra=s(579),na=a.createContext(void 0),ia=e=>{const t=a.useContext(na);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oa=e=>{let{client:t,children:s}=e;return a.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,ra.jsx)(na.Provider,{value:t,children:s})};function da(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let ca={data:""},ua=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ca},ma=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xa=/\/\*[^]*?\*\/|  +/g,ha=/\n+/g,pa=(e,t)=>{let s="",a="",l="";for(let r in e){let n=e[r];"@"==r[0]?"i"==r[1]?s=r+" "+n+";":a+="f"==r[1]?pa(n,r):r+"{"+pa(n,"k"==r[1]?"":t)+"}":"object"==typeof n?a+=pa(n,t?t.replace(/([^,])+/g,e=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):r):null!=n&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=pa.p?pa.p(r,n):r+":"+n+";")}return s+(t&&l?t+"{"+l+"}":l)+a},ba={},ga=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+ga(e[s]);return t}return e},fa=(e,t,s,a,l)=>{let r=ga(e),n=ba[r]||(ba[r]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(r));if(!ba[n]){let t=r!==e?e:(e=>{let t,s,a=[{}];for(;t=ma.exec(e.replace(xa,""));)t[4]?a.shift():t[3]?(s=t[3].replace(ha," ").trim(),a.unshift(a[0][s]=a[0][s]||{})):a[0][t[1]]=t[2].replace(ha," ").trim();return a[0]})(e);ba[n]=pa(l?{["@keyframes "+n]:t}:t,s?"":"."+n)}let i=s&&ba.g?ba.g:null;return s&&(ba.g=ba[n]),((e,t,s,a)=>{a?t.data=t.data.replace(a,e):-1===t.data.indexOf(e)&&(t.data=s?e+t.data:t.data+e)})(ba[n],t,a,i),n};function va(e){let t=this||{},s=e.call?e(t.p):e;return fa(s.unshift?s.raw?((e,t,s)=>e.reduce((e,a,l)=>{let r=t[l];if(r&&r.call){let e=r(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;r=t?"."+t:e&&"object"==typeof e?e.props?"":pa(e,""):!1===e?"":e}return e+a+(null==r?"":r)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,ua(t.target),t.g,t.o,t.k)}va.bind({g:1});let ya,wa,ja,Na=va.bind({k:1});function Sa(e,t){let s=this||{};return function(){let a=arguments;function l(r,n){let i=Object.assign({},r),o=i.className||l.className;s.p=Object.assign({theme:wa&&wa()},i),s.o=/ *go\d+/.test(o),i.className=va.apply(s,a)+(o?" "+o:""),t&&(i.ref=n);let d=e;return e[0]&&(d=i.as||e,delete i.as),ja&&d[0]&&ja(i),ya(d,i)}return t?t(l):l}}var Ca,ka,Pa,Ta,Ia,Da,Ea,Aa,La,Ra,Oa,Ma,Fa,_a,za,qa,Ua=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Ba=(()=>{let e=0;return()=>(++e).toString()})(),Wa=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ha="default",Va=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return c(c({},e),{},{toasts:[t.toast,...e.toasts].slice(0,s)});case 1:return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?c(c({},e),t.toast):e)});case 2:let{toast:a}=t;return Va(e,{type:e.toasts.find(e=>e.id===a.id)?1:0,toast:a});case 3:let{toastId:l}=t;return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===l||void 0===l?c(c({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?c(c({},e),{},{toasts:[]}):c(c({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return c(c({},e),{},{pausedAt:t.time});case 6:let r=t.time-(e.pausedAt||0);return c(c({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>c(c({},e),{},{pauseDuration:e.pauseDuration+r}))})}},Ja=[],Ka={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Qa={},Ga=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha;Qa[t]=Va(Qa[t]||Ka,e),Ja.forEach(e=>{let[s,a]=e;s===t&&a(Qa[t])})},$a=e=>Object.keys(Qa).forEach(t=>Ga(e,t)),Ya=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha;return t=>{Ga(t,e)}},Xa={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Za=e=>(t,s)=>{let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",s=arguments.length>2?arguments[2]:void 0;return c(c({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},s),{},{id:(null==s?void 0:s.id)||Ba()})}(t,e,s);return Ya(a.toasterId||(e=>Object.keys(Qa).find(t=>Qa[t].toasts.some(t=>t.id===e)))(a.id))({type:2,toast:a}),a.id},el=(e,t)=>Za("blank")(e,t);el.error=Za("error"),el.success=Za("success"),el.loading=Za("loading"),el.custom=Za("custom"),el.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Ya(t)(s):$a(s)},el.dismissAll=e=>el.dismiss(void 0,e),el.remove=(e,t)=>{let s={type:4,toastId:e};t?Ya(t)(s):$a(s)},el.removeAll=e=>el.remove(void 0,e),el.promise=(e,t,s)=>{let a=el.loading(t.loading,c(c({},s),null==s?void 0:s.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let l=t.success?Ua(t.success,e):void 0;return l?el.success(l,c(c({id:a},s),null==s?void 0:s.success)):el.dismiss(a),e}).catch(e=>{let l=t.error?Ua(t.error,e):void 0;l?el.error(l,c(c({id:a},s),null==s?void 0:s.error)):el.dismiss(a)}),e};var tl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:s,pausedAt:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha,[s,l]=(0,a.useState)(Qa[t]||Ka),r=(0,a.useRef)(Qa[t]);(0,a.useEffect)(()=>(r.current!==Qa[t]&&l(Qa[t]),Ja.push([t,l]),()=>{let e=Ja.findIndex(e=>{let[s]=e;return s===t});e>-1&&Ja.splice(e,1)}),[t]);let n=s.toasts.map(t=>{var s,a,l;return c(c(c(c({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(a=e[t.type])?void 0:a.duration)||(null==e?void 0:e.duration)||Xa[t.type],style:c(c(c({},e.style),null==(l=e[t.type])?void 0:l.style),t.style)})});return c(c({},s),{},{toasts:n})}(e,t),r=(0,a.useRef)(new Map).current,n=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(r.has(e))return;let s=setTimeout(()=>{r.delete(e),i({type:4,toastId:e})},t);r.set(e,s)},[]);(0,a.useEffect)(()=>{if(l)return;let e=Date.now(),a=s.map(s=>{if(s.duration===1/0)return;let a=(s.duration||0)+s.pauseDuration-(e-s.createdAt);if(!(a<0))return setTimeout(()=>el.dismiss(s.id,t),a);s.visible&&el.dismiss(s.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[s,l,t]);let i=(0,a.useCallback)(Ya(t),[t]),o=(0,a.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),d=(0,a.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),u=(0,a.useCallback)(()=>{l&&i({type:6,time:Date.now()})},[l,i]),m=(0,a.useCallback)((e,t)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:r}=t||{},n=s.filter(t=>(t.position||r)===(e.position||r)&&t.height),i=n.findIndex(t=>t.id===e.id),o=n.filter((e,t)=>t<i&&e.visible).length;return n.filter(e=>e.visible).slice(...a?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+l,0)},[s]);return(0,a.useEffect)(()=>{s.forEach(e=>{if(e.dismissed)n(e.id,e.removeDelay);else{let t=r.get(e.id);t&&(clearTimeout(t),r.delete(e.id))}})},[s,n]),{toasts:s,handlers:{updateHeight:d,startPause:o,endPause:u,calculateOffset:m}}},sl=Na(Ca||(Ca=da(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),al=Na(ka||(ka=da(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ll=Na(Pa||(Pa=da(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),rl=Sa("div")(Ta||(Ta=da(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",sl,al,e=>e.secondary||"#fff",ll),nl=Na(Ia||(Ia=da(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),il=Sa("div")(Da||(Da=da(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",nl),ol=Na(Ea||(Ea=da(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),dl=Na(Aa||(Aa=da(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),cl=Sa("div")(La||(La=da(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",ol,dl,e=>e.secondary||"#fff"),ul=Sa("div")(Ra||(Ra=da(["\n  position: absolute;\n"]))),ml=Sa("div")(Oa||(Oa=da(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),xl=Na(Ma||(Ma=da(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),hl=Sa("div")(Fa||(Fa=da(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),xl),pl=e=>{let{toast:t}=e,{icon:s,type:l,iconTheme:r}=t;return void 0!==s?"string"==typeof s?a.createElement(hl,null,s):s:"blank"===l?null:a.createElement(ml,null,a.createElement(il,c({},r)),"loading"!==l&&a.createElement(ul,null,"error"===l?a.createElement(rl,c({},r)):a.createElement(cl,c({},r))))},bl=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),gl=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),fl=Sa("div")(_a||(_a=da(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),vl=Sa("div")(za||(za=da(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),yl=a.memo(e=>{let{toast:t,position:s,style:l,children:r}=e,n=t.height?((e,t)=>{let s=e.includes("top")?1:-1,[a,l]=Wa()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[bl(s),gl(s)];return{animation:t?"".concat(Na(a)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Na(l)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||s||"top-center",t.visible):{opacity:0},i=a.createElement(pl,{toast:t}),o=a.createElement(vl,c({},t.ariaProps),Ua(t.message,t));return a.createElement(fl,{className:t.className,style:c(c(c({},n),l),t.style)},"function"==typeof r?r({icon:i,message:o}):a.createElement(a.Fragment,null,i,o))});!function(e,t,s,a){pa.p=t,ya=e,wa=s,ja=a}(a.createElement);var wl=e=>{let{id:t,className:s,style:l,onHeightUpdate:r,children:n}=e,i=a.useCallback(e=>{if(e){let s=()=>{let s=e.getBoundingClientRect().height;r(t,s)};s(),new MutationObserver(s).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return a.createElement("div",{ref:i,className:s,style:l},n)},jl=va(qa||(qa=da(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Nl=e=>{let{reverseOrder:t,position:s="top-center",toastOptions:l,gutter:r,children:n,toasterId:i,containerStyle:o,containerClassName:d}=e,{toasts:u,handlers:m}=tl(l,i);return a.createElement("div",{"data-rht-toaster":i||"",style:c({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},u.map(e=>{let l=e.position||s,i=((e,t)=>{let s=e.includes("top"),a=s?{top:0}:{bottom:0},l=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return c(c({left:0,right:0,display:"flex",position:"absolute",transition:Wa()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(s?1:-1),"px)")},a),l)})(l,m.calculateOffset(e,{reverseOrder:t,gutter:r,defaultPosition:s}));return a.createElement(wl,{id:e.id,key:e.id,onHeightUpdate:m.updateHeight,className:e.visible?jl:"",style:i},"custom"===e.type?Ua(e.message,e):n?n(e):a.createElement(yl,{toast:e,position:l}))}))},Sl=el;const Cl={USER_ID:"userId",USER_EMAIL:"userEmail",USER_ROLE:"userRole",CLUB_ID:"clubId",TENANT_ID:"tenantId",AUTH_TOKEN:"authToken"},kl=()=>{const e={"Content-Type":"application/json"},t=localStorage.getItem(Cl.USER_ID),s=localStorage.getItem(Cl.CLUB_ID),a=localStorage.getItem(Cl.TENANT_ID),l=localStorage.getItem(Cl.AUTH_TOKEN);return t&&(e["x-user-id"]=t),s&&(e["x-club-id"]=s),a&&(e["x-tenant-id"]=a),l&&(e.Authorization="Bearer ".concat(l)),e},Pl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat("http://localhost:3333/api").concat(e),a=c(c({},t),{},{headers:c(c({},kl()),t.headers)});try{const e=await fetch(s,a);if(!e.ok){let t;try{t=await e.json()}catch(ca){t={message:e.statusText||"API Error: ".concat(e.status)}}if(401===e.status)throw new Error(t.message||"Invalid email or password");throw new Error(t.message||"API Error: ".concat(e.status))}return 204===e.status?null:await e.json()}catch(l){throw console.error("API Request Error:",l),l}},Tl=async(e,t)=>{const s=await Pl("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});if(s.user)if(localStorage.setItem(Cl.USER_ID,s.user.id),localStorage.setItem(Cl.USER_EMAIL,s.user.email),localStorage.setItem("user",JSON.stringify({id:s.user.id,email:s.user.email,name:s.user.displayName||s.user.email,displayName:s.user.displayName,isMasterAdmin:s.user.isMasterAdmin||!1})),s.clubRoles&&s.clubRoles.length>0){const e=s.clubRoles[0];localStorage.setItem(Cl.USER_ROLE,e.role),localStorage.setItem(Cl.CLUB_ID,e.club.id),localStorage.setItem(Cl.TENANT_ID,e.club.tenantId)}else if(s.tenantRoles&&s.tenantRoles.length>0){const e=s.tenantRoles[0];localStorage.setItem(Cl.USER_ROLE,e.role),localStorage.setItem(Cl.TENANT_ID,e.tenant.id)}else s.user.isMasterAdmin&&localStorage.setItem(Cl.USER_ROLE,"MASTER_ADMIN");return s},Il=()=>{Object.values(Cl).forEach(e=>{localStorage.removeItem(e)})},Dl=()=>{const e=localStorage.getItem("user"),t=e?JSON.parse(e):{};return{userId:localStorage.getItem(Cl.USER_ID),email:localStorage.getItem(Cl.USER_EMAIL),role:localStorage.getItem(Cl.USER_ROLE),clubId:localStorage.getItem(Cl.CLUB_ID),tenantId:localStorage.getItem(Cl.TENANT_ID),isMasterAdmin:t.isMasterAdmin||!1,displayName:t.displayName||null}},El=()=>!!localStorage.getItem(Cl.USER_ID),Al=async e=>await Pl("/clubs/".concat(e)),Ll=async(e,t)=>await Pl("/clubs/".concat(e,"/players/").concat(t)),Rl=async e=>await Pl("/clubs/".concat(e,"/revenue")),Ol=async e=>await Pl("/clubs/".concat(e,"/rake-collections/active-tables")),Ml=async(e,t)=>await Pl("/clubs/".concat(e,"/rake-collections"),{method:"POST",body:JSON.stringify(t)}),Fl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Object.fromEntries(Object.entries(t).filter(e=>{let[t,s]=e;return""!==s&&null!==s&&void 0!==s})),a=new URLSearchParams(s).toString();return await Pl("/clubs/".concat(e,"/rake-collections").concat(a?"?".concat(a):""))},_l=async(e,t,s)=>{const a=new URLSearchParams;return t&&a.append("startDate",t),s&&a.append("endDate",s),await Pl("/clubs/".concat(e,"/rake-collections/stats").concat(a.toString()?"?".concat(a.toString()):""))},zl=async e=>await Pl("/clubs/".concat(e,"/buyout-requests")),ql=async(e,t,s)=>await Pl("/clubs/".concat(e,"/buyout-requests/").concat(t,"/approve"),{method:"POST",body:JSON.stringify(s)}),Ul=async(e,t,s)=>await Pl("/clubs/".concat(e,"/buyout-requests/").concat(t,"/reject"),{method:"POST",body:JSON.stringify(s)}),Bl=async e=>await Pl("/clubs/".concat(e,"/buyin-requests")),Wl=async(e,t,s)=>await Pl("/clubs/".concat(e,"/buyin-requests/").concat(t,"/approve"),{method:"POST",body:JSON.stringify(s)}),Hl=async(e,t,s)=>await Pl("/clubs/".concat(e,"/buyin-requests/").concat(t,"/reject"),{method:"POST",body:JSON.stringify(s)}),Vl=async(e,t,s,a)=>{const l=new URLSearchParams;return t&&l.append("startDate",t),s&&l.append("endDate",s),a&&l.append("staffId",a),await Pl("/clubs/".concat(e,"/attendance").concat(l.toString()?"?".concat(l.toString()):""))},Jl=async(e,t,s)=>{const a=new URLSearchParams;return t&&a.append("startDate",t),s&&a.append("endDate",s),await Pl("/clubs/".concat(e,"/attendance/stats").concat(a.toString()?"?".concat(a.toString()):""))},Kl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Object.fromEntries(Object.entries(t).filter(e=>{let[t,s]=e;return""!==s&&null!==s&&void 0!==s})),a=new URLSearchParams(s).toString();return await Pl("/clubs/".concat(e,"/payroll/salary").concat(a?"?".concat(a):""))},Ql=async(e,t)=>await Pl("/clubs/".concat(e,"/attendance"),{method:"POST",body:JSON.stringify(t)}),Gl=async e=>await Pl("/clubs/".concat(e,"/players")),$l=async e=>await Pl("/clubs/".concat(e,"/players-pending-approval")),Yl=async e=>await Pl("/clubs/".concat(e,"/players-suspended")),Xl=async e=>await Pl("/clubs/".concat(e,"/tables")),Zl=async(e,t)=>await Pl("/clubs/".concat(e,"/tables"),{method:"POST",body:JSON.stringify(t)}),er=async(e,t,s)=>await Pl("/clubs/".concat(e,"/tables/").concat(t),{method:"PUT",body:JSON.stringify(s)}),tr=async(e,t)=>await Pl("/clubs/".concat(e,"/tables/").concat(t),{method:"DELETE"}),sr=async(e,t)=>await Pl("/clubs/".concat(e,"/tables/").concat(t,"/pause-session"),{method:"POST"}),ar=async(e,t)=>await Pl("/clubs/".concat(e,"/tables/").concat(t,"/resume-session"),{method:"POST"}),lr=async(e,t)=>await Pl("/clubs/".concat(e,"/tables/").concat(t,"/end-session"),{method:"POST"}),rr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/tables/").concat(t,"/session-params"),{method:"PATCH",body:JSON.stringify(s)}),nr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=t?"?status=".concat(t):"";return await Pl("/clubs/".concat(e,"/waitlist").concat(s))},ir=async e=>await Pl("/clubs/".concat(e,"/fnb/menu")),or=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/menu"),{method:"POST",body:JSON.stringify(t)}),dr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/fnb/menu/").concat(t),{method:"PUT",body:JSON.stringify(s)}),cr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const l=new URLSearchParams;return t&&l.append("status",t),l.append("page",s.toString()),l.append("limit",a.toString()),await Pl("/clubs/".concat(e,"/fnb/orders?").concat(l.toString()))},ur=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/kitchen-stations"),{method:"POST",body:JSON.stringify(t)}),mr=async function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"?activeOnly=true":"";return await Pl("/clubs/".concat(e,"/fnb/kitchen-stations").concat(t))},xr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/fnb/kitchen-stations/").concat(t),{method:"PATCH",body:JSON.stringify(s)}),hr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/kitchen-stations/").concat(t),{method:"DELETE"}),pr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/kitchen-stations/").concat(t,"/statistics")),br=async(e,t,s)=>await Pl("/clubs/".concat(e,"/fnb/orders/").concat(t,"/accept"),{method:"POST",body:JSON.stringify({stationId:s,isAccepted:!0})}),gr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/fnb/orders/").concat(t,"/reject"),{method:"POST",body:JSON.stringify({rejectedReason:s,isAccepted:!1})}),fr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/orders/").concat(t,"/ready"),{method:"POST"}),vr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/orders/").concat(t,"/delivered"),{method:"POST"}),yr=async e=>await Pl("/clubs/".concat(e,"/fnb/categories/all")),wr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/categories"),{method:"POST",body:JSON.stringify({categoryName:t})}),jr=async e=>await Pl("/clubs/".concat(e,"/fnb/inventory")),Nr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/inventory"),{method:"POST",body:JSON.stringify(t)}),Sr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/fnb/inventory/").concat(t),{method:"PATCH",body:JSON.stringify(s)}),Cr=async function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"?activeOnly=true":"";return await Pl("/clubs/".concat(e,"/fnb/suppliers").concat(t))},kr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/suppliers"),{method:"POST",body:JSON.stringify(t)}),Pr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/fnb/suppliers/").concat(t),{method:"PATCH",body:JSON.stringify(s)}),Tr=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/suppliers/").concat(t),{method:"DELETE"}),Ir=async(e,t)=>await Pl("/clubs/".concat(e,"/fnb/menu/").concat(t),{method:"DELETE"}),Dr=async e=>{const t=await Pl("/clubs/".concat(e,"/tournaments"));return t.tournaments||t||[]},Er=async(e,t)=>await Pl("/clubs/".concat(e,"/tournaments/").concat(t)),Ar=async(e,t)=>await Pl("/clubs/".concat(e,"/tournaments"),{method:"POST",body:JSON.stringify(t)}),Lr=async(e,t)=>await Pl("/clubs/".concat(e,"/tournaments/").concat(t),{method:"DELETE"}),Rr=async(e,t)=>await Pl("/clubs/".concat(e,"/tournaments/").concat(t,"/start"),{method:"POST"}),Or=async(e,t,s)=>await Pl("/clubs/".concat(e,"/tournaments/").concat(t,"/end"),{method:"POST",body:JSON.stringify(s)}),Mr=async(e,t)=>await Pl("/clubs/".concat(e,"/tournaments/").concat(t,"/players")),Fr=async(e,t)=>await Pl("/clubs/".concat(e,"/tournaments/").concat(t,"/winners")),_r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=new URLSearchParams;t.role&&s.append("role",t.role),t.status&&s.append("status",t.status),t.search&&s.append("search",t.search),t.sortBy&&s.append("sortBy",t.sortBy),t.sortOrder&&s.append("sortOrder",t.sortOrder);const a=s.toString();return await Pl("/clubs/".concat(e,"/staff-management").concat(a?"?"+a:""))},zr=async(e,t)=>await Pl("/clubs/".concat(e,"/staff-management/create"),{method:"POST",body:JSON.stringify(t)}),qr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/staff-management/").concat(t),{method:"PUT",body:JSON.stringify(s)}),Ur=async(e,t,s)=>await Pl("/clubs/".concat(e,"/staff-management/").concat(t,"/suspend"),{method:"POST",body:JSON.stringify({reason:s})}),Br=async(e,t)=>await Pl("/clubs/".concat(e,"/staff-management/").concat(t,"/reactivate"),{method:"POST"}),Wr=async(e,t)=>await Pl("/clubs/".concat(e,"/staff-management/").concat(t),{method:"DELETE"}),Hr=async(e,t)=>await Pl("/clubs/".concat(e,"/staff-management/").concat(t,"/reset-password"),{method:"POST"}),Vr=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/shifts").concat(t?"?"+t:""))},Jr=async(e,t)=>await Pl("/clubs/".concat(e,"/shifts"),{method:"POST",body:JSON.stringify(t)}),Kr=async(e,t,s)=>await Pl("/clubs/".concat(e,"/shifts/").concat(t),{method:"PATCH",body:JSON.stringify(s)}),Qr=async(e,t)=>await Pl("/clubs/".concat(e,"/shifts/").concat(t),{method:"DELETE"}),Gr=async(e,t)=>await Pl("/clubs/".concat(e,"/shifts/copy"),{method:"POST",body:JSON.stringify(t)}),$r=async e=>await Pl("/clubs/".concat(e,"/shifts-dealers")),Yr=async(e,t)=>await Pl("/clubs/".concat(e,"/payroll/salary"),{method:"POST",body:JSON.stringify(t)}),Xr=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/payroll/salary").concat(t?"?"+t:""))},Zr=async e=>await Pl("/clubs/".concat(e,"/payroll/staff")),en=async e=>await Pl("/clubs/".concat(e,"/payroll/dealers")),tn=async(e,t)=>{const s=t?"?dealerId=".concat(t):"";return await Pl("/clubs/".concat(e,"/payroll/tips/settings").concat(s))},sn=async(e,t,s)=>{const a=s?"?dealerId=".concat(s):"";return await Pl("/clubs/".concat(e,"/payroll/tips/settings").concat(a),{method:"POST",body:JSON.stringify(t)})},an=async(e,t)=>await Pl("/clubs/".concat(e,"/payroll/tips"),{method:"POST",body:JSON.stringify(t)}),ln=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/payroll/tips").concat(t?"?"+t:""))},rn=async(e,t)=>await Pl("/clubs/".concat(e,"/payroll/cashout"),{method:"POST",body:JSON.stringify(t)}),nn=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/payroll/cashout").concat(t?"?"+t:""))},on=async(e,t)=>await Pl("/clubs/".concat(e,"/bonuses/players"),{method:"POST",body:JSON.stringify(t)}),dn=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/bonuses/players").concat(t?"?"+t:""))},cn=async(e,t)=>{const s=t?"?search=".concat(encodeURIComponent(t)):"";return await Pl("/clubs/".concat(e,"/bonuses/players/list").concat(s))},un=async(e,t)=>await Pl("/clubs/".concat(e,"/bonuses/staff"),{method:"POST",body:JSON.stringify(t)}),mn=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/bonuses/staff").concat(t?"?"+t:""))},xn=async(e,t)=>{const s=t?"?search=".concat(encodeURIComponent(t)):"";return await Pl("/clubs/".concat(e,"/bonuses/staff/list").concat(s))},hn=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/affiliates").concat(t?"?"+t:""))},pn=async function(e,t){const s=new URLSearchParams(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).toString();return await Pl("/clubs/".concat(e,"/affiliates/").concat(t,"/referrals").concat(s?"?"+s:""))},bn=async(e,t)=>await Pl("/clubs/".concat(e,"/affiliates/payments"),{method:"POST",body:JSON.stringify(t)}),gn=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/affiliates/transactions").concat(t?"?"+t:""))},fn=async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/financial-overrides/transactions").concat(t?"?"+t:""))},vn=async(e,t,s)=>await Pl("/clubs/".concat(e,"/financial-overrides/transactions/").concat(t,"/edit"),{method:"PUT",body:JSON.stringify(s)}),yn=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await Pl("/clubs/".concat(e,"/financial-overrides/transactions/").concat(t,"/cancel"),{method:"POST",body:JSON.stringify(s)})},wn=async()=>await Pl("/tenants"),jn=async e=>await Pl("/tenants/".concat(e),{method:"GET"}),Nn=async e=>{const t="string"===typeof e?{name:e}:e;return await Pl("/tenants",{method:"POST",body:JSON.stringify(t)})},Sn=async(e,t)=>{const s={name:t.name};return t.description&&(s.description=t.description),t.skinColor&&(s.skinColor=t.skinColor),t.gradient&&(s.gradient=t.gradient),t.logoUrl&&(s.logoUrl=t.logoUrl),t.videoUrl&&(s.videoUrl=t.videoUrl),await Pl("/tenants/".concat(e,"/clubs"),{method:"POST",body:JSON.stringify(s)})},Cn=async(e,t)=>await Pl("/tenants/".concat(e,"/clubs/").concat(t,"/logo-upload-url"),{method:"POST"}),kn=async(e,t)=>{const s=await fetch(e,{method:"PUT",headers:{"Content-Type":"image/png"},body:t});if(!s.ok)throw new Error("Failed to upload logo");return s},Pn=async(e,t)=>(await Pl("/tenants/".concat(e,"/clubs/").concat(t,"/logo-url"))).logoUrl,Tn={getCurrentUser:async()=>{const e=localStorage.getItem(Cl.USER_ID);if(!e)throw new Error("User not logged in");return await Pl("/users/".concat(e))},getAllClubs:async()=>await Pl("/clubs/master-admin/all"),updateClubStatus:async(e,t,s)=>await Pl("/clubs/".concat(e,"/status"),{method:"PUT",body:JSON.stringify({status:t,reason:s})}),updateClubSubscription:async(e,t)=>await Pl("/clubs/".concat(e,"/subscription"),{method:"PUT",body:JSON.stringify(t)}),updateClubTerms:async(e,t)=>await Pl("/clubs/".concat(e,"/terms"),{method:"PUT",body:JSON.stringify({termsAndConditions:t})}),createTenantWithClub:async e=>await Pl("/tenants/with-club",{method:"POST",body:JSON.stringify(e)}),getDashboardStats:async()=>{try{const e=await Tn.getAllClubs(),t=await wn(),s=e.length,a=e.filter(e=>"active"===e.status).length,l=e.filter(e=>"suspended"===e.status).length,r=e.filter(e=>"killed"===e.status).length,n=e.reduce((e,t)=>e+(parseFloat(t.subscriptionPrice)||0),0);return{totalTenants:t.length,totalClubs:s,activeClubs:a,suspendedClubs:l,killedClubs:r,monthlyRevenue:n,clubs:e,tenants:t}}catch(e){return console.error("Error loading dashboard stats:",e),{totalTenants:0,totalClubs:0,activeClubs:0,suspendedClubs:0,killedClubs:0,monthlyRevenue:0,clubs:[],tenants:[]}}}},In={getClubs:async()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("superadminuser")||"{}"),s=e.id||t.userId;if(!s)throw new Error("User not logged in");return await Pl("/users/".concat(s,"/clubs"))},getClub:async e=>await Pl("/clubs/".concat(e)),getClubRevenue:async e=>await Pl("/clubs/".concat(e,"/revenue")),getAllPlayers:async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/players?").concat(t))},createPlayer:async(e,t)=>await Pl("/clubs/".concat(e,"/players"),{method:"POST",body:JSON.stringify(t)}),getPendingApprovalPlayers:async e=>await Pl("/clubs/".concat(e,"/players-pending-approval")),approvePlayer:async(e,t,s)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/approve"),{method:"POST",body:JSON.stringify({notes:s})}),rejectPlayer:async(e,t,s)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/reject"),{method:"POST",body:JSON.stringify({reason:s})}),suspendPlayer:async(e,t,s)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/suspend"),{method:"POST",body:JSON.stringify(s)}),unsuspendPlayer:async(e,t)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/unsuspend"),{method:"POST"}),getSuspendedPlayers:async e=>await Pl("/clubs/".concat(e,"/players-suspended")),getPlayer:async(e,t)=>await Pl("/clubs/".concat(e,"/players/").concat(t)),getPlayers:async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/players?").concat(t))},getPlayerBalance:async(e,t)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/balance")),getTransactions:async function(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return await Pl("/clubs/".concat(e,"/transactions").concat(t?"?"+t:""))},createTransaction:async(e,t)=>await Pl("/clubs/".concat(e,"/transactions"),{method:"POST",body:JSON.stringify(t)}),getCreditRequests:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=t?"?status=".concat(t):"";return await Pl("/clubs/".concat(e,"/credit-requests").concat(s))},approveCreditRequest:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await Pl("/clubs/".concat(e,"/credit-requests/").concat(t,"/approve"),{method:"POST",body:JSON.stringify(s)})},rejectCreditRequest:async(e,t,s)=>await Pl("/clubs/".concat(e,"/credit-requests/").concat(t,"/deny"),{method:"POST",body:JSON.stringify(s)}),unlockCredit:async(e,t,s)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/enable-credit"),{method:"POST",body:JSON.stringify(s)}),updateCreditLimit:async(e,t,s)=>await Pl("/clubs/".concat(e,"/players/").concat(t,"/credit-limit"),{method:"PATCH",body:JSON.stringify(s)}),getVipProducts:async e=>await Pl("/clubs/".concat(e,"/vip-products")),createVipProduct:async(e,t)=>await Pl("/clubs/".concat(e,"/vip-products"),{method:"POST",body:JSON.stringify(t)}),updateVipProduct:async(e,t,s)=>await Pl("/clubs/".concat(e,"/vip-products/").concat(t),{method:"PUT",body:JSON.stringify(s)}),deleteVipProduct:async(e,t)=>await Pl("/clubs/".concat(e,"/vip-products/").concat(t),{method:"DELETE"}),createVipProductImageUploadUrl:async(e,t)=>await Pl("/clubs/".concat(e,"/vip-products/upload-url"),{method:"POST",body:JSON.stringify({filename:t})}),uploadToSignedUrl:async(e,t)=>{const s=await fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type||"application/octet-stream"}});if(!s.ok)throw new Error("Upload failed: ".concat(s.statusText));return s},getPushNotifications:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=t?"?notificationType=".concat(t):"";return await Pl("/clubs/".concat(e,"/push-notifications").concat(s))},createPushNotification:async(e,t)=>await Pl("/clubs/".concat(e,"/push-notifications"),{method:"POST",body:JSON.stringify(t)}),updatePushNotification:async(e,t,s)=>await Pl("/clubs/".concat(e,"/push-notifications/").concat(t),{method:"PUT",body:JSON.stringify(s)}),deletePushNotification:async(e,t)=>await Pl("/clubs/".concat(e,"/push-notifications/").concat(t),{method:"DELETE"}),createPushNotificationUploadUrl:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return await Pl("/clubs/".concat(e,"/push-notifications/upload-url"),{method:"POST",body:JSON.stringify({filename:t,isVideo:s})})}},Dn=async(e,t,s)=>await Pl("/clubs/".concat(e,"/chat/staff/sessions"),{method:"POST",body:JSON.stringify({recipientStaffId:t,subject:s})}),En=async function(e){let{page:t=1,limit:s=10,search:a,role:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams;return r.append("page",t.toString()),r.append("limit",s.toString()),a&&r.append("search",a),l&&r.append("role",l),await Pl("/clubs/".concat(e,"/chat/staff/sessions?").concat(r.toString()))},An=async function(e){let{page:t=1,limit:s=10,status:a,search:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new URLSearchParams;return r.append("page",t.toString()),r.append("limit",s.toString()),a&&r.append("status",a),l&&r.append("search",l),await Pl("/clubs/".concat(e,"/chat/player/sessions?").concat(r.toString()))},Ln=async(e,t,s)=>await Pl("/clubs/".concat(e,"/chat/sessions/").concat(t,"/messages"),{method:"POST",body:JSON.stringify({message:s})}),Rn=async function(e,t){let{page:s=1,limit:a=50}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=new URLSearchParams;return l.append("page",s.toString()),l.append("limit",a.toString()),await Pl("/clubs/".concat(e,"/chat/sessions/").concat(t,"/messages?").concat(l.toString()))},On=async(e,t,s)=>await Pl("/clubs/".concat(e,"/chat/sessions/").concat(t),{method:"PATCH",body:JSON.stringify(s)}),Mn=e=>{let{children:t,requiredRole:s}=e;const a=El(),l=Dl(),r=me();if(!a)return"MASTER_ADMIN"===s?(0,ra.jsx)(Ae,{to:"/master-admin/signin",state:{from:r},replace:!0}):"SUPER_ADMIN"===s?(0,ra.jsx)(Ae,{to:"/super-admin/signin",state:{from:r},replace:!0}):(0,ra.jsx)(Ae,{to:"/login",state:{from:r},replace:!0});if(s){if(!((null===l||void 0===l?void 0:l.isMasterAdmin)&&"MASTER_ADMIN"===s||(null===l||void 0===l?void 0:l.role)===s))return console.warn("Access denied. Required: ".concat(s,", Current: ").concat(null===l||void 0===l?void 0:l.role)),(0,ra.jsx)(Ae,{to:"/404",replace:!0})}return t};function Fn(){const e=pe();return(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white flex items-center justify-center p-4",children:(0,ra.jsxs)("div",{className:"text-center max-w-md",children:[(0,ra.jsx)("div",{className:"text-9xl font-bold text-red-500 mb-4",children:"404"}),(0,ra.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Page Not Found"}),(0,ra.jsx)("p",{className:"text-gray-400 mb-6",children:"The page you're looking for doesn't exist or you don't have permission to access it."}),(0,ra.jsx)("button",{onClick:()=>e("/"),className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-lg font-medium transition-colors",children:"Go Back Home"})]})})}var _n,zn,qn,Un,Bn,Wn,Hn,Vn,Jn,Kn,Qn,Gn,$n,Yn,Xn,Zn,ei=(_n=new WeakMap,zn=new WeakMap,qn=new WeakMap,Un=new WeakMap,Bn=new WeakMap,Wn=new WeakMap,Hn=new WeakMap,Vn=new WeakMap,Jn=new WeakMap,Kn=new WeakMap,Qn=new WeakMap,Gn=new WeakMap,$n=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,Zn=new WeakSet,class extends cs{constructor(e,t){super(),ts(this,Zn),kt(this,_n,void 0),kt(this,zn,void 0),kt(this,qn,void 0),kt(this,Un,void 0),kt(this,Bn,void 0),kt(this,Wn,void 0),kt(this,Hn,void 0),kt(this,Vn,void 0),kt(this,Jn,void 0),kt(this,Kn,void 0),kt(this,Qn,void 0),kt(this,Gn,void 0),kt(this,$n,void 0),kt(this,Yn,void 0),kt(this,Xn,new Set),this.options=t,It(_n,this,e),It(Vn,this,null),It(Hn,this,xs()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Tt(zn,this).addObserver(this),ci(Tt(zn,this),this.options)?Pt(Zn,this,ti).call(this):this.updateResult(),Pt(Zn,this,ri).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ui(Tt(zn,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ui(Tt(zn,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pt(Zn,this,ni).call(this),Pt(Zn,this,ii).call(this),Tt(zn,this).removeObserver(this)}setOptions(e){const t=this.options,s=Tt(zn,this);if(this.options=Tt(_n,this).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof Ft(this.options.enabled,Tt(zn,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pt(Zn,this,oi).call(this),Tt(zn,this).setOptions(this.options),t._defaulted&&!Vt(this.options,t)&&Tt(_n,this).getQueryCache().notify({type:"observerOptionsUpdated",query:Tt(zn,this),observer:this});const a=this.hasListeners();a&&mi(Tt(zn,this),s,this.options,t)&&Pt(Zn,this,ti).call(this),this.updateResult(),!a||Tt(zn,this)===s&&Ft(this.options.enabled,Tt(zn,this))===Ft(t.enabled,Tt(zn,this))&&Mt(this.options.staleTime,Tt(zn,this))===Mt(t.staleTime,Tt(zn,this))||Pt(Zn,this,si).call(this);const l=Pt(Zn,this,ai).call(this);!a||Tt(zn,this)===s&&Ft(this.options.enabled,Tt(zn,this))===Ft(t.enabled,Tt(zn,this))&&l===Tt(Yn,this)||Pt(Zn,this,li).call(this,l)}getOptimisticResult(e){const t=Tt(_n,this).getQueryCache().build(Tt(_n,this),e),s=this.createResult(t,e);return function(e,t){if(!Vt(e.getCurrentResult(),t))return!0;return!1}(this,s)&&(It(Un,this,s),It(Wn,this,this.options),It(Bn,this,Tt(zn,this).state)),s}getCurrentResult(){return Tt(Un,this)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null===t||void 0===t||t(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==Tt(Hn,this).status||Tt(Hn,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){Tt(Xn,this).add(e)}getCurrentQuery(){return Tt(zn,this)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return this.fetch(c({},t))}fetchOptimistic(e){const t=Tt(_n,this).defaultQueryOptions(e),s=Tt(_n,this).getQueryCache().build(Tt(_n,this),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){var t;return Pt(Zn,this,ti).call(this,c(c({},e),{},{cancelRefetch:null===(t=e.cancelRefetch)||void 0===t||t})).then(()=>(this.updateResult(),Tt(Un,this)))}createResult(e,t){const s=Tt(zn,this),a=this.options,l=Tt(Un,this),r=Tt(Bn,this),n=Tt(Wn,this),i=e!==s?e.state:Tt(qn,this),{state:o}=e;let d,u=c({},o),m=!1;if(t._optimisticResults){const l=this.hasListeners(),r=!l&&ci(e,t),n=l&&mi(e,s,t,a);(r||n)&&(u=c(c({},u),Es(o.data,e.options))),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:x,errorUpdatedAt:h,status:p}=u;d=u.data;let b=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===p){let e;var g;if(null!==l&&void 0!==l&&l.isPlaceholderData&&t.placeholderData===(null===n||void 0===n?void 0:n.placeholderData))e=l.data,b=!0;else e="function"===typeof t.placeholderData?t.placeholderData(null===(g=Tt(Qn,this))||void 0===g?void 0:g.state.data,Tt(Qn,this)):t.placeholderData;void 0!==e&&(p="success",d=Gt(null===l||void 0===l?void 0:l.data,e,t),m=!0)}if(t.select&&void 0!==d&&!b)if(l&&d===(null===r||void 0===r?void 0:r.data)&&t.select===Tt(Jn,this))d=Tt(Kn,this);else try{It(Jn,this,t.select),d=t.select(d),d=Gt(null===l||void 0===l?void 0:l.data,d,t),It(Kn,this,d),It(Vn,this,null)}catch(S){It(Vn,this,S)}Tt(Vn,this)&&(x=Tt(Vn,this),d=Tt(Kn,this),h=Date.now(),p="error");const f="fetching"===u.fetchStatus,v="pending"===p,y="error"===p,w=v&&f,j=void 0!==d,N={status:p,fetchStatus:u.fetchStatus,isPending:v,isSuccess:"success"===p,isError:y,isInitialLoading:w,isLoading:w,data:d,dataUpdatedAt:u.dataUpdatedAt,error:x,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>i.dataUpdateCount||u.errorUpdateCount>i.errorUpdateCount,isFetching:f,isRefetching:f&&!v,isLoadingError:y&&!j,isPaused:"paused"===u.fetchStatus,isPlaceholderData:m,isRefetchError:y&&j,isStale:xi(e,t),refetch:this.refetch,promise:Tt(Hn,this),isEnabled:!1!==Ft(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===N.status?e.reject(N.error):void 0!==N.data&&e.resolve(N.data)},a=()=>{const e=It(Hn,this,N.promise=xs());t(e)},l=Tt(Hn,this);switch(l.status){case"pending":e.queryHash===s.queryHash&&t(l);break;case"fulfilled":"error"!==N.status&&N.data===l.value||a();break;case"rejected":"error"===N.status&&N.error===l.reason||a()}}return N}updateResult(){const e=Tt(Un,this),t=this.createResult(Tt(zn,this),this.options);if(It(Bn,this,Tt(zn,this).state),It(Wn,this,this.options),void 0!==Tt(Bn,this).data&&It(Qn,this,Tt(zn,this)),Vt(t,e))return;It(Un,this,t);Pt(Zn,this,di).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"===typeof t?t():t;if("all"===s||!s&&!Tt(Xn,this).size)return!0;const a=new Set(null!==s&&void 0!==s?s:Tt(Xn,this));return this.options.throwOnError&&a.add("error"),Object.keys(Tt(Un,this)).some(t=>{const s=t;return Tt(Un,this)[s]!==e[s]&&a.has(s)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pt(Zn,this,ri).call(this)}});function ti(e){Pt(Zn,this,oi).call(this);let t=Tt(zn,this).fetch(this.options,e);return null!==e&&void 0!==e&&e.throwOnError||(t=t.catch(Lt)),t}function si(){Pt(Zn,this,ni).call(this);const e=Mt(this.options.staleTime,Tt(zn,this));if(At||Tt(Un,this).isStale||!Rt(e))return;const t=Ot(Tt(Un,this).dataUpdatedAt,e)+1;It(Gn,this,Et.setTimeout(()=>{Tt(Un,this).isStale||this.updateResult()},t))}function ai(){var e;return null!==(e="function"===typeof this.options.refetchInterval?this.options.refetchInterval(Tt(zn,this)):this.options.refetchInterval)&&void 0!==e&&e}function li(e){Pt(Zn,this,ii).call(this),It(Yn,this,e),!At&&!1!==Ft(this.options.enabled,Tt(zn,this))&&Rt(Tt(Yn,this))&&0!==Tt(Yn,this)&&It($n,this,Et.setInterval(()=>{(this.options.refetchIntervalInBackground||us.isFocused())&&Pt(Zn,this,ti).call(this)},Tt(Yn,this)))}function ri(){Pt(Zn,this,si).call(this),Pt(Zn,this,li).call(this,Pt(Zn,this,ai).call(this))}function ni(){Tt(Gn,this)&&(Et.clearTimeout(Tt(Gn,this)),It(Gn,this,void 0))}function ii(){Tt($n,this)&&(Et.clearInterval(Tt($n,this)),It($n,this,void 0))}function oi(){const e=Tt(_n,this).getQueryCache().build(Tt(_n,this),this.options);if(e===Tt(zn,this))return;const t=Tt(zn,this);It(zn,this,e),It(qn,this,e.state),this.hasListeners()&&(null===t||void 0===t||t.removeObserver(this),e.addObserver(this))}function di(e){ds.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(Tt(Un,this))}),Tt(_n,this).getQueryCache().notify({query:Tt(zn,this),type:"observerResultsUpdated"})})}function ci(e,t){return function(e,t){return!1!==Ft(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&ui(e,t,t.refetchOnMount)}function ui(e,t,s){if(!1!==Ft(t.enabled,e)&&"static"!==Mt(t.staleTime,e)){const a="function"===typeof s?s(e):s;return"always"===a||!1!==a&&xi(e,t)}return!1}function mi(e,t,s,a){return(e!==t||!1===Ft(a.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&xi(e,s)}function xi(e,t){return!1!==Ft(t.enabled,e)&&e.isStaleByTime(Mt(t.staleTime,e))}function hi(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var pi,bi,gi,fi,vi,yi=a.createContext(hi()),wi=a.createContext(!1),ji=(wi.Provider,(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()}));function Ni(e,t,s){var l,r,n,i;const o=a.useContext(wi),d=a.useContext(yi),c=ia(s),u=c.defaultQueryOptions(e);null===(l=c.getDefaultOptions().queries)||void 0===l||null===(r=l._experimental_beforeQuery)||void 0===r||r.call(l,u),u._optimisticResults=o?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,s=e=>"static"===e?e:Math.max(null!==e&&void 0!==e?e:t,t),a=e.staleTime;e.staleTime="function"===typeof a?function(){return s(a(...arguments))}:s(a),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(u),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(u,d),(e=>{a.useEffect(()=>{e.clearReset()},[e])})(d);const m=!c.getQueryCache().get(u.queryHash),[x]=a.useState(()=>new t(c,u)),h=x.getOptimisticResult(u),p=!o&&!1!==e.subscribed;if(a.useSyncExternalStore(a.useCallback(e=>{const t=p?x.subscribe(ds.batchCalls(e)):Lt;return x.updateResult(),t},[x,p]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),a.useEffect(()=>{x.setOptions(u)},[u,x]),((e,t)=>(null===e||void 0===e?void 0:e.suspense)&&t.isPending)(u,h))throw ji(u,x,d);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:a,query:l,suspense:r}=e;return t.isError&&!s.isReset()&&!t.isFetching&&l&&(r&&void 0===t.data||es(a,[t.error,l]))})({result:h,errorResetBoundary:d,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw h.error;if(null===(n=c.getDefaultOptions().queries)||void 0===n||null===(i=n._experimental_afterQuery)||void 0===i||i.call(n,u,h),u.experimental_prefetchInRender&&!At&&((e,t)=>e.isLoading&&e.isFetching&&!t)(h,o)){var b;const e=m?ji(u,x,d):null===(b=c.getQueryCache().get(u.queryHash))||void 0===b?void 0:b.promise;null===e||void 0===e||e.catch(Lt).finally(()=>{x.updateResult()})}return u.notifyOnChangeProps?h:x.trackResult(h)}function Si(e,t){return Ni(e,ei,t)}var Ci=(pi=new WeakMap,bi=new WeakMap,gi=new WeakMap,fi=new WeakMap,vi=new WeakSet,class extends cs{constructor(e,t){super(),ts(this,vi),kt(this,pi,void 0),kt(this,bi,void 0),kt(this,gi,void 0),kt(this,fi,void 0),It(pi,this,e),this.setOptions(t),this.bindMethods(),Pt(vi,this,ki).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const s=this.options;this.options=Tt(pi,this).defaultMutationOptions(e),Vt(this.options,s)||Tt(pi,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Tt(gi,this),observer:this}),null!==s&&void 0!==s&&s.mutationKey&&this.options.mutationKey&&Ut(s.mutationKey)!==Ut(this.options.mutationKey)?this.reset():"pending"===(null===(t=Tt(gi,this))||void 0===t?void 0:t.state.status)&&Tt(gi,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Tt(gi,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){Pt(vi,this,ki).call(this),Pt(vi,this,Pi).call(this,e)}getCurrentResult(){return Tt(bi,this)}reset(){var e;null===(e=Tt(gi,this))||void 0===e||e.removeObserver(this),It(gi,this,void 0),Pt(vi,this,ki).call(this),Pt(vi,this,Pi).call(this)}mutate(e,t){var s;return It(fi,this,t),null===(s=Tt(gi,this))||void 0===s||s.removeObserver(this),It(gi,this,Tt(pi,this).getMutationCache().build(Tt(pi,this),this.options)),Tt(gi,this).addObserver(this),Tt(gi,this).execute(e)}});function ki(){var e,t;const s=null!==(e=null===(t=Tt(gi,this))||void 0===t?void 0:t.state)&&void 0!==e?e:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};It(bi,this,c(c({},s),{},{isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset}))}function Pi(e){ds.batch(()=>{if(Tt(fi,this)&&this.hasListeners()){const d=Tt(bi,this).variables,c=Tt(bi,this).context,u={client:Tt(pi,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var t,s,a,l;if("success"===(null===e||void 0===e?void 0:e.type))null===(t=(s=Tt(fi,this)).onSuccess)||void 0===t||t.call(s,e.data,d,c,u),null===(a=(l=Tt(fi,this)).onSettled)||void 0===a||a.call(l,e.data,null,d,c,u);else if("error"===(null===e||void 0===e?void 0:e.type)){var r,n,i,o;null===(r=(n=Tt(fi,this)).onError)||void 0===r||r.call(n,e.error,d,c,u),null===(i=(o=Tt(fi,this)).onSettled)||void 0===i||i.call(o,void 0,e.error,d,c,u)}}this.listeners.forEach(e=>{e(Tt(bi,this))})})}function Ti(e,t){const s=ia(t),[l]=a.useState(()=>new Ci(s,e));a.useEffect(()=>{l.setOptions(e)},[l,e]);const r=a.useSyncExternalStore(a.useCallback(e=>l.subscribe(ds.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),n=a.useCallback((e,t)=>{l.mutate(e,t).catch(Lt)},[l]);if(r.error&&es(l.options.throwOnError,[r.error]))throw r.error;return c(c({},r),{},{mutate:n,mutateAsync:r.mutate})}var Ii=s(950);const Di=["Dashboard","Player Management","Tables & Waitlist","Rake Collection","Push Notifications","Tournaments","Chat"];function Ei(e){let{activeItem:t,setActiveItem:s,menuItems:l=Di,onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=localStorage.getItem("clubId"),{data:b}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p}),g=JSON.parse(localStorage.getItem("user")||"{}"),f=g.email||"manager@pokerroom.com",v=g.displayName||"Manager",y=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-yellow-500 to-green-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-yellow-500/20 via-green-600/30 to-emerald-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-green-300 to-teal-400 drop-shadow-lg mb-6",children:"Manager Portal"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"flex items-center text-white min-w-0 cursor-pointer hover:opacity-90 transition-opacity p-2 -m-2 rounded-lg",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-green-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,ra.jsx)("span",{className:"text-gray-900 font-bold text-sm",children:"M"})}),(0,ra.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold truncate",children:v}),(0,ra.jsx)("div",{className:"text-sm opacity-80 truncate",children:f})]})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):y.mutate({email:f,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:y.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:y.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),b&&b.code&&(0,ra.jsx)("div",{className:"mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:b.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map((e,a)=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-gray-900 font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-yellow-400/20 hover:to-green-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},a))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function Ai(e){let{selectedClubId:t,playersData:s,playersLoading:l,pendingPlayers:r,pendingLoading:n,suspendedPlayers:i=[],suspendedLoading:o=!1,onRefresh:d}=e;const[u,m]=(0,a.useState)("all"),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)("All"),[g,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)(1),[w,j]=(0,a.useState)(1),[N,S]=(0,a.useState)(1),C=10,[k,P]=(0,a.useState)({name:"",email:"",phoneNumber:"",referralCode:"",panCard:"",aadhaarFile:null,panCardFile:null,initialBalance:0}),[T,I]=(0,a.useState)(null),[D,E]=(0,a.useState)(!1),[A,L]=(0,a.useState)(null),[R,O]=(0,a.useState)(!1),[M,F]=(0,a.useState)(null),[_,z]=(0,a.useState)(!1),[q,U]=(0,a.useState)(null),[B,W]=(0,a.useState)({type:"temporary",reason:"",duration:""}),H=ia(),{data:V,isLoading:J}=Si({queryKey:["playerDetails",t,null===M||void 0===M?void 0:M.id],queryFn:async()=>{if(!M||!t)return null;const e=await In.getPlayer(t,M.id);let s=[];try{const e=await fetch("".concat("http://localhost:3333/api","/player-documents/my"),{headers:{"x-player-id":M.id,"x-club-id":t}});if(e.ok){const t=await e.json();s=t.documents||[]}}catch(l){console.error("Error fetching documents:",l)}const a=e.kycDocuments||M.kycDocuments||[];if(Array.isArray(a)&&a.length>0){const e=new Set(s.map(e=>e.url));a.forEach(t=>{t.url&&!e.has(t.url)&&s.push(t)})}return c(c({},e),{},{documents:s})},enabled:!!M&&!!t&&R}),K=Ti({mutationFn:async e=>{let{playerId:s,file:a,documentType:l}=e;const r=new FormData;r.append("file",a),r.append("type",l),r.append("name",a.name);const n=await fetch("".concat("http://localhost:3333/api","/player-documents/upload"),{method:"POST",headers:{"x-player-id":s,"x-club-id":t},body:r});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to upload document")}return n.json()}}),Q=Ti({mutationFn:async e=>{const s=await In.createPlayer(t,e),a=[];return k.aadhaarFile&&a.push(K.mutateAsync({playerId:s.id,file:k.aadhaarFile,documentType:"government_id"})),k.panCardFile&&a.push(K.mutateAsync({playerId:s.id,file:k.panCardFile,documentType:"pan_card"})),a.length>0&&await Promise.all(a),s},onSuccess:e=>{L({player:{name:e.name,email:e.email,tempPassword:e.tempPassword}}),E(!0),P({name:"",email:"",phoneNumber:"",referralCode:"",panCard:"",aadhaarFile:null,panCardFile:null,initialBalance:0}),H.invalidateQueries(["clubPlayers",t])},onError:e=>{Sl.error(e.message||"Failed to create player")}}),G=Ti({mutationFn:e=>{let{playerId:s,notes:a}=e;return In.approvePlayer(t,s,a)},onSuccess:()=>{Sl.success("Player approved successfully!"),I(null),d()},onError:e=>{Sl.error(e.message||"Failed to approve player")}}),$=Ti({mutationFn:e=>{let{playerId:s,reason:a}=e;return In.rejectPlayer(t,s,a)},onSuccess:()=>{Sl.success("Player rejected"),I(null),d()},onError:e=>{Sl.error(e.message||"Failed to reject player")}}),Y=Ti({mutationFn:async e=>{let{playerId:s,suspensionType:a,reason:l,duration:r}=e;const n={type:a,reason:l};return"temporary"===a&&r&&(n.duration="".concat(r," days")),await In.suspendPlayer(t,s,n)},onSuccess:()=>{Sl.success("Player suspended successfully"),z(!1),U(null),W({type:"temporary",reason:"",duration:""}),d(),H.invalidateQueries(["clubPlayers",t]),H.invalidateQueries(["suspendedPlayers",t])},onError:e=>{Sl.error(e.message||"Failed to suspend player")}}),X=Ti({mutationFn:async e=>await In.unsuspendPlayer(t,e),onSuccess:()=>{Sl.success("Player unsuspended successfully"),d(),H.invalidateQueries(["clubPlayers",t]),H.invalidateQueries(["suspendedPlayers",t])},onError:e=>{Sl.error(e.message||"Failed to unsuspend player")}}),{data:Z=[],isLoading:ee}=Si({queryKey:["fieldUpdateRequests",t],queryFn:async()=>[],enabled:!!t&&"field-updates"===u}),te=Ti({mutationFn:async e=>{let{requestId:t,approved:s,notes:a}=e;return{success:!0}},onSuccess:()=>{Sl.success("Field update request processed"),H.invalidateQueries(["fieldUpdateRequests",t])},onError:e=>{Sl.error(e.message||"Failed to process field update request")}}),se=((null===s||void 0===s?void 0:s.players)||[]).filter(e=>{var t,s,a;const l=!x||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(x.toLowerCase()))||(null===(a=e.playerId)||void 0===a?void 0:a.toLowerCase().includes(x.toLowerCase())),r="All"===p||e.status===p;return l&&r}),ae=Math.ceil(se.length/C),le=(v-1)*C,re=le+C,ne=se.slice(le,re),ie=Math.ceil(r.length/C),oe=(w-1)*C,de=oe+C,ce=r.slice(oe,de),ue=Math.ceil(Z.length/C),me=(N-1)*C,xe=me+C,he=Z.slice(me,xe);(0,a.useEffect)(()=>{y(1)},[x,p]);return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Player Management"}),(0,ra.jsx)("div",{className:"flex gap-2 border-b border-slate-700",children:[{id:"all",label:"All Players"},{id:"create",label:"Create Players"},{id:"approval",label:"Player Approval"},{id:"field-updates",label:"Player Fields Update Approval"}].map(e=>(0,ra.jsx)("button",{onClick:()=>{return t=e.id,m(t),y(1),j(1),void S(1);var t},className:"px-6 py-3 font-semibold transition-all ".concat(u===e.id?"bg-gradient-to-r from-red-400 to-purple-600 text-white border-b-2 border-purple-400":"text-gray-400 hover:text-white"),children:e.label},e.id))}),(0,ra.jsxs)("div",{className:"mt-6",children:["all"===u&&(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 flex gap-4",children:[(0,ra.jsx)("input",{type:"text",placeholder:"Search by name, email, or ID...",value:x,onChange:e=>h(e.target.value),className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500"}),(0,ra.jsxs)("select",{value:p,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",children:[(0,ra.jsx)("option",{value:"All",children:"All Status"}),(0,ra.jsx)("option",{value:"Active",children:"Active"}),(0,ra.jsx)("option",{value:"Pending",children:"Pending"}),(0,ra.jsx)("option",{value:"Suspended",children:"Suspended"})]})]}),l?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading players..."})]}):(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[(0,ra.jsx)("div",{className:"p-4 text-sm text-gray-400 flex justify-between items-center",children:(0,ra.jsxs)("span",{children:["Showing ",le+1,"-",Math.min(re,se.length)," of ",se.length," players"]})}),(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"ID"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Email"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Phone"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Balance"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"KYC"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Registered"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:0===ne.length?(0,ra.jsx)("tr",{children:(0,ra.jsx)("td",{colSpan:"9",className:"px-6 py-8 text-center text-gray-400",children:"No players found"})}):ne.map(e=>(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium cursor-pointer",onClick:()=>{F(e),O(!0)},children:e.name}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.playerId||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.email}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.phoneNumber||"-"}),(0,ra.jsxs)("td",{className:"px-6 py-4 text-gray-400",children:["\u20b9",e.balance||0]}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("Active"===e.status?"bg-emerald-600/20 text-emerald-400":"Pending"===e.status?"bg-yellow-600/20 text-yellow-400":"bg-red-600/20 text-red-400"),children:e.status})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("approved"===e.kycStatus||"verified"===e.kycStatus?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400"),children:e.kycStatus||"pending"})}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:new Date(e.createdAt).toLocaleDateString()}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("div",{className:"flex gap-2",children:"Suspended"===e.status?(0,ra.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm("Are you sure you want to unsuspend ".concat(e.name,"?"))&&X.mutate(e.id)},disabled:X.isLoading,className:"bg-emerald-600 hover:bg-emerald-500 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"Unsuspend"}):(0,ra.jsx)("button",{onClick:t=>{t.stopPropagation(),U(e),z(!0)},className:"bg-red-600 hover:bg-red-500 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",children:"Suspend"})})})]},e.id))})]}),ae>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",v," of ",ae]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>y(e=>Math.max(1,e-1)),disabled:1===v,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>y(e=>Math.min(ae,e+1)),disabled:v===ae,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]})]}),"create"===u&&(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-8 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Create New Player"}),!t&&(0,ra.jsx)("div",{className:"mb-6 p-4 bg-yellow-900/30 border border-yellow-500/50 rounded-lg",children:(0,ra.jsx)("p",{className:"text-yellow-400 font-semibold",children:"\u26a0\ufe0f Please select a club from the sidebar dropdown to create a player"})}),(0,ra.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!t)return void Sl.error("Please select a club first");if(k.panCard&&k.panCard.trim()){if(!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(k.panCard.trim()))return void Sl.error("PAN card must be in format: ABCDE1234F (5 letters, 4 digits, 1 letter)")}if(!k.aadhaarFile)return void Sl.error("Please upload Aadhaar document");if(!k.panCardFile)return void Sl.error("Please upload PAN card document");const s=5242880;if(k.aadhaarFile.size>s)return void Sl.error("Aadhaar document must be less than 5MB");if(k.panCardFile.size>s)return void Sl.error("PAN card document must be less than 5MB");const a=["image/jpeg","image/jpg","image/png","application/pdf"];if(!a.includes(k.aadhaarFile.type))return void Sl.error("Aadhaar document must be JPG, PNG, or PDF");if(!a.includes(k.panCardFile.type))return void Sl.error("PAN card document must be JPG, PNG, or PDF");const l={name:k.name,email:k.email,phoneNumber:k.phoneNumber,affiliateCode:k.referralCode||void 0,panCard:k.panCard||void 0,initialBalance:k.initialBalance||0};Q.mutate(l)},className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Player Name *"}),(0,ra.jsx)("input",{type:"text",value:k.name,onChange:e=>P(c(c({},k),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email *"}),(0,ra.jsx)("input",{type:"email",value:k.email,onChange:e=>P(c(c({},k),{},{email:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number *"}),(0,ra.jsx)("input",{type:"tel",value:k.phoneNumber,onChange:e=>P(c(c({},k),{},{phoneNumber:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Referral Code (Optional)"}),(0,ra.jsx)("input",{type:"text",value:k.referralCode||"",onChange:e=>P(c(c({},k),{},{referralCode:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",placeholder:"Referral code"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"PAN Card Number"}),(0,ra.jsx)("input",{type:"text",value:k.panCard,onChange:e=>{const t=e.target.value.toUpperCase();t.length<=10&&/^[A-Z0-9]*$/.test(t)&&P(c(c({},k),{},{panCard:t}))},className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white font-mono",placeholder:"ABCDE1234F",maxLength:10}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Format: 5 letters, 4 digits, 1 letter (e.g., ABCDE1234F)"})]}),(0,ra.jsxs)("div",{className:"col-span-2",children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Aadhaar Document *"}),(0,ra.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&P(c(c({},k),{},{aadhaarFile:s}))},className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-emerald-600 file:text-white hover:file:bg-emerald-500",required:!0}),k.aadhaarFile&&(0,ra.jsxs)("p",{className:"text-xs text-emerald-400 mt-1",children:["\u2713 ",k.aadhaarFile.name]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload Aadhaar card (JPG, PNG, or PDF, max 5MB)"})]}),(0,ra.jsxs)("div",{className:"col-span-2",children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"PAN Card Document *"}),(0,ra.jsx)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&P(c(c({},k),{},{panCardFile:s}))},className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-emerald-600 file:text-white hover:file:bg-emerald-500",required:!0}),k.panCardFile&&(0,ra.jsxs)("p",{className:"text-xs text-emerald-400 mt-1",children:["\u2713 ",k.panCardFile.name]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload PAN card document (JPG, PNG, or PDF, max 5MB)"})]}),(0,ra.jsxs)("div",{className:"col-span-2",children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Initial Balance (\u20b9)"}),(0,ra.jsx)("input",{type:"number",value:k.initialBalance,onChange:e=>P(c(c({},k),{},{initialBalance:parseFloat(e.target.value)||0})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",min:"0"})]})]}),(0,ra.jsx)("div",{className:"flex gap-4 mt-6",children:(0,ra.jsx)("button",{type:"submit",disabled:Q.isLoading||K.isLoading||!t,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:Q.isLoading||K.isLoading?(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,ra.jsx)("span",{children:"Creating Player & Uploading Documents..."})]}):t?"Create Player":"Select a Club First"})})]})]}),"approval"===u&&(0,ra.jsx)("div",{className:"space-y-6",children:n?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading pending players..."})]}):0===r.length?(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 border border-slate-700 text-center",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\u2705"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No pending approvals"})]}):(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Player Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Email"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Phone"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Registration Date"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"KYC Document"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:0===ce.length?(0,ra.jsx)("tr",{children:(0,ra.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-400",children:"No pending players found"})}):ce.map(e=>(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:e.name}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.email}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.phoneNumber||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:new Date(e.registrationDate||e.createdAt).toLocaleDateString()}),(0,ra.jsx)("td",{className:"px-6 py-4",children:e.kycDocumentUrl?(0,ra.jsx)("a",{href:e.kycDocumentUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"View Document"}):(0,ra.jsx)("span",{className:"text-gray-500",children:"No document"})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-400 rounded text-xs font-semibold",children:"Pending"})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>{I(e),G.mutate({playerId:e.id,notes:"Approved by Super Admin"})},disabled:G.isLoading,className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Approve"}),(0,ra.jsx)("button",{onClick:()=>{const t=prompt("Enter rejection reason:");t&&$.mutate({playerId:e.id,reason:t})},disabled:$.isLoading,className:"bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Reject"})]})})]},e.id))})]}),ie>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",w," of ",ie]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===w,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>j(e=>Math.min(ie,e+1)),disabled:w===ie,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]})}),"field-updates"===u&&(0,ra.jsxs)("div",{className:"space-y-6",children:[ee?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading field update requests..."})]}):0===Z.length?(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 border border-slate-700 text-center",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No pending field update requests"})]}):(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[(0,ra.jsx)("div",{className:"p-4 text-sm text-gray-400 flex justify-between items-center",children:(0,ra.jsxs)("span",{children:["Showing ",me+1,"-",Math.min(xe,Z.length)," of ",Z.length," field update requests"]})}),(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Player Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Fields Updated"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Requested Date"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:0===he.length?(0,ra.jsx)("tr",{children:(0,ra.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-400",children:"No field update requests found"})}):he.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:e.playerName}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("div",{className:"space-y-1",children:null===(t=e.fields)||void 0===t?void 0:t.map((e,t)=>(0,ra.jsxs)("div",{className:"text-sm",children:[(0,ra.jsxs)("span",{className:"text-gray-400",children:[e.fieldName,":"]})," ",(0,ra.jsx)("span",{className:"text-gray-500 line-through",children:e.currentValue||"N/A"})," \u2192 ",(0,ra.jsx)("span",{className:"text-emerald-400",children:e.requestedValue})]},t))})}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:new Date(e.requestedDate||e.createdAt).toLocaleDateString()}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-400 rounded text-xs font-semibold",children:e.status||"Pending"})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>{te.mutate({requestId:e.id,approved:!0,notes:"Approved by Super Admin"})},disabled:te.isLoading,className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Approve"}),(0,ra.jsx)("button",{onClick:()=>{const t=prompt("Enter rejection reason:");t&&te.mutate({requestId:e.id,approved:!1,notes:t})},disabled:te.isLoading,className:"bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Reject"})]})})]},e.id)})})]}),ue>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",N," of ",ue]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>S(e=>Math.max(1,e-1)),disabled:1===N,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>S(e=>Math.min(ue,e+1)),disabled:N===ue,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]}),"suspend"===u&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold",children:"Player Suspension Management"}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:(0,ra.jsxs)("div",{className:"text-center py-8",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"\ud83d\udca1 To suspend a player:"}),(0,ra.jsx)("p",{className:"text-gray-300",children:'Go to the "All Players" tab and click the "Suspend" button next to any player.'})]})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[(0,ra.jsx)("div",{className:"p-4 text-sm text-gray-400",children:o?"Loading...":"Showing ".concat(i.length," suspended players")}),o?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading suspended players..."})]}):0===i.length?(0,ra.jsx)("div",{className:"p-12 text-center",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"No suspended players"})}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"p-4 text-sm text-gray-400",children:["Showing ",Math.min((suspendPage-1)*C+1,i.length)," - ",Math.min(suspendPage*C,i.length)," of ",i.length," suspended players"]}),(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Email"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Suspended Date"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Reason"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:i.slice((suspendPage-1)*C,suspendPage*C).map(e=>(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:e.name}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.email}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:e.suspendedAt?new Date(e.suspendedAt).toLocaleDateString():"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:e.suspensionReason||e.reason||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to unsuspend ".concat(e.name,"?"))&&In.unsuspendPlayer(t,e.id).then(()=>{Sl.success("Player unsuspended successfully"),d()}).catch(e=>{Sl.error(e.message||"Failed to unsuspend player")})},className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Unsuspend"})})]},e.id))})]}),Math.ceil(i.length/C)>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",suspendPage," of ",Math.ceil(i.length/C)]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>setSuspendPage(e=>Math.max(1,e-1)),disabled:1===suspendPage,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>setSuspendPage(e=>Math.min(Math.ceil(i.length/C),e+1)),disabled:suspendPage>=Math.ceil(i.length/C),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]})]})]})]})]}),D&&A&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-8 max-w-2xl w-full border-2 border-emerald-500 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-500 rounded-full mb-4",children:(0,ra.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\ud83c\udf89 Player Created!"}),(0,ra.jsx)("p",{className:"text-emerald-400 text-sm",children:"Save these credentials securely!"})]}),(0,ra.jsx)("div",{className:"space-y-6",children:(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-emerald-500/30",children:[(0,ra.jsxs)("h3",{className:"text-emerald-400 font-semibold mb-3 flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Player Login Credentials"]}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Name:"})," ",A.player.name]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Email:"})," ",A.player.email]}),(0,ra.jsxs)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-3 mt-2",children:[(0,ra.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"\u26a0\ufe0f Temporary Password"}),(0,ra.jsx)("p",{className:"text-yellow-100 font-mono text-lg font-bold",children:A.player.tempPassword}),(0,ra.jsx)("p",{className:"text-yellow-300 text-xs mt-1",children:"Player must reset password on first login"})]})]})]})}),(0,ra.jsx)("button",{onClick:()=>{E(!1),L(null),m("all")},className:"w-full mt-6 bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-lg font-bold text-white text-lg transition-colors",children:"Got it! Close"})]})}),R&&M&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-8 max-w-4xl w-full border-2 border-purple-500 shadow-2xl my-8",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Player Details"}),(0,ra.jsx)("button",{onClick:()=>{O(!1),F(null)},className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),J?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Loading player details..."})]}):V?(0,ra.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-purple-500/30",children:[(0,ra.jsxs)("h3",{className:"text-purple-400 font-semibold mb-4 text-lg flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Basic Information"]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Name"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:V.name||M.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Email"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:V.email||M.email})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Phone Number"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:V.phoneNumber||M.phoneNumber||"-"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Player ID"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:V.playerId||M.playerId||"-"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"PAN Card"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:V.panCard||M.panCard||"-"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Status"}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded text-xs font-semibold ".concat("Active"===(V.status||M.status)?"bg-emerald-600/20 text-emerald-400":"Pending"===(V.status||M.status)?"bg-yellow-600/20 text-yellow-400":"bg-red-600/20 text-red-400"),children:V.status||M.status})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"KYC Status"}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded text-xs font-semibold ".concat("approved"===(V.kycStatus||M.kycStatus)||"verified"===(V.kycStatus||M.kycStatus)?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400"),children:V.kycStatus||M.kycStatus||"pending"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Registration Date"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:new Date(V.createdAt||M.createdAt).toLocaleDateString()})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Balance"}),(0,ra.jsxs)("p",{className:"text-white font-medium",children:["\u20b9",V.balance||M.balance||0]})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-purple-500/30",children:[(0,ra.jsxs)("h3",{className:"text-purple-400 font-semibold mb-4 text-lg flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),"KYC Documents"]}),V.documents&&V.documents.length>0?(0,ra.jsx)("div",{className:"space-y-6",children:V.documents.map((e,t)=>{const s=(e=>{if(!e)return"Unknown";const t=e.toLowerCase();return"government_id"===t||"aadhaar"===t||"aadhar"===t?"Aadhaar Card":"pan_card"===t||"pan"===t?"PAN Card":e.charAt(0).toUpperCase()+e.slice(1).replace(/_/g," ")})(e.type||e.documentType),a=s.includes("Aadhaar");return(0,ra.jsxs)("div",{className:"bg-slate-700/70 rounded-xl p-6 border-2 ".concat(a?"border-blue-500/50 shadow-lg shadow-blue-500/10":"border-purple-500/50 shadow-lg shadow-purple-500/10"),children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,ra.jsx)("span",{className:"px-4 py-2 rounded-lg text-sm font-bold ".concat(a?"bg-blue-600/30 text-blue-300 border border-blue-500/50":"bg-purple-600/30 text-purple-300 border border-purple-500/50"),children:s})}),(0,ra.jsx)("p",{className:"text-white font-semibold text-lg mb-2",children:e.name||e.fileName||"Document ".concat(t+1)}),e.uploadedAt&&(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["\ud83d\udcc5 Uploaded: ",new Date(e.uploadedAt).toLocaleDateString()]})]}),(0,ra.jsx)("div",{className:"flex gap-2",children:e.url&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 shadow-md",children:[(0,ra.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]}),(0,ra.jsxs)("a",{href:e.url,download:!0,className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 shadow-md",children:[(0,ra.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})})]}),e.url&&(0,ra.jsx)("div",{className:"mt-3",children:e.url.match(/\.(jpg|jpeg|png|gif)$/i)?(0,ra.jsx)("img",{src:e.url,alt:e.name||"Document",className:"max-w-full h-auto rounded-lg border border-slate-600 max-h-64",onError:e=>{e.target.style.display="none"}}):e.url.match(/\.pdf$/i)?(0,ra.jsx)("iframe",{src:e.url,className:"w-full h-64 rounded-lg border border-slate-600",title:e.name||"PDF Document"}):(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-lg p-4 text-center",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Preview not available for this file type"}),(0,ra.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Click Preview or Download to view"})]})})]},e.id||t)})}):(0,ra.jsx)("div",{className:"text-center py-8",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"No KYC documents uploaded yet"})})]})]}):(0,ra.jsx)("div",{className:"text-center py-12",children:(0,ra.jsx)("p",{className:"text-red-400",children:"Failed to load player details"})}),(0,ra.jsx)("div",{className:"mt-6 flex justify-end",children:(0,ra.jsx)("button",{onClick:()=>{O(!1),F(null)},className:"bg-purple-600 hover:bg-purple-500 px-6 py-3 rounded-lg font-bold text-white text-lg transition-colors",children:"Close"})})]})}),_&&q&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-8 max-w-2xl w-full border-2 border-red-500 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Suspend Player"}),(0,ra.jsx)("button",{onClick:()=>{z(!1),U(null),W({type:"temporary",reason:"",duration:""})},className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-red-500/30",children:[(0,ra.jsxs)("p",{className:"text-white font-medium mb-1",children:["Player: ",(0,ra.jsx)("span",{className:"text-red-400",children:q.name})]}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Email: ",q.email]})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),B.reason&&B.reason.trim()?Y.mutate({playerId:q.id,suspensionType:B.type,reason:B.reason.trim(),duration:"temporary"===B.type&&B.duration?B.duration:void 0}):Sl.error("Please provide a reason for suspension")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Suspension Type *"}),(0,ra.jsxs)("select",{value:B.type,onChange:e=>W(c(c({},B),{},{type:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500",required:!0,children:[(0,ra.jsx)("option",{value:"temporary",children:"Temporary"}),(0,ra.jsx)("option",{value:"permanent",children:"Permanent"})]})]}),"temporary"===B.type&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (days) *"}),(0,ra.jsx)("input",{type:"number",min:"1",value:B.duration,onChange:e=>W(c(c({},B),{},{duration:e.target.value})),placeholder:"Enter number of days",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500",required:"temporary"===B.type})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reason for Suspension *"}),(0,ra.jsx)("textarea",{value:B.reason,onChange:e=>W(c(c({},B),{},{reason:e.target.value})),placeholder:"Enter detailed reason for suspending this player...",rows:4,className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{z(!1),U(null),W({type:"temporary",reason:"",duration:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-lg font-bold text-white text-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:Y.isLoading,className:"flex-1 bg-red-600 hover:bg-red-500 px-6 py-3 rounded-lg font-bold text-white text-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isLoading?(0,ra.jsxs)("span",{className:"flex items-center justify-center",children:[(0,ra.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ra.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ra.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Suspending..."]}):"Suspend Player"})]})]})]})]})})]})}function Li(e){let{clubId:t}=e;const s=ia(),[l,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(""),{data:c=[],isLoading:u,refetch:m}=Si({queryKey:["buyOutRequests",t],queryFn:()=>zl(t),enabled:!!t,refetchInterval:5e3}),x=Ti({mutationFn:e=>{let{requestId:s,amount:a}=e;return ql(t,s,{amount:a})},onSuccess:()=>{Sl.success("Buy-out request approved and balance updated!"),s.invalidateQueries(["buyOutRequests",t]),r(null)},onError:e=>{Sl.error(e.message||"Failed to approve buy-out request")}}),h=Ti({mutationFn:e=>{let{requestId:s,reason:a}=e;return Ul(t,s,{reason:a})},onSuccess:()=>{Sl.success("Buy-out request rejected!"),s.invalidateQueries(["buyOutRequests",t]),r(null),i(!1),d("")},onError:e=>{Sl.error(e.message||"Failed to reject buy-out request")}}),p=e=>{if(!e)return"";return new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},b=c.filter(e=>"pending"===e.status);return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Table Buy-Out Requests"}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:[b.length," pending request",1!==b.length?"s":""]})]}),u?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"Loading buy-out requests..."}):0===b.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No pending buy-out requests"}):(0,ra.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,ra.jsx)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold text-white",children:e.playerName}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Table ",e.tableNumber]}),e.seatNumber&&(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Seat ",e.seatNumber]})]}),(0,ra.jsxs)("div",{className:"text-xl font-bold text-green-400 mb-2",children:["\u20b9",Number(e.requestedAmount||e.currentTableBalance||0).toLocaleString("en-IN")]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Call time started: ",p(e.callTimeStartedAt)]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Requested at: ",p(e.requestedAt)]})]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>(e=>{window.confirm("Approve buy-out request for ".concat(e.playerName,"? Amount: \u20b9").concat(Number(e.requestedAmount||e.currentTableBalance||0).toLocaleString("en-IN")))&&x.mutate({requestId:e.id,amount:e.requestedAmount||e.currentTableBalance||0})})(e),disabled:x.isPending,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:x.isPending?"Processing...":"Approve"}),(0,ra.jsx)("button",{onClick:()=>(e=>{r(e),i(!0)})(e),disabled:h.isPending,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:"Reject"})]})]})},e.id))})]}),n&&l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700 max-w-md w-full mx-4",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold mb-4 text-white",children:"Reject Buy-Out Request"}),(0,ra.jsxs)("p",{className:"text-gray-300 mb-4",children:["Reject buy-out request for ",(0,ra.jsx)("strong",{children:l.playerName}),"?"]}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Reason for Rejection ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"Enter reason for rejection...",rows:"4",className:"w-full bg-slate-700 text-white rounded-lg px-4 py-2 border border-slate-600",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>{o.trim()?h.mutate({requestId:l.id,reason:o}):Sl.error("Please provide a reason for rejection")},disabled:h.isPending||!o.trim(),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:h.isPending?"Rejecting...":"Reject Request"}),(0,ra.jsx)("button",{onClick:()=>{i(!1),r(null),d("")},className:"flex-1 bg-slate-600 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})})]})}function Ri(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)("live-tables"),{data:r,isLoading:n}=(ia(),Si({queryKey:["tables",t],queryFn:()=>Xl(t),enabled:!!t})),{data:i,isLoading:o}=Si({queryKey:["waitlist",t],queryFn:()=>nr(t),enabled:!!t}),d=r||[],c=i||[];return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Tables & Waitlist"}),!t&&(0,ra.jsxs)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100 flex items-center gap-3",children:[(0,ra.jsx)("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.3 2.647-1.3 3.412 0l7 12a1.5 1.5 0 01-1.302 2.25H2.847a1.5 1.5 0 01-1.302-2.25l7-12zM9 13a1 1 0 112 0v2a1 1 0 11-2 0v-2zm0-6a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"})}),(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club from the sidebar dropdown to manage tables."})]}),(0,ra.jsx)("div",{className:"flex gap-2 border-b border-slate-700",children:[{id:"live-tables",label:"Live Tables"},{id:"table-management",label:"Table Management"},{id:"table-buy-in",label:"Table Buy-In"},{id:"table-buy-out",label:"Table Buy-Out"}].map(e=>(0,ra.jsx)("button",{onClick:()=>l(e.id),className:"px-6 py-3 font-semibold transition-all ".concat(s===e.id?"bg-gradient-to-r from-blue-600 to-indigo-700 text-white border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:e.label},e.id))}),(0,ra.jsxs)("div",{className:"mt-6",children:["live-tables"===s&&(0,ra.jsx)(Oi,{selectedClubId:t,tables:d,tablesLoading:n}),"table-management"===s&&(0,ra.jsx)(_i,{selectedClubId:t,tables:d,tablesLoading:n}),"table-buy-in"===s&&(0,ra.jsx)(zi,{selectedClubId:t,tables:d,waitlist:c,waitlistLoading:o}),"table-buy-out"===s&&(0,ra.jsx)(qi,{selectedClubId:t,tables:d})]})]})}function Oi(e){let{selectedClubId:t,tables:s,tablesLoading:l}=e;const[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)({minPlayTime:30,callTime:5,cashOutWindow:10,sessionTimeout:120}),[x,h]=(0,a.useState)("Active"),p=s.filter(e=>"AVAILABLE"===e.status||"OCCUPIED"===e.status),b=e=>{var t,s,a,l,r,n,i,d;c(e),o(!0);const u=e.notes?e.notes.split("|").map(e=>e.trim()):[],x=(null===(t=u[3])||void 0===t||null===(s=t.match(/\d+/))||void 0===s?void 0:s[0])||"30",p=(null===(a=u[4])||void 0===a||null===(l=a.match(/\d+/))||void 0===l?void 0:l[0])||"5",b=(null===(r=u[5])||void 0===r||null===(n=r.match(/\d+/))||void 0===n?void 0:n[0])||"10",g=(null===(i=u[6])||void 0===i||null===(d=i.match(/\d+/))||void 0===d?void 0:d[0])||"120";m({minPlayTime:parseInt(x),callTime:parseInt(p),cashOutWindow:parseInt(b),sessionTimeout:parseInt(g)}),h("OCCUPIED"===e.status?"Active":"Paused")};return(0,ra.jsxs)("div",{className:"space-y-6",children:[i&&d&&(0,ra.jsx)(Mi,{table:d,tables:p,sessionParams:u,setSessionParams:m,sessionStatus:x,setSessionStatus:h,clubId:t,onClose:()=>{o(!1),c(null)},onSelectTable:e=>{c(e),b(e)}}),!i&&(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold",children:"Live Tables - Hologram View"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Manage live tables, seat players, and handle buy-ins using table hologram."})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 px-4 py-2 rounded-lg",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Active Tables: ",p.length]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Total Players: ",p.reduce((e,t)=>e+(t.currentSeats||0),0)]})]})]}),l?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tables..."})]}):0===p.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfb2"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No active tables"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Create and activate tables in Table Management"})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5 border border-slate-600 hover:border-blue-500 transition-all cursor-pointer",onClick:()=>n(e),children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Table ",e.tableNumber]}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:e.tableType})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("OCCUPIED"===e.status?"bg-green-600/20 text-green-400":"bg-blue-600/20 text-blue-400"),children:e.status})]}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Stakes:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:["\u20b9",e.minBuyIn||0,"/\u20b9",e.maxBuyIn||0]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Occupied Seats:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:[e.currentSeats||0," / ",e.maxSeats]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Available Seats:"}),(0,ra.jsx)("span",{className:"text-green-400 font-medium",children:e.maxSeats-(e.currentSeats||0)})]})]}),(0,ra.jsxs)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 text-white px-4 py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2",children:[(0,ra.jsx)("span",{children:"\ud83c\udfaf"}),(0,ra.jsx)("span",{children:"View Table Hologram"})]}),(0,ra.jsxs)("button",{onClick:t=>{t.stopPropagation(),b(e)},className:"w-full mt-2 bg-gradient-to-r from-purple-600 to-pink-700 hover:from-purple-500 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2",children:[(0,ra.jsx)("span",{children:"\u2699\ufe0f"}),(0,ra.jsx)("span",{children:"Edit Session Control"})]})]},e.id))})]}),r&&(0,ra.jsx)(Fi,{table:r,onClose:()=>n(null),clubId:t})]})}function Mi(e){let{table:t,tables:s,sessionParams:l,setSessionParams:r,sessionStatus:n,setSessionStatus:i,clubId:o,onClose:d,onSelectTable:u}=e;const m=ia(),[x,h]=(0,a.useState)(o);(0,a.useEffect)(()=>{o&&h(o)},[o]);const p=Ti({mutationFn:async()=>{if(!x)throw new Error("Club ID not found");return await sr(x,t.id)},onSuccess:()=>{i("Paused"),Sl.success("Session paused successfully"),m.invalidateQueries(["tables",x])},onError:e=>{Sl.error(e.message||"Failed to pause session")}}),b=Ti({mutationFn:async()=>{if(!x)throw new Error("Club ID not found");return await ar(x,t.id)},onSuccess:()=>{i("Active"),Sl.success("Session resumed successfully"),m.invalidateQueries(["tables",x])},onError:e=>{Sl.error(e.message||"Failed to resume session")}}),g=Ti({mutationFn:async()=>{if(!x)throw new Error("Club ID not found");return await lr(x,t.id)},onSuccess:()=>{Sl.success("Session ended successfully"),m.invalidateQueries(["tables",x]),d()},onError:e=>{Sl.error(e.message||"Failed to end session")}}),f=Ti({mutationFn:async e=>{if(!x)throw new Error("Club ID not found");return await rr(x,t.id,e)},onSuccess:e=>{Sl.success("Session parameters updated successfully"),m.invalidateQueries(["tables",x]),e.sessionParams&&r(e.sessionParams)},onError:e=>{Sl.error(e.message||"Failed to update session parameters")}}),v=(e,t)=>{const s={[e]:parseInt(t)};f.mutate(s)},y=e=>{const t=e.notes?e.notes.split("|").map(e=>e.trim()):[];return t[1]||e.tableType};return(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-blue-900/50 via-purple-900/50 to-indigo-900/50 rounded-2xl p-8 border-2 border-blue-500/30 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Table Session Control"}),(0,ra.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Table Sessions"}),(0,ra.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,ra.jsx)("div",{onClick:()=>u(e),className:"p-4 rounded-lg cursor-pointer transition-all ".concat(e.id===t.id?"bg-blue-600/30 border-2 border-blue-500":"bg-slate-700/50 border border-slate-600 hover:bg-slate-700"),children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("div",{className:"font-semibold text-white",children:["Table ",e.tableNumber," - ",y(e).split(" | ")[0]]}),(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:y(e)})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("OCCUPIED"===e.status?"bg-green-600/20 text-green-400":"bg-yellow-600/20 text-yellow-400"),children:"OCCUPIED"===e.status?"Active":"Paused"})]})},e.id))}),(0,ra.jsxs)("div",{className:"mt-6 p-4 bg-blue-600/20 border border-blue-500/30 rounded-lg",children:[(0,ra.jsxs)("div",{className:"text-sm text-blue-300 mb-2",children:["Selected: Table ",t.tableNumber," - ",y(t).split(" | ")[0]]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Game:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:y(t)})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Stakes:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:(e=>{var t;const s=e.notes?e.notes.split("|").map(e=>e.trim()):[];return(null===(t=s[2])||void 0===t?void 0:t.replace("Stakes:","").trim())||"\u20b9".concat(e.minBuyIn||0,"/\u20b9").concat(e.maxBuyIn||0)})(t)})]})]}),(0,ra.jsxs)("div",{className:"text-sm mt-2",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Players:"}),(0,ra.jsxs)("span",{className:"text-white ml-2",children:[t.currentSeats||0,"/",t.maxSeats]})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Session Actions"}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:"Current Status"}),(0,ra.jsx)("div",{className:"text-4xl font-bold ".concat("Active"===n?"text-green-400":"text-yellow-400"),children:n})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("button",{onClick:()=>{"Active"===n?p.mutate():b.mutate()},className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white px-6 py-4 rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2",children:[(0,ra.jsx)("span",{children:"Active"===n?"\u23f8":"\u25b6"}),(0,ra.jsx)("span",{children:"Active"===n?"Pause Session":"Resume Session"})]}),(0,ra.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to end this session? This action cannot be undone.")&&g.mutate()},className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white px-6 py-4 rounded-lg font-bold text-lg transition-all flex items-center justify-center gap-2",children:[(0,ra.jsx)("span",{children:"\u2b1b"}),(0,ra.jsx)("span",{children:"End Session"})]})]}),(0,ra.jsx)("div",{className:"mt-6 p-4 bg-slate-700/50 rounded-lg",children:(0,ra.jsx)("p",{className:"text-sm text-gray-400 text-center",children:"Session parameters can be modified on the right panel."})})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Timing & Parameters"}),(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-2",children:"MIN PLAY TIME"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("input",{type:"number",value:l.minPlayTime,onChange:e=>r(c(c({},l),{},{minPlayTime:e.target.value})),className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-lg font-semibold",min:"30"}),(0,ra.jsx)("button",{onClick:()=>v("minPlayTime",l.minPlayTime),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-semibold transition-colors",children:"Set"})]}),(0,ra.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",l.minPlayTime," mins"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-2",children:"CALL TIME"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("input",{type:"number",value:l.callTime,onChange:e=>r(c(c({},l),{},{callTime:e.target.value})),className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-lg font-semibold",min:"1"}),(0,ra.jsx)("button",{onClick:()=>v("callTime",l.callTime),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-semibold transition-colors",children:"Set"})]}),(0,ra.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",l.callTime," mins"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-2",children:"CASH-OUT WINDOW"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("input",{type:"number",value:l.cashOutWindow,onChange:e=>r(c(c({},l),{},{cashOutWindow:e.target.value})),className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-lg font-semibold",min:"1"}),(0,ra.jsx)("button",{onClick:()=>v("cashOutWindow",l.cashOutWindow),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-semibold transition-colors",children:"Set"})]}),(0,ra.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",l.cashOutWindow," mins"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm font-medium mb-2",children:"SESSION TIMEOUT"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("input",{type:"number",value:l.sessionTimeout,onChange:e=>r(c(c({},l),{},{sessionTimeout:e.target.value})),className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-lg font-semibold",min:"30"}),(0,ra.jsx)("button",{onClick:()=>v("sessionTimeout",l.sessionTimeout),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-semibold transition-colors",children:"Set"})]}),(0,ra.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",l.sessionTimeout," mins"]})]})]})]})]})]})}function Fi(e){var t,s,l,r,n,i,o,d,c;let{table:u,onClose:m,clubId:x}=e;ia();const[h,p]=(0,a.useState)(null),[b,g]=(0,a.useState)("00:00:00");(0,a.useEffect)(()=>{x&&(async()=>{try{const e=localStorage.getItem("token"),t=localStorage.getItem("tenantId"),s=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"http://localhost:3333/api"}.REACT_APP_API_URL||"http://localhost:3333/api","/clubs/").concat(x),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e),"x-tenant-id":t||"","x-club-id":x}});if(s.ok){const e=await s.json();console.log("Club data fetched:",e),p(e)}else console.error("Failed to fetch club data:",s.status,await s.text())}catch(e){console.error("Error fetching club data:",e)}})()},[x]),(0,a.useEffect)(()=>{var e,t;if(!u)return void g("00:00:00");if("AVAILABLE"===u.status||"PAUSED"===u.status){var s;const e=null===(s=u.notes)||void 0===s?void 0:s.match(/Paused Elapsed: (\d+)/);if(e){const t=parseInt(e[1],10);if(!isNaN(t)&&t>=0){const e=Math.floor(t/3600),s=Math.floor(t%3600/60),a=t%60;g("".concat(String(e).padStart(2,"0"),":").concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0")))}else g("00:00:00")}else g("00:00:00");return}if("OCCUPIED"!==u.status)return void g("00:00:00");const a=null===(e=u.notes)||void 0===e?void 0:e.match(/Session Started: ([^|]+)/),l=null===(t=u.notes)||void 0===t?void 0:t.match(/Paused Elapsed: (\d+)/);if(!a||!a[1])return console.warn("No session start time found in notes:",u.notes),void g("00:00:00");const r=a[1].trim(),n=new Date(r);if(isNaN(n.getTime()))return console.error("Invalid session start time:",r,"Full notes:",u.notes),void g("00:00:00");const i=l?parseInt(l[1],10):0;(isNaN(i)||i<0)&&console.warn("Invalid paused elapsed time, using 0:",null===l||void 0===l?void 0:l[1]);const o=()=>{const e=(new Date).getTime()-n.getTime();if(isNaN(e))return void g("00:00:00");const t=Math.floor(e/1e3)+i;if(isNaN(t)||t<0)return void g("00:00:00");const s=Math.floor(t/3600),a=Math.floor(t%3600/60),l=t%60;g("".concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"),":").concat(String(l).padStart(2,"0")))};o();const d=setInterval(o,1e3);return()=>clearInterval(d)},[u]);const f=Array.from({length:u.maxSeats},(e,t)=>t+1),v=[],y=u.notes?u.notes.split("|").map(e=>e.trim()):[],w=(null===h||void 0===h?void 0:h.logoUrl)||null;console.log("Club logo URL:",w,"Club data:",h);const j=(null===(t=u.notes)||void 0===t||null===(s=t.match(/Game Type: ([^|]+)/))||void 0===s||null===(l=s[1])||void 0===l?void 0:l.trim())||y[1]||u.tableType,N=(null===(r=u.notes)||void 0===r||null===(n=r.match(/Stakes: ([^|]+)/))||void 0===n||null===(i=n[1])||void 0===i?void 0:i.trim())||(null===(o=y[2])||void 0===o?void 0:o.replace("Stakes:","").trim())||"\u20b9".concat(u.minBuyIn||0,"/\u20b9").concat(u.maxBuyIn||0),S=null===(d=u.notes)||void 0===d?void 0:d.match(/Table Value: \u20b9?([\d,]+)/),C=S?parseInt(S[1].replace(/,/g,"")):(u.currentSeats||0)*((u.minBuyIn+u.maxBuyIn)/2||25e3);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-2xl p-8 max-w-4xl w-full border-2 border-blue-500 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h2",{className:"text-3xl font-bold text-white",children:["Table ",u.tableNumber," - ",j]}),(0,ra.jsxs)("p",{className:"text-gray-400",children:["Stakes: ",N]})]}),(0,ra.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 px-6 py-3 rounded-2xl shadow-xl border-2 border-yellow-400",children:[(0,ra.jsx)("div",{className:"text-xs text-yellow-100 text-center mb-1",children:"TABLE VALUE"}),(0,ra.jsxs)("div",{className:"text-3xl font-bold text-white text-center",children:["\u20b9",C.toLocaleString()]})]})}),(0,ra.jsxs)("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-green-800 to-green-900 rounded-[50%] border-8 border-yellow-600 shadow-2xl flex items-center justify-center",children:[(0,ra.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:w?(0,ra.jsxs)("div",{className:"bg-white rounded-full p-2 shadow-lg flex items-center justify-center w-24 h-24",children:[(0,ra.jsx)("img",{src:w,alt:"Club Logo",className:"w-20 h-20 rounded-full object-contain",onError:e=>{console.error("Failed to load club logo:",w),e.target.style.display="none";const t=e.target.nextSibling;t&&(t.style.display="flex")}}),(0,ra.jsx)("div",{className:"text-2xl font-bold text-gray-800 hidden items-center justify-center",children:"\u2660\ufe0f\u2665\ufe0f"})]}):(0,ra.jsx)("div",{className:"bg-white rounded-full p-4 shadow-lg",children:(0,ra.jsx)("div",{className:"text-3xl font-bold text-gray-800",children:"\u2660\ufe0f\u2665\ufe0f"})})}),(0,ra.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,ra.jsx)("div",{className:"bg-yellow-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"D"})}),f.map(e=>{const t=(360/u.maxSeats*(e-1)-90)*(Math.PI/180),s=50+40*Math.cos(t),a=50+35*Math.sin(t),l=v.includes(e);return(0,ra.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:"".concat(s,"%"),top:"".concat(a,"%")},children:[(0,ra.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center font-bold text-lg transition-all cursor-pointer ".concat(l?"bg-blue-600 text-white border-2 border-blue-400":"bg-slate-700 text-gray-400 border-2 border-slate-600 hover:border-blue-500"),children:l?"P"+e:e}),(0,ra.jsxs)("div",{className:"text-center text-xs text-white mt-1",children:["Seat ",e]})]},e)})]}),(0,ra.jsxs)("div",{className:"mt-6 grid grid-cols-4 gap-4 bg-slate-800 p-4 rounded-lg",children:[(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:"Players"}),(0,ra.jsxs)("div",{className:"text-white font-bold text-xl",children:[u.currentSeats||0,"/",u.maxSeats]})]}),(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:"Table Value"}),(0,ra.jsxs)("div",{className:"text-yellow-400 font-bold text-xl",children:["\u20b9",C.toLocaleString()]})]}),(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:"Buy-In Range"}),(0,ra.jsxs)("div",{className:"text-white font-bold text-lg",children:["\u20b9",(u.minBuyIn||0).toLocaleString()," - \u20b9",(u.maxBuyIn||0).toLocaleString()]})]}),(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:"Status"}),(0,ra.jsx)("div",{className:"font-bold text-xl ".concat("OCCUPIED"===u.status?"text-green-400":"AVAILABLE"===u.status?"text-yellow-400":"text-gray-400"),children:"OCCUPIED"===u.status?"Active":"AVAILABLE"===u.status?"Waiting":u.status})]})]}),("OCCUPIED"===u.status||"AVAILABLE"===u.status&&(null===(c=u.notes)||void 0===c?void 0:c.includes("Paused Elapsed")))&&(0,ra.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-lg text-center",children:[(0,ra.jsx)("div",{className:"text-blue-100 text-sm mb-1",children:"SESSION RUNNING TIME"}),(0,ra.jsx)("div",{className:"text-white font-bold text-3xl font-mono",children:b})]}),(0,ra.jsx)("div",{className:"mt-6 flex justify-end",children:(0,ra.jsx)("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-500 px-6 py-3 rounded-lg font-bold text-white transition-colors",children:"Close"})})]})})}function _i(e){let{selectedClubId:t,tables:s,tablesLoading:l}=e;const[r,n]=(0,a.useState)("all"),[i,o]=(0,a.useState)({tableName:"",tableNumber:"",gameType:"Texas Hold'em",customGameType:"",maxSeats:8,stakes:"",minPlayTime:"30",callTime:5,cashOutWindow:10,sessionTimeout:120,tableType:"CASH",minBuyIn:"",maxBuyIn:"",notes:""}),[d,u]=(0,a.useState)(null),m=ia(),[x,h]=(0,a.useState)("30"),p=Ti({mutationFn:e=>Zl(t,e),onSuccess:()=>{Sl.success("Table created successfully"),o({tableName:"",tableNumber:"",gameType:"Texas Hold'em",customGameType:"",maxSeats:8,stakes:"",minPlayTime:"30",callTime:5,cashOutWindow:10,sessionTimeout:120,tableType:"CASH",minBuyIn:"",maxBuyIn:"",notes:""}),h("30"),n("all"),m.invalidateQueries(["tables",t])},onError:e=>{Sl.error(e.message||"Failed to create table")}}),b=Ti({mutationFn:e=>{let{tableId:s,data:a}=e;return er(t,s,a)},onSuccess:()=>{Sl.success("Table updated successfully"),u(null),o({tableName:"",tableNumber:"",gameType:"Texas Hold'em",customGameType:"",maxSeats:8,stakes:"",minPlayTime:"30",callTime:5,cashOutWindow:10,sessionTimeout:120,tableType:"CASH",minBuyIn:"",maxBuyIn:"",notes:""}),h("30"),n("all"),m.invalidateQueries(["tables",t])},onError:e=>{Sl.error(e.message||"Failed to update table")}}),g=Ti({mutationFn:e=>tr(t,e),onSuccess:()=>{Sl.success("Table deleted successfully"),m.invalidateQueries(["tables",t])},onError:e=>{Sl.error(e.message||"Failed to delete table")}}),f=Ti({mutationFn:e=>ar(t,e),onSuccess:()=>{Sl.success("Session started successfully"),m.invalidateQueries(["tables",t])},onError:e=>{Sl.error(e.message||"Failed to start session")}});return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Table Management"}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700 pb-4 mb-6",children:[(0,ra.jsx)("button",{onClick:()=>n("all"),className:"px-5 py-2 rounded-t-lg font-semibold transition-all ".concat("all"===r?"bg-gradient-to-r from-emerald-600 to-teal-700 text-white shadow-lg":"bg-slate-700 text-gray-400 hover:bg-slate-600"),children:"All Tables"}),(0,ra.jsx)("button",{onClick:()=>{n("add"),u(null),o({tableName:"",tableNumber:"",gameType:"Texas Hold'em",customGameType:"",maxSeats:8,stakes:"",minPlayTime:"30",callTime:5,cashOutWindow:10,sessionTimeout:120,tableType:"CASH",minBuyIn:"",maxBuyIn:"",notes:""}),h("30")},className:"px-5 py-2 rounded-t-lg font-semibold transition-all ".concat("add"===r?"bg-gradient-to-r from-emerald-600 to-teal-700 text-white shadow-lg":"bg-slate-700 text-gray-400 hover:bg-slate-600"),children:"Add New Table"})]}),"all"===r&&(0,ra.jsx)("div",{className:"space-y-4",children:l?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tables..."})]}):0===s.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfb2"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No tables created yet"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:'Click "Add New Table" to create your first table'})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5 border border-slate-600",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Table ",e.tableNumber]}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:e.tableType})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("AVAILABLE"===e.status?"bg-green-600/20 text-green-400":"OCCUPIED"===e.status?"bg-blue-600/20 text-blue-400":"RESERVED"===e.status?"bg-yellow-600/20 text-yellow-400":"bg-gray-600/20 text-gray-400"),children:e.status})]}),(0,ra.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Max Seats:"}),(0,ra.jsx)("span",{className:"text-white font-medium",children:e.maxSeats})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Stakes:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:["\u20b9",e.minBuyIn||0,"/\u20b9",e.maxBuyIn||0]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Current Seats:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:[e.currentSeats||0," / ",e.maxSeats]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:["AVAILABLE"===e.status||"CLOSED"===e.status?(0,ra.jsxs)("button",{onClick:()=>f.mutate(e.id),disabled:f.isLoading,className:"flex-1 bg-green-600 hover:bg-green-500 px-3 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-1",children:[(0,ra.jsx)("span",{children:"\u25b6"}),(0,ra.jsx)("span",{children:"Start Session"})]}):null,(0,ra.jsx)("button",{onClick:()=>(e=>{var t,s,a,l,r,i,d,c,m,x,p,b;u(e);const g=e.notes?e.notes.split("|").map(e=>e.trim()):[],f=g[0]||"Table ".concat(e.tableNumber),v=g[1]||"Texas Hold'em",y=(null===(t=g[2])||void 0===t?void 0:t.replace("Stakes:","").trim())||"",w=(null===(s=g[3])||void 0===s||null===(a=s.match(/\d+/))||void 0===a?void 0:a[0])||"30",j=(null===(l=g[4])||void 0===l||null===(r=l.match(/\d+/))||void 0===r?void 0:r[0])||"5",N=(null===(i=g[5])||void 0===i||null===(d=i.match(/\d+/))||void 0===d?void 0:d[0])||"10",S=(null===(c=g[6])||void 0===c||null===(m=c.match(/\d+/))||void 0===m?void 0:m[0])||"120";o({tableName:f,tableNumber:(null===(x=e.tableNumber)||void 0===x?void 0:x.toString())||"",gameType:v,customGameType:"",maxSeats:e.maxSeats||8,stakes:y,minPlayTime:w,callTime:parseInt(j),cashOutWindow:parseInt(N),sessionTimeout:parseInt(S),tableType:e.tableType||"CASH",minBuyIn:(null===(p=e.minBuyIn)||void 0===p?void 0:p.toString())||"",maxBuyIn:(null===(b=e.maxBuyIn)||void 0===b?void 0:b.toString())||"",notes:e.notes||""});const C=new Set(["30","45","60","90","120","150","180"]);h(C.has(w)?w:"custom"),n("add")})(e),className:"flex-1 bg-blue-600 hover:bg-blue-500 px-3 py-2 rounded-lg text-sm font-medium transition-colors",children:"Edit"}),(0,ra.jsx)("button",{onClick:()=>(e=>{window.confirm("Are you sure you want to delete Table ".concat(e.tableNumber,"?"))&&g.mutate(e.id)})(e),disabled:g.isLoading,className:"flex-1 bg-red-600 hover:bg-red-500 px-3 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Delete"})]})]},e.id))})}),"add"===r&&(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold mb-6",children:d?"Edit Table":"Create New Table"}),(0,ra.jsxs)("form",{onSubmit:d?e=>{if(e.preventDefault(),!d)return;const t="custom"===x?Math.max(30,parseInt(i.minPlayTime)||30):Math.max(30,parseInt(x)||30);b.mutate({tableId:d.id,data:{tableNumber:parseInt(i.tableNumber),tableType:i.tableType,maxSeats:parseInt(i.maxSeats),minBuyIn:i.minBuyIn?parseFloat(i.minBuyIn):null,maxBuyIn:i.maxBuyIn?parseFloat(i.maxBuyIn):null,notes:i.notes||"".concat(i.tableName||"Table "+i.tableNumber," | ").concat("Custom"===i.gameType?i.customGameType:i.gameType," | Stakes: ").concat(i.stakes," | Min Play: ").concat(t,"m | Call: ").concat(i.callTime,"m | Cash-out: ").concat(i.cashOutWindow,"m | Timeout: ").concat(i.sessionTimeout,"m")}})}:e=>{if(e.preventDefault(),!t)return void Sl.error("Please select a club first");if(!i.tableNumber)return void Sl.error("Table number is required");const s="custom"===x?Math.max(30,parseInt(i.minPlayTime)||30):Math.max(30,parseInt(x)||30);p.mutate({tableNumber:parseInt(i.tableNumber),tableType:i.tableType,maxSeats:parseInt(i.maxSeats),minBuyIn:i.minBuyIn?parseFloat(i.minBuyIn):null,maxBuyIn:i.maxBuyIn?parseFloat(i.maxBuyIn):null,notes:i.notes||"".concat(i.tableName||"Table "+i.tableNumber," | ").concat("Custom"===i.gameType?i.customGameType:i.gameType," | Stakes: ").concat(i.stakes," | Min Play: ").concat(s,"m | Call: ").concat(i.callTime,"m | Cash-out: ").concat(i.cashOutWindow,"m | Timeout: ").concat(i.sessionTimeout,"m")})},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Table Name"}),(0,ra.jsx)("input",{type:"text",value:i.tableName,onChange:e=>o(c(c({},i),{},{tableName:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",placeholder:"Table 1",disabled:!t})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Game Type"}),(0,ra.jsxs)("select",{value:i.gameType,onChange:e=>o(c(c({},i),{},{gameType:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",disabled:!t,children:[(0,ra.jsx)("option",{value:"Texas Hold'em",children:"Texas Hold'em"}),(0,ra.jsx)("option",{value:"Omaha",children:"Omaha"}),(0,ra.jsx)("option",{value:"Seven Card Stud",children:"Seven Card Stud"}),(0,ra.jsx)("option",{value:"Razz",children:"Razz"}),(0,ra.jsx)("option",{value:"Custom",children:"Custom"})]})]}),"Custom"===i.gameType&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Custom Game Type"}),(0,ra.jsx)("input",{type:"text",value:i.customGameType,onChange:e=>o(c(c({},i),{},{customGameType:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",placeholder:"Enter custom game type",disabled:!t})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Table Number *"}),(0,ra.jsx)("input",{type:"number",value:i.tableNumber,onChange:e=>o(c(c({},i),{},{tableNumber:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",required:!0,disabled:!t,min:"1",placeholder:"1"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Players"}),(0,ra.jsx)("input",{type:"number",value:i.maxSeats,onChange:e=>o(c(c({},i),{},{maxSeats:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",disabled:!t,min:"2",max:"10",placeholder:"8"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Blind Levels / Stakes"}),(0,ra.jsx)("input",{type:"text",value:i.stakes,onChange:e=>o(c(c({},i),{},{stakes:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",placeholder:"\u20b925/\u20b950",disabled:!t})]}),(0,ra.jsxs)("div",{className:"border-t border-slate-600 pt-4 mt-4",children:[(0,ra.jsx)("h4",{className:"text-white text-sm font-semibold mb-3",children:"Session Parameters"}),(0,ra.jsxs)("div",{className:"space-y-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-xs mb-1",children:"Min Play Time (minutes)"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("select",{value:x,onChange:e=>{const t=e.target.value;h(t),"custom"!==t?o(c(c({},i),{},{minPlayTime:t})):(!i.minPlayTime||parseInt(i.minPlayTime)<30)&&o(c(c({},i),{},{minPlayTime:"30"}))},className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",disabled:!t,children:[(0,ra.jsx)("option",{value:"30",children:"30 minutes"}),(0,ra.jsx)("option",{value:"45",children:"45 minutes"}),(0,ra.jsx)("option",{value:"60",children:"60 minutes"}),(0,ra.jsx)("option",{value:"90",children:"90 minutes"}),(0,ra.jsx)("option",{value:"120",children:"120 minutes"}),(0,ra.jsx)("option",{value:"150",children:"150 minutes"}),(0,ra.jsx)("option",{value:"180",children:"180 minutes"}),(0,ra.jsx)("option",{value:"custom",children:"Custom..."})]}),"custom"===x&&(0,ra.jsx)("input",{type:"number",min:30,value:i.minPlayTime,onChange:e=>o(c(c({},i),{},{minPlayTime:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white text-sm",placeholder:"Enter minutes (min 30)",disabled:!t})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-xs mb-1",children:"Call Time (minutes)"}),(0,ra.jsx)("input",{type:"number",value:i.callTime,onChange:e=>o(c(c({},i),{},{callTime:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white text-sm",placeholder:"5",disabled:!t})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-xs mb-1",children:"Cash-out Window (minutes)"}),(0,ra.jsx)("input",{type:"number",value:i.cashOutWindow,onChange:e=>o(c(c({},i),{},{cashOutWindow:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white text-sm",placeholder:"10",disabled:!t})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-xs mb-1",children:"Session Timeout (minutes)"}),(0,ra.jsx)("input",{type:"number",value:i.sessionTimeout,onChange:e=>o(c(c({},i),{},{sessionTimeout:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white text-sm",placeholder:"120",disabled:!t})]})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-t border-slate-600 pt-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Min Buy-In (\u20b9)"}),(0,ra.jsx)("input",{type:"number",value:i.minBuyIn,onChange:e=>o(c(c({},i),{},{minBuyIn:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",disabled:!t,min:"0",step:"0.01",placeholder:"1000.00"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Buy-In (\u20b9)"}),(0,ra.jsx)("input",{type:"number",value:i.maxBuyIn,onChange:e=>o(c(c({},i),{},{maxBuyIn:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",disabled:!t,min:"0",step:"0.01",placeholder:"10000.00"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Table Type (Backend)"}),(0,ra.jsxs)("select",{value:i.tableType,onChange:e=>o(c(c({},i),{},{tableType:e.target.value})),className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",disabled:!t,children:[(0,ra.jsx)("option",{value:"CASH",children:"Cash Game"}),(0,ra.jsx)("option",{value:"TOURNAMENT",children:"Tournament"}),(0,ra.jsx)("option",{value:"HIGH_STAKES",children:"High Stakes"}),(0,ra.jsx)("option",{value:"PRIVATE",children:"Private"})]})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,ra.jsx)("button",{type:"submit",disabled:p.isLoading||b.isLoading||!t,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-700 hover:from-emerald-500 hover:to-teal-600 text-white py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:p.isLoading||b.isLoading?(0,ra.jsxs)("span",{className:"flex items-center justify-center",children:[(0,ra.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ra.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ra.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Updating...":"Creating..."]}):d?"Update Table":"Create Table"}),d&&(0,ra.jsx)("button",{type:"button",onClick:()=>{u(null),o({tableName:"",tableNumber:"",gameType:"Texas Hold'em",customGameType:"",maxSeats:8,stakes:"",minPlayTime:"30",callTime:5,cashOutWindow:10,sessionTimeout:120,tableType:"CASH",minBuyIn:"",maxBuyIn:"",notes:""}),h("30"),n("all")},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg font-semibold transition-all",children:"Cancel"})]})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Dealer Assignment"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Select Table"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"",children:"-- Select Table --"}),s.map(e=>(0,ra.jsxs)("option",{value:e.id,children:["Table ",e.tableNumber]},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Assign Dealer"}),(0,ra.jsx)("select",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",children:(0,ra.jsx)("option",{value:"",children:"-- Select Dealer --"})})]})]}),(0,ra.jsx)("button",{className:"mt-4 bg-purple-600 hover:bg-purple-500 px-6 py-2 rounded-lg font-semibold transition-colors",children:"Assign Dealer"})]})]})}function zi(e){let{selectedClubId:t,tables:s,waitlist:a,waitlistLoading:l}=e;return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Waitlist Management"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Current Waitlist"}),l?(0,ra.jsxs)("div",{className:"text-center py-8",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),(0,ra.jsx)("p",{className:"text-sm",children:"Loading..."})]}):0===a.length?(0,ra.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No players in waitlist"}):(0,ra.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-600 p-4 rounded-lg",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"font-semibold text-white",children:e.playerName}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Position: ",e.priority||"N/A"]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Table Type: ",e.tableType||"Any"]})]}),(0,ra.jsx)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-400 rounded text-xs font-semibold",children:e.status})]}),(0,ra.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,ra.jsx)("button",{className:"flex-1 bg-blue-600 hover:bg-blue-500 px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"\ud83c\udfaf View Table"}),(0,ra.jsx)("button",{className:"flex-1 bg-red-600 hover:bg-red-500 px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"Remove"})]})]},e.id))})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Seat Allocation"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Select Player"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"",children:"-- Select Player --"}),a.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.playerName},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Select Table"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"",children:"-- Select Table --"}),s.map(e=>(0,ra.jsxs)("option",{value:e.id,children:["Table ",e.tableNumber]},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Seat Number"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"",children:"-- Select Seat --"}),[1,2,3,4,5,6,7,8,9].map(e=>(0,ra.jsxs)("option",{value:e,children:["Seat ",e]},e))]})]}),(0,ra.jsx)("button",{className:"w-full bg-purple-600 hover:bg-purple-500 px-4 py-3 rounded-lg font-semibold transition-colors",children:"Assign Seat"})]})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Player Call & Reorder"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Call Players"}),(0,ra.jsxs)("div",{className:"space-y-3",children:[(0,ra.jsx)("button",{className:"w-full bg-green-600 hover:bg-green-500 px-4 py-3 rounded-lg font-semibold transition-colors",children:"Call Next Player"}),(0,ra.jsx)("button",{className:"w-full bg-blue-600 hover:bg-blue-500 px-4 py-3 rounded-lg font-semibold transition-colors",children:"Call All Players"}),(0,ra.jsx)("button",{className:"w-full bg-yellow-600 hover:bg-yellow-500 px-4 py-3 rounded-lg font-semibold transition-colors",children:"Send SMS Notification"})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Reorder Waitlist"}),(0,ra.jsx)("div",{className:"space-y-2",children:0===a.length?(0,ra.jsx)("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No players to reorder"}):a.map((e,t)=>(0,ra.jsxs)("div",{className:"bg-slate-600 p-3 rounded flex justify-between items-center",children:[(0,ra.jsxs)("span",{className:"text-white",children:[t+1,". ",e.playerName]}),(0,ra.jsxs)("div",{className:"flex gap-1",children:[(0,ra.jsx)("button",{disabled:0===t,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-2 py-1 rounded text-xs transition-colors",children:"\u2191"}),(0,ra.jsx)("button",{disabled:t===a.length-1,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white px-2 py-1 rounded text-xs transition-colors",children:"\u2193"})]})]},e.id))})]})]})]})]})}function qi(e){let{selectedClubId:t,tables:s}=e;const[l,r]=(0,a.useState)("process-buyout");return(0,ra.jsx)("div",{className:"space-y-6",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-orange-600/30 via-red-500/20 to-rose-700/30 rounded-xl p-6 border border-orange-800/40",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Table Buy-Out"}),(0,ra.jsx)("p",{className:"text-gray-300 text-sm mb-6",children:"Manage player buy-out requests and process manual buy-outs."}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-orange-800/40 pb-4 mb-6",children:[(0,ra.jsx)("button",{onClick:()=>r("process-buyout"),className:"px-5 py-2 rounded-t-lg font-semibold transition-all ".concat("process-buyout"===l?"bg-gradient-to-r from-orange-600 to-red-700 text-white shadow-lg":"bg-slate-700 text-gray-400 hover:bg-slate-600"),children:"Process Buy-Out"}),(0,ra.jsx)("button",{onClick:()=>r("player-requests"),className:"px-5 py-2 rounded-t-lg font-semibold transition-all ".concat("player-requests"===l?"bg-gradient-to-r from-orange-600 to-red-700 text-white shadow-lg":"bg-slate-700 text-gray-400 hover:bg-slate-600"),children:"Player Requests"})]}),"process-buyout"===l&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-white/10 p-5 rounded-lg",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Process Buy-Out"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Select Seated Player"}),(0,ra.jsx)("select",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",children:(0,ra.jsx)("option",{value:"",children:"-- Select Player --"})})]}),(0,ra.jsx)("div",{className:"p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:(0,ra.jsxs)("div",{className:"text-sm text-white space-y-2",children:[(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-300",children:"Player:"}),(0,ra.jsx)("span",{className:"font-semibold",children:"-"})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-300",children:"Table:"}),(0,ra.jsx)("span",{className:"font-semibold",children:"-"})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-300",children:"Current Table Balance:"}),(0,ra.jsx)("span",{className:"font-semibold text-emerald-300",children:"0 chips"})]})]})}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reason (Optional)"}),(0,ra.jsx)("textarea",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white",rows:"3",placeholder:"Enter reason for buy-out (optional)..."})]}),(0,ra.jsx)("button",{className:"w-full bg-orange-600 hover:bg-orange-500 px-4 py-3 rounded-lg font-semibold transition-colors",children:"Approve Buy-Out"})]})]}),(0,ra.jsxs)("div",{className:"bg-white/10 p-5 rounded-lg",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Buy-Out Information"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold mb-2",children:"How Buy-Out Works:"}),(0,ra.jsxs)("ul",{className:"text-sm text-gray-300 space-y-2 list-disc list-inside",children:[(0,ra.jsx)("li",{children:"Select a player who is currently seated at a table"}),(0,ra.jsx)("li",{children:"Their table chip balance will be moved to their available balance"}),(0,ra.jsx)("li",{children:"Player will be removed from the table (seat becomes available)"}),(0,ra.jsx)("li",{children:"Player can then convert chips to real money at the cashier counter"})]})]}),(0,ra.jsxs)("div",{className:"p-4 bg-yellow-500/20 rounded-lg border border-yellow-400/30",children:[(0,ra.jsx)("h4",{className:"text-yellow-300 font-semibold mb-2",children:"\u26a0\ufe0f Important Notes:"}),(0,ra.jsxs)("ul",{className:"text-sm text-yellow-200 space-y-1 list-disc list-inside",children:[(0,ra.jsx)("li",{children:"Buy-out approval is permanent and cannot be undone"}),(0,ra.jsx)("li",{children:"Table balance will be immediately transferred to player's available balance"}),(0,ra.jsx)("li",{children:"Player must go to cashier to convert chips to real money"})]})]}),(0,ra.jsx)("div",{className:"p-4 bg-green-500/20 rounded-lg border border-green-400/30",children:(0,ra.jsxs)("div",{className:"text-sm text-green-300",children:[(0,ra.jsx)("div",{className:"font-semibold mb-1",children:"Currently Seated Players:"}),(0,ra.jsx)("div",{className:"text-green-200",children:"0 player(s) at tables"})]})})]})]})]}),"player-requests"===l&&(0,ra.jsx)(Li,{clubId:t})]})})}const Ui="all_players",Bi="new_signups",Wi="vip_players",Hi="tables_players",Vi="waitlist_players",Ji="custom_group",Ki="all_staff";function Qi(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)("player"),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)({title:"",details:"",targetType:Ui,imageFile:null,imageUrl:"",videoFile:null,videoUrl:"",customPlayerIds:[],scheduledAt:"",isActive:!0}),{data:b=[],isLoading:g}=Si({queryKey:["pushNotifications",t,l],queryFn:()=>In.getPushNotifications(t,l),enabled:!!t}),{data:f=[]}=Si({queryKey:["allPlayersForGroup",t],queryFn:async()=>{if(!t)return[];const e=[];let s=1;let a=!0;for(;a;)try{const l=(await In.getPlayers(t,{limit:50,page:s})).players||[];if(!l||0===l.length){a=!1;break}const r=l.filter(e=>("approved"===e.kycStatus||"verified"===e.kycStatus)&&"Active"===e.status);e.push(...r),l.length<50?a=!1:(s++,s>20&&(a=!1))}catch(l){console.error("Error fetching players page ".concat(s,":"),l),a=!1}return e},enabled:!!t&&h.targetType===Ji}),v=Ti({mutationFn:async e=>{let s=e.imageUrl,a=e.videoUrl;if(e.imageFile)try{const{signedUrl:a,publicUrl:l}=await In.createPushNotificationUploadUrl(t,e.imageFile.name,!1);await In.uploadToSignedUrl(a,e.imageFile),s=l}catch(r){console.error("Failed to upload image:",r),Sl.error("Failed to upload image")}if(e.videoFile)try{const{signedUrl:s,publicUrl:l}=await In.createPushNotificationUploadUrl(t,e.videoFile.name,!0);await In.uploadToSignedUrl(s,e.videoFile),a=l}catch(r){console.error("Failed to upload video:",r),Sl.error("Failed to upload video")}return await In.createPushNotification(t,{title:e.title,details:e.details,imageUrl:s||void 0,videoUrl:a||void 0,targetType:e.targetType,customPlayerIds:e.targetType===Ji?e.customPlayerIds:void 0,notificationType:l,scheduledAt:e.scheduledAt||void 0,isActive:e.isActive})},onSuccess:()=>{Sl.success("Push notification created successfully!"),s.invalidateQueries(["pushNotifications",t]),i(!1),w()},onError:e=>{Sl.error(e.message||"Failed to create notification")}}),y=Ti({mutationFn:async e=>await In.deletePushNotification(t,e),onSuccess:()=>{Sl.success("Notification deleted successfully!"),s.invalidateQueries(["pushNotifications",t])},onError:e=>{Sl.error(e.message||"Failed to delete notification")}}),w=()=>{p({title:"",details:"",targetType:"player"===l?Ui:Ki,imageFile:null,imageUrl:"",videoFile:null,videoUrl:"",customPlayerIds:[],scheduledAt:"",isActive:!0})};return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Push Notifications & Offers"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Create and manage push notifications for players and staff"})]}),(0,ra.jsx)("button",{onClick:()=>{w(),i(!0)},className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-lg transition-all shadow-lg",children:"+ Create Notification"})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mb-6 border-b border-gray-700",children:[(0,ra.jsx)("button",{onClick:()=>{r("player"),w()},className:"px-6 py-3 font-semibold transition-colors ".concat("player"===l?"text-white border-b-2 border-blue-500 bg-blue-500/10":"text-gray-400 hover:text-white"),children:"Player Notifications"}),(0,ra.jsx)("button",{onClick:()=>{r("staff"),w()},className:"px-6 py-3 font-semibold transition-colors ".concat("staff"===l?"text-white border-b-2 border-purple-500 bg-purple-500/10":"text-gray-400 hover:text-white"),children:"Staff Notifications"})]}),g?(0,ra.jsx)("div",{className:"text-center text-gray-400 py-12",children:"Loading notifications..."}):0===b.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsxs)("p",{className:"text-gray-400 text-lg mb-4",children:["No ",l," notifications yet"]}),(0,ra.jsx)("button",{onClick:()=>{w(),i(!0)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"Create Your First Notification"})]}):(0,ra.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700 hover:border-blue-500 transition-all",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),e.details&&(0,ra.jsx)("p",{className:"text-gray-300 mb-3",children:e.details}),(0,ra.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,ra.jsxs)("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm font-semibold rounded",children:[e.targetType===Ui&&"All Players",e.targetType===Bi&&"New Signups",e.targetType===Wi&&"VIP Players",e.targetType===Hi&&"Tables Players",e.targetType===Vi&&"Waitlist Players",e.targetType===Ji&&"Custom Group",e.targetType===Ki&&"All Staff"]}),(0,ra.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded ".concat(e.isActive?"bg-green-600 text-white":"bg-gray-600 text-gray-300"),children:e.isActive?"Active":"Inactive"}),e.sentAt&&(0,ra.jsxs)("span",{className:"px-3 py-1 bg-purple-600 text-white text-sm font-semibold rounded",children:["Sent ",new Date(e.sentAt).toLocaleDateString()]})]}),(e.imageUrl||e.videoUrl)&&(0,ra.jsxs)("div",{className:"mt-3",children:[e.imageUrl&&(0,ra.jsx)("img",{src:e.imageUrl,alt:e.title,className:"max-w-xs rounded-lg"}),e.videoUrl&&(0,ra.jsx)("video",{src:e.videoUrl,controls:!0,className:"max-w-xs rounded-lg mt-2"})]})]}),(0,ra.jsx)("button",{onClick:()=>{return t=e.id,s=e.title,void(window.confirm('Are you sure you want to delete "'.concat(s,'"?'))&&y.mutate(t));var t,s},disabled:y.isPending,className:"ml-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50",children:"Delete"})]})},e.id))}),n&&(0,ra.jsx)(Gi,{title:"Create Push Notification",form:h,setForm:p,onSubmit:e=>{e.preventDefault(),h.title.trim()?h.targetType!==Ji||0!==h.customPlayerIds.length?v.mutate(h):Sl.error("Please select at least one player for custom group"):Sl.error("Title is required")},onClose:()=>{i(!1),w()},isLoading:v.isPending,activeTab:l,allPlayers:f,showCustomGroupModal:m,setShowCustomGroupModal:x})]})}function Gi(e){let{title:t,form:s,setForm:a,onSubmit:l,onClose:r,isLoading:n,activeTab:i,allPlayers:o,showCustomGroupModal:d,setShowCustomGroupModal:u}=e;return(0,ra.jsxs)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full my-8 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:t}),(0,ra.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["Title ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"text",value:s.title,onChange:e=>a(c(c({},s),{},{title:e.target.value})),placeholder:"e.g., Special Weekend Offer!",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Details"}),(0,ra.jsx)("textarea",{value:s.details,onChange:e=>a(c(c({},s),{},{details:e.target.value})),placeholder:"Enter notification details...",rows:4,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["Target Audience ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("select",{value:s.targetType,onChange:e=>a(c(c({},s),{},{targetType:e.target.value,customPlayerIds:[]})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:"player"===i?(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("option",{value:Ui,children:"All Players"}),(0,ra.jsx)("option",{value:Bi,children:"New Sign-up Players"}),(0,ra.jsx)("option",{value:Wi,children:"VIP Players"}),(0,ra.jsx)("option",{value:Hi,children:"Tables Players"}),(0,ra.jsx)("option",{value:Vi,children:"Waitlist Players"}),(0,ra.jsx)("option",{value:Ji,children:"Custom Group"})]}):(0,ra.jsx)("option",{value:Ki,children:"All Staff"})}),s.targetType===Ji&&(0,ra.jsx)("button",{type:"button",onClick:()=>u(!0),className:"mt-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors",children:s.customPlayerIds.length>0?"Selected ".concat(s.customPlayerIds.length," players"):"Select Players"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Image (Optional)"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsxs)("label",{className:"flex-shrink-0 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold cursor-pointer transition-colors",children:[(0,ra.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;const l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(l){if(l.size>10485760)return void Sl.error("Image must be less than 10MB");a(c(c({},s),{},{imageFile:l,imageUrl:""}))}}}),s.imageFile?"\u2713 File Selected":"Choose Image"]}),(0,ra.jsx)("input",{type:"url",value:s.imageUrl,onChange:e=>a(c(c({},s),{},{imageUrl:e.target.value,imageFile:null})),placeholder:"Or paste image URL",disabled:!!s.imageFile,className:"flex-1 px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"})]}),s.imageFile&&(0,ra.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\ud83d\udcc1 ",s.imageFile.name," (",(s.imageFile.size/1024).toFixed(1)," KB)"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Video (Optional)"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsxs)("label",{className:"flex-shrink-0 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold cursor-pointer transition-colors",children:[(0,ra.jsx)("input",{type:"file",accept:"video/*",className:"hidden",onChange:e=>{var t;const l=null===(t=e.target.files)||void 0===t?void 0:t[0];if(l){if(l.size>104857600)return void Sl.error("Video must be less than 100MB");a(c(c({},s),{},{videoFile:l,videoUrl:""}))}}}),s.videoFile?"\u2713 File Selected":"Choose Video"]}),(0,ra.jsx)("input",{type:"url",value:s.videoUrl,onChange:e=>a(c(c({},s),{},{videoUrl:e.target.value,videoFile:null})),placeholder:"Or paste video URL",disabled:!!s.videoFile,className:"flex-1 px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50"})]}),s.videoFile&&(0,ra.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\ud83d\udcc1 ",s.videoFile.name," (",(s.videoFile.size/1048576).toFixed(1)," MB)"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Schedule (Optional)"}),(0,ra.jsx)("input",{type:"datetime-local",value:s.scheduledAt,onChange:e=>a(c(c({},s),{},{scheduledAt:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Leave empty to send immediately"})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ra.jsx)("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:e=>a(c(c({},s),{},{isActive:e.target.checked})),className:"w-5 h-5 text-blue-600 bg-slate-700 border-gray-600 rounded focus:ring-blue-500"}),(0,ra.jsx)("label",{htmlFor:"isActive",className:"text-gray-300 font-semibold",children:"Notification is Active"})]}),(0,ra.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:n,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-3 rounded-lg transition-all disabled:opacity-50",children:n?"Creating...":"Create Notification"}),(0,ra.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Cancel"})]})]})]}),d&&(0,ra.jsx)($i,{allPlayers:o,selectedPlayerIds:s.customPlayerIds,onSelect:e=>{a(c(c({},s),{},{customPlayerIds:e})),u(!1)},onClose:()=>u(!1)})]})}function $i(e){let{allPlayers:t,selectedPlayerIds:s,onSelect:l,onClose:r}=e;const[n,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(new Set(s)),c=t.filter(e=>{if(!n)return!0;const t=n.toLowerCase();return e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phoneNumber&&e.phoneNumber.includes(n)||e.playerId&&e.playerId.toLowerCase().includes(t)}),u=e=>{const t=new Set(o);t.has(e)?t.delete(e):t.add(e),d(t)};return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-3xl w-full max-h-[80vh] overflow-y-auto border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Select Players for Custom Group"}),(0,ra.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Search by name, email, or ID...",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,ra.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto mb-4",children:c.map(e=>(0,ra.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors cursor-pointer",onClick:()=>u(e.id),children:[(0,ra.jsx)("input",{type:"checkbox",checked:o.has(e.id),onChange:()=>u(e.id),className:"w-5 h-5 text-purple-600"}),(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("div",{className:"text-white font-semibold",children:e.name}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:e.email})]})]},e.id))}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsxs)("button",{onClick:()=>l(Array.from(o)),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors",children:["Select ",o.size," Players"]}),(0,ra.jsx)("button",{onClick:r,className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Cancel"})]})]})})}function Yi(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)("details"),[p,b]=(0,a.useState)({name:"",tournament_type:"No Limit Hold'em",buy_in:"",entry_fee:"",starting_chips:"",blind_structure:"Standard",number_of_levels:15,minutes_per_level:15,break_structure:"Every 4 levels",break_duration:10,late_registration:60,payout_structure:"Top 15%",seat_draw_method:"Random",clock_pause_rules:"Standard (pause on breaks)",allow_rebuys:!1,allow_addon:!1,allow_reentry:!1,bounty_amount:"",max_players:100,start_time:"",custom_tournament_type:"",custom_blind_structure:"",custom_break_structure:"",custom_payout_structure:"",custom_seat_draw_method:"",custom_clock_pause_rules:""}),[g,f]=(0,a.useState)([]),{data:v,isLoading:y}=Si({queryKey:["tournaments",t],queryFn:()=>Dr(t),enabled:!!t}),{data:w,isLoading:j}=Si({queryKey:["tournament-details",t,null===u||void 0===u?void 0:u.id],queryFn:()=>Er(t,u.id),enabled:!!t&&!!u&&n}),{data:N,isLoading:S}=Si({queryKey:["tournament-players",t,null===u||void 0===u?void 0:u.id],queryFn:()=>Mr(t,u.id),enabled:!!t&&!!u&&n}),{data:C}=Si({queryKey:["tournament-winners",t,null===u||void 0===u?void 0:u.id],queryFn:()=>Fr(t,u.id),enabled:!!t&&!!u&&"completed"===u.status}),k=Ti({mutationFn:e=>Ar(t,e),onSuccess:()=>{Sl.success("Tournament created successfully!"),s.invalidateQueries(["tournaments",t]),r(!1),D()},onError:e=>{Sl.error(e.message||"Failed to create tournament")}}),P=Ti({mutationFn:e=>Rr(t,e),onSuccess:()=>{Sl.success("Tournament started successfully!"),s.invalidateQueries(["tournaments",t])},onError:e=>{Sl.error(e.message||"Failed to start tournament")}}),T=Ti({mutationFn:e=>{let{tournamentId:s,winners:a}=e;return Or(t,s,{winners:a})},onSuccess:()=>{Sl.success("Tournament ended and winners updated successfully!"),s.invalidateQueries(["tournaments",t]),d(!1),i(!1),f([])},onError:e=>{Sl.error(e.message||"Failed to end tournament")}}),I=Ti({mutationFn:e=>Lr(t,e),onSuccess:()=>{Sl.success("Tournament deleted successfully!"),s.invalidateQueries(["tournaments",t])},onError:e=>{Sl.error(e.message||"Failed to delete tournament")}}),D=()=>{b({name:"",tournament_type:"No Limit Hold'em",buy_in:"",entry_fee:"",starting_chips:"",blind_structure:"Standard",number_of_levels:15,minutes_per_level:15,break_structure:"Every 4 levels",break_duration:10,late_registration:60,payout_structure:"Top 15%",seat_draw_method:"Random",clock_pause_rules:"Standard (pause on breaks)",allow_rebuys:!1,allow_addon:!1,allow_reentry:!1,bounty_amount:"",max_players:100,start_time:"",custom_tournament_type:"",custom_blind_structure:"",custom_break_structure:"",custom_payout_structure:"",custom_seat_draw_method:"",custom_clock_pause_rules:""})},E=(e,t,s)=>{const a=[...g];a[e][t]=s,f(a)},A=(null===v||void 0===v?void 0:v.tournaments)||[],L=(null===N||void 0===N?void 0:N.players)||[],R=(null===C||void 0===C?void 0:C.winners)||[],O=e=>{switch(e){case"scheduled":return"bg-blue-500/20 text-blue-300 border-blue-500";case"active":return"bg-green-500/20 text-green-300 border-green-500";case"completed":return"bg-gray-500/20 text-gray-300 border-gray-500";default:return"bg-slate-500/20 text-slate-300 border-slate-500"}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Tournament Management"}),(0,ra.jsx)("button",{onClick:()=>r(!0),className:"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-400 hover:to-orange-500 text-white px-6 py-3 rounded-lg font-semibold shadow-lg transition-all",children:"\u2795 Create Tournament"})]}),y?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tournaments..."})]}):0===A.length?(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 text-center border border-slate-700",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Tournaments Yet"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Create your first tournament to get started"})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:A.map(e=>{var t;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-emerald-600 transition-all",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.name}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold border ".concat(O(e.status)),children:null===(t=e.status)||void 0===t?void 0:t.toUpperCase()})]}),(0,ra.jsxs)("div",{className:"text-right",children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Tournament ID"}),(0,ra.jsx)("p",{className:"text-white font-mono",children:e.tournament_id})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Type"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:e.tournament_type})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Buy-in"}),(0,ra.jsxs)("p",{className:"text-white font-semibold",children:["\u20b9",e.buy_in]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Starting Chips"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:e.starting_chips})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Players"}),(0,ra.jsxs)("p",{className:"text-white font-semibold",children:[e.registered_players||0," / ",e.max_players]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>{m(e),i(!0),h("details")},className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"View Details"}),"scheduled"===e.status&&(0,ra.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to start this tournament?")&&P.mutate(t));var t},className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Start"}),"active"===e.status&&(0,ra.jsx)("button",{onClick:()=>{m(e),d(!0)},className:"flex-1 bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"End Tournament"}),"completed"===e.status&&(0,ra.jsx)("button",{onClick:()=>{m(e),i(!0),h("details")},className:"flex-1 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"View Winners"}),"scheduled"===e.status&&(0,ra.jsx)("button",{onClick:()=>{return t=e.id,s=e.name,void(window.confirm('Are you sure you want to delete "'.concat(s,'"?'))&&I.mutate(t));var t,s},className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete"})]})]},e.id)})}),l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full border border-emerald-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Tournament"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Basic Information"}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Tournament Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Monday Night Hold'em",value:p.name,onChange:e=>b(c(c({},p),{},{name:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Tournament Type *"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.tournament_type,onChange:e=>b(c(c({},p),{},{tournament_type:e.target.value})),children:["No Limit Hold'em","Pot Limit Omaha","Pot Limit Omaha Hi-Lo","Limit Hold'em","Seven Card Stud","Seven Card Stud Hi-Lo","Custom"].map(e=>(0,ra.jsx)("option",{value:e,children:e},e))})]}),"Custom"===p.tournament_type&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Tournament Type"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Enter custom type",value:p.custom_tournament_type,onChange:e=>b(c(c({},p),{},{custom_tournament_type:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Buy-in (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"1000",value:p.buy_in,onChange:e=>b(c(c({},p),{},{buy_in:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Entry Fee (\u20b9)"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"100",value:p.entry_fee,onChange:e=>b(c(c({},p),{},{entry_fee:e.target.value}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Starting Chips *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"10000",value:p.starting_chips,onChange:e=>b(c(c({},p),{},{starting_chips:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Time"}),(0,ra.jsx)("input",{type:"datetime-local",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.start_time,onChange:e=>b(c(c({},p),{},{start_time:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Max Players"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"100",value:p.max_players,onChange:e=>b(c(c({},p),{},{max_players:e.target.value}))})]})]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Tournament Rules"}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Blind Structure *"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.blind_structure,onChange:e=>b(c(c({},p),{},{blind_structure:e.target.value})),children:["Standard","Turbo","Super Turbo","Deep Stack","Hyper Turbo","Custom"].map(e=>(0,ra.jsx)("option",{value:e,children:e},e))})]}),"Custom"===p.blind_structure&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Blind Structure"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Enter custom structure",value:p.custom_blind_structure,onChange:e=>b(c(c({},p),{},{custom_blind_structure:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Number of Levels"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"15",value:p.number_of_levels,onChange:e=>b(c(c({},p),{},{number_of_levels:parseInt(e.target.value)||15}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Minutes per Level"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"15",value:p.minutes_per_level,onChange:e=>b(c(c({},p),{},{minutes_per_level:parseInt(e.target.value)||15}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Break Structure"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.break_structure,onChange:e=>b(c(c({},p),{},{break_structure:e.target.value})),children:["Every 4 levels","Every 6 levels","Every 8 levels","No breaks","Custom"].map(e=>(0,ra.jsx)("option",{value:e,children:e},e))})]}),"Custom"===p.break_structure&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Break Structure"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Enter custom structure",value:p.custom_break_structure,onChange:e=>b(c(c({},p),{},{custom_break_structure:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Break Duration (minutes)"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"10",value:p.break_duration,onChange:e=>b(c(c({},p),{},{break_duration:parseInt(e.target.value)||10}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Late Registration (minutes)"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"60",value:p.late_registration,onChange:e=>b(c(c({},p),{},{late_registration:parseInt(e.target.value)||60}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Payout Structure"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.payout_structure,onChange:e=>b(c(c({},p),{},{payout_structure:e.target.value})),children:["Top 10%","Top 15%","Top 20%","Top 25%","Winner takes all","Custom"].map(e=>(0,ra.jsx)("option",{value:e,children:e},e))})]}),"Custom"===p.payout_structure&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Payout Structure"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Enter custom structure",value:p.custom_payout_structure,onChange:e=>b(c(c({},p),{},{custom_payout_structure:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Seat Draw Method"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.seat_draw_method,onChange:e=>b(c(c({},p),{},{seat_draw_method:e.target.value})),children:["Random","Table Balance","Manual","Custom"].map(e=>(0,ra.jsx)("option",{value:e,children:e},e))})]}),"Custom"===p.seat_draw_method&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Seat Draw Method"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Enter custom method",value:p.custom_seat_draw_method,onChange:e=>b(c(c({},p),{},{custom_seat_draw_method:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Clock Pause Rules"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",value:p.clock_pause_rules,onChange:e=>b(c(c({},p),{},{clock_pause_rules:e.target.value})),children:["Standard (pause on breaks)","No Pause","Pause on All-in","Custom"].map(e=>(0,ra.jsx)("option",{value:e,children:e},e))})]}),"Custom"===p.clock_pause_rules&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Clock Pause Rules"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Enter custom rules",value:p.custom_clock_pause_rules,onChange:e=>b(c(c({},p),{},{custom_clock_pause_rules:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Rebuy, Add-on & Re-entry Options"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ra.jsxs)("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[(0,ra.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded bg-slate-700 border-slate-600 text-emerald-500 focus:ring-emerald-500",checked:p.allow_rebuys,onChange:e=>b(c(c({},p),{},{allow_rebuys:e.target.checked}))}),(0,ra.jsx)("span",{children:"Allow Rebuys"})]}),(0,ra.jsxs)("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[(0,ra.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded bg-slate-700 border-slate-600 text-emerald-500 focus:ring-emerald-500",checked:p.allow_addon,onChange:e=>b(c(c({},p),{},{allow_addon:e.target.checked}))}),(0,ra.jsx)("span",{children:"Allow Add-on"})]}),(0,ra.jsxs)("label",{className:"flex items-center space-x-3 text-white cursor-pointer",children:[(0,ra.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded bg-slate-700 border-slate-600 text-emerald-500 focus:ring-emerald-500",checked:p.allow_reentry,onChange:e=>b(c(c({},p),{},{allow_reentry:e.target.checked}))}),(0,ra.jsx)("span",{children:"Allow Re-entry"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Bounty Amount (\u20b9) - Leave blank for regular tournament"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"0",value:p.bounty_amount,onChange:e=>b(c(c({},p),{},{bounty_amount:e.target.value}))}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"If set, this becomes a knockout/bounty tournament"})]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{p.name&&p.buy_in&&p.starting_chips?k.mutate(p):Sl.error("Please fill in all required fields")},disabled:k.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:k.isLoading?"Creating...":"Create Tournament"}),(0,ra.jsx)("button",{onClick:()=>{r(!1),D()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),n&&u&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-6xl w-full border border-emerald-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:u.name}),(0,ra.jsx)("button",{onClick:()=>{i(!1),m(null)},className:"text-gray-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mb-6 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>h("details"),className:"px-4 py-2 font-semibold transition-colors ".concat("details"===x?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"),children:"Details"}),(0,ra.jsxs)("button",{onClick:()=>h("players"),className:"px-4 py-2 font-semibold transition-colors ".concat("players"===x?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"),children:["Players (",L.length,")"]}),"completed"===u.status&&(0,ra.jsxs)("button",{onClick:()=>h("winners"),className:"px-4 py-2 font-semibold transition-colors ".concat("winners"===x?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-400 hover:text-white"),children:["Winners (",R.length,")"]})]}),"details"===x&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"space-y-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Tournament ID"}),(0,ra.jsx)("p",{className:"text-white font-mono",children:u.tournament_id})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Type"}),(0,ra.jsx)("p",{className:"text-white",children:u.tournament_type})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Buy-in"}),(0,ra.jsxs)("p",{className:"text-white",children:["\u20b9",u.buy_in]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Entry Fee"}),(0,ra.jsxs)("p",{className:"text-white",children:["\u20b9",u.entry_fee||0]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Starting Chips"}),(0,ra.jsx)("p",{className:"text-white",children:u.starting_chips})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Max Players"}),(0,ra.jsx)("p",{className:"text-white",children:u.max_players})]})]}),(0,ra.jsxs)("div",{className:"space-y-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Blind Structure"}),(0,ra.jsx)("p",{className:"text-white",children:u.blind_structure})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Number of Levels"}),(0,ra.jsx)("p",{className:"text-white",children:u.number_of_levels})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Minutes per Level"}),(0,ra.jsx)("p",{className:"text-white",children:u.minutes_per_level})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Break Structure"}),(0,ra.jsx)("p",{className:"text-white",children:u.break_structure})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Payout Structure"}),(0,ra.jsx)("p",{className:"text-white",children:u.payout_structure})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Seat Draw Method"}),(0,ra.jsx)("p",{className:"text-white",children:u.seat_draw_method})]})]})]}),"players"===x&&(0,ra.jsx)("div",{className:"space-y-4",children:S?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading players..."})]}):0===L.length?(0,ra.jsx)("div",{className:"text-center py-12",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"No players registered yet"})}):(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Player ID"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Name"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Email"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Mobile"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Registered At"}),"completed"===u.status&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Position"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Prize"})]})]})}),(0,ra.jsx)("tbody",{children:L.map(e=>(0,ra.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30",children:[(0,ra.jsx)("td",{className:"py-3 px-4 text-white font-mono",children:e.player_id}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.name}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.email}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.mobile}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.registered_at?new Date(e.registered_at).toLocaleString():"-"}),"completed"===u.status&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.finishing_position||"-"}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.prize_amount?"\u20b9".concat(e.prize_amount):"-"})]})]},e.id))})]})})}),"winners"===x&&"completed"===u.status&&(0,ra.jsx)("div",{className:"space-y-4",children:0===R.length?(0,ra.jsx)("div",{className:"text-center py-12",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"No winners recorded"})}):(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Position"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Player ID"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Name"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Email"}),(0,ra.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Prize Amount"})]})}),(0,ra.jsx)("tbody",{children:R.map(e=>(0,ra.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30",children:[(0,ra.jsx)("td",{className:"py-3 px-4",children:(0,ra.jsx)("span",{className:"inline-block w-8 h-8 rounded-full bg-yellow-500 text-slate-900 font-bold flex items-center justify-center",children:e.finishing_position})}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white font-mono",children:e.player_id}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.name}),(0,ra.jsx)("td",{className:"py-3 px-4 text-white",children:e.email}),(0,ra.jsxs)("td",{className:"py-3 px-4 text-emerald-400 font-semibold",children:["\u20b9",e.prize_amount]})]},e.id))})]})})})]})}),o&&u&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full border border-orange-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6",children:["End Tournament: ",u.name]}),(0,ra.jsx)("p",{className:"text-gray-300 mb-4",children:"Enter the winners and their prize amounts. Player balances will be automatically updated."}),(0,ra.jsx)("div",{className:"space-y-4 mb-6",children:g.map((e,t)=>(0,ra.jsxs)("div",{className:"grid grid-cols-12 gap-3 items-center",children:[(0,ra.jsx)("div",{className:"col-span-1",children:(0,ra.jsx)("div",{className:"w-10 h-10 rounded-full bg-yellow-500 text-slate-900 font-bold flex items-center justify-center",children:e.finishing_position})}),(0,ra.jsx)("div",{className:"col-span-5",children:(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",value:e.player_id,onChange:e=>E(t,"player_id",e.target.value),children:[(0,ra.jsx)("option",{value:"",children:"Select Player"}),L.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name," (",e.player_id,")"]},e.id))]})}),(0,ra.jsx)("div",{className:"col-span-2",children:(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",placeholder:"Position",value:e.finishing_position,onChange:e=>E(t,"finishing_position",parseInt(e.target.value))})}),(0,ra.jsx)("div",{className:"col-span-3",children:(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",placeholder:"Prize Amount",value:e.prize_amount,onChange:e=>E(t,"prize_amount",parseFloat(e.target.value))})}),(0,ra.jsx)("div",{className:"col-span-1",children:(0,ra.jsx)("button",{onClick:()=>(e=>{f(g.filter((t,s)=>s!==e))})(t),className:"w-full bg-red-600 hover:bg-red-500 text-white px-3 py-2 rounded-lg transition-colors",children:"\xd7"})})]},t))}),(0,ra.jsx)("button",{onClick:()=>{f([...g,{player_id:"",finishing_position:g.length+1,prize_amount:""}])},className:"w-full bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors mb-6",children:"+ Add Winner"}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>{if(0===g.length)return void Sl.error("Please add at least one winner");const e=g.every(e=>e.player_id&&e.finishing_position&&e.prize_amount);e?T.mutate({tournamentId:u.id,winners:g}):Sl.error("Please fill in all winner details")},disabled:T.isLoading,className:"flex-1 bg-orange-600 hover:bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:T.isLoading?"Ending Tournament...":"End Tournament & Update Balances"}),(0,ra.jsx)("button",{onClick:()=>{d(!1),f([])},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}var Xi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zi=a.createContext&&a.createContext(Xi),eo=["attr","size","title"];function to(e,t){if(null==e)return{};var s,a,l=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(l[s]=e[s])}return l}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},so.apply(this,arguments)}function ao(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function lo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(s),!0).forEach(function(t){ro(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ao(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function ro(e,t,s){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function no(e){return e&&e.map((e,t)=>a.createElement(e.tag,lo({key:t},e.attr),no(e.child)))}function io(e){return t=>a.createElement(oo,so({attr:lo({},e.attr)},t),no(e.child))}function oo(e){var t=t=>{var s,{attr:l,size:r,title:n}=e,i=to(e,eo),o=r||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",so({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,i,{className:s,style:lo(lo({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),n&&a.createElement("title",null,n),e.children)};return void 0!==Zi?a.createElement(Zi.Consumer,null,e=>t(e)):t(Xi)}function co(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function uo(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function mo(e){return io({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function xo(e){return io({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function ho(e){return io({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function po(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function bo(e){return io({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function go(e){return io({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function fo(e){return io({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function vo(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function yo(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function wo(e){return io({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function jo(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function No(e){return io({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function So(e){return io({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Co(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ko(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(e)}function Po(e){return io({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function To(e){return io({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Io(e){return io({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Do(e){return io({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function Eo(e){let{clubId:t}=e;const[s,l]=(0,a.useState)("staff");return(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:(0,ra.jsxs)("div",{className:"max-w-[1600px] mx-auto",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 rounded-lg mb-6",children:[(0,ra.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,ra.jsx)(mo,{className:"text-4xl"}),"Player & Staff Support Chat"]}),(0,ra.jsx)("p",{className:"text-white/80 mt-2",children:"Communicate with staff members and respond to player queries in real-time"})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,ra.jsxs)("button",{onClick:()=>l("staff"),className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ".concat("staff"===s?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg scale-105":"bg-slate-700 text-white/70 hover:bg-slate-600"),children:[(0,ra.jsx)(Io,{}),"Staff Chat"]}),(0,ra.jsxs)("button",{onClick:()=>l("player"),className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ".concat("player"===s?"bg-gradient-to-r from-orange-600 to-pink-600 text-white shadow-lg scale-105":"bg-slate-700 text-white/70 hover:bg-slate-600"),children:[(0,ra.jsx)(mo,{}),"Player Chat"]})]}),"staff"===s&&(0,ra.jsx)(Ao,{clubId:t}),"player"===s&&(0,ra.jsx)(Lo,{clubId:t})]})})}function Ao(e){let{clubId:t}=e;const[s,l]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(1),[u,m]=(0,a.useState)(1),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v();const e=setInterval(v,5e3);return()=>clearInterval(e)},[t,d,x,p]);const v=async()=>{try{o(!0);const e=await En(t,{page:d,limit:10,search:x,role:p});l(e.sessions),m(e.totalPages)}catch(e){console.error("Error loading staff chat sessions:",e)}finally{o(!1)}};return(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-300px)]",children:[(0,ra.jsxs)("div",{className:"lg:col-span-1 bg-slate-800 rounded-lg p-4 overflow-hidden flex flex-col",children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ra.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Conversations"}),(0,ra.jsxs)("button",{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm",children:[(0,ra.jsx)(No,{})," New Chat"]})]}),(0,ra.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)(Co,{className:"absolute left-3 top-3 text-gray-400"}),(0,ra.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:x,onChange:e=>{h(e.target.value),c(1)},className:"w-full pl-10 pr-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("select",{value:p,onChange:e=>{b(e.target.value),c(1)},className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"",children:"All Roles"}),(0,ra.jsx)("option",{value:"SUPER_ADMIN",children:"Super Admin"}),(0,ra.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,ra.jsx)("option",{value:"MANAGER",children:"Manager"}),(0,ra.jsx)("option",{value:"HR",children:"HR"}),(0,ra.jsx)("option",{value:"GRE",children:"GRE"}),(0,ra.jsx)("option",{value:"CASHIER",children:"Cashier"}),(0,ra.jsx)("option",{value:"AFFILIATE",children:"Affiliate"}),(0,ra.jsx)("option",{value:"FNB",children:"FNB"})]})]}),(0,ra.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:i&&0===s.length?(0,ra.jsx)("div",{className:"text-white/60 text-center py-8",children:"Loading chats..."}):0===s.length?(0,ra.jsx)("div",{className:"text-white/60 text-center py-8",children:"No conversations yet"}):s.map(e=>{var t,s,a,l;return(0,ra.jsxs)("div",{onClick:()=>n(e),className:"p-3 rounded-lg cursor-pointer transition-all ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-blue-600":"bg-slate-700 hover:bg-slate-600"),children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:(null===(t=e.otherStaff)||void 0===t||null===(s=t.name)||void 0===s?void 0:s[0])||"?"}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-white font-semibold",children:null===(a=e.otherStaff)||void 0===a?void 0:a.name}),(0,ra.jsx)("div",{className:"text-white/60 text-sm",children:null===(l=e.otherStaff)||void 0===l?void 0:l.role})]})]}),e.unreadCount>0&&(0,ra.jsx)("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded-full",children:e.unreadCount})]}),e.subject&&(0,ra.jsx)("div",{className:"text-white/70 text-sm mt-1 truncate",children:e.subject})]},e.id)})}),u>1&&(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===d,className:"text-white px-3 py-1 bg-slate-700 rounded disabled:opacity-50",children:"Previous"}),(0,ra.jsxs)("span",{className:"text-white text-sm",children:["Page ",d," of ",u]}),(0,ra.jsx)("button",{onClick:()=>c(e=>Math.min(u,e+1)),disabled:d===u,className:"text-white px-3 py-1 bg-slate-700 rounded disabled:opacity-50",children:"Next"})]})]}),(0,ra.jsx)("div",{className:"lg:col-span-2",children:r?(0,ra.jsx)(Ro,{clubId:t,session:r,onClose:()=>n(null)}):(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-8 h-full flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-center text-white/60",children:[(0,ra.jsx)(mo,{className:"text-6xl mx-auto mb-4 opacity-50"}),(0,ra.jsx)("p",{className:"text-xl",children:"Select a staff chat to start messaging"})]})})}),g&&(0,ra.jsx)(Oo,{clubId:t,onClose:()=>f(!1),onSuccess:e=>{f(!1),n(e),v()}})]})}function Lo(e){let{clubId:t}=e;const[s,l]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(1),[u,m]=(0,a.useState)(1),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)("");(0,a.useEffect)(()=>{g();const e=setInterval(g,5e3);return()=>clearInterval(e)},[t,d,x,p]);const g=async()=>{try{o(!0);const e=await An(t,{page:d,limit:10,search:x,status:p});l(e.sessions),m(e.totalPages)}catch(e){console.error("Error loading player chat sessions:",e)}finally{o(!1)}};return(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-300px)]",children:[(0,ra.jsxs)("div",{className:"lg:col-span-1 bg-slate-800 rounded-lg p-4 overflow-hidden flex flex-col",children:[(0,ra.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Player Support Tickets"}),(0,ra.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)(Co,{className:"absolute left-3 top-3 text-gray-400"}),(0,ra.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:x,onChange:e=>{h(e.target.value),c(1)},className:"w-full pl-10 pr-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("select",{value:p,onChange:e=>{b(e.target.value),c(1)},className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"",children:"All Status"}),(0,ra.jsx)("option",{value:"open",children:"Open"}),(0,ra.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,ra.jsx)("option",{value:"resolved",children:"Resolved"}),(0,ra.jsx)("option",{value:"closed",children:"Closed"})]})]}),(0,ra.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2",children:i&&0===s.length?(0,ra.jsx)("div",{className:"text-white/60 text-center py-8",children:"Loading tickets..."}):0===s.length?(0,ra.jsx)("div",{className:"text-white/60 text-center py-8",children:"No support tickets yet"}):s.map(e=>{var t,s,a;return(0,ra.jsxs)("div",{onClick:()=>n(e),className:"p-3 rounded-lg cursor-pointer transition-all ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-orange-600":"bg-slate-700 hover:bg-slate-600"),children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:(null===(t=e.player)||void 0===t||null===(s=t.name)||void 0===s?void 0:s[0])||"?"}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-white font-semibold",children:null===(a=e.player)||void 0===a?void 0:a.name}),(0,ra.jsx)("div",{className:"text-white/60 text-sm flex items-center gap-2",children:(0,ra.jsx)(Mo,{status:e.status})})]})]}),e.unreadCount>0&&(0,ra.jsx)("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded-full",children:e.unreadCount})]}),(0,ra.jsx)("div",{className:"text-white/80 text-sm mt-1 font-medium",children:e.subject}),e.lastMessage&&(0,ra.jsx)("div",{className:"text-white/60 text-xs mt-1 truncate",children:e.lastMessage})]},e.id)})}),u>1&&(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===d,className:"text-white px-3 py-1 bg-slate-700 rounded disabled:opacity-50",children:"Previous"}),(0,ra.jsxs)("span",{className:"text-white text-sm",children:["Page ",d," of ",u]}),(0,ra.jsx)("button",{onClick:()=>c(e=>Math.min(u,e+1)),disabled:d===u,className:"text-white px-3 py-1 bg-slate-700 rounded disabled:opacity-50",children:"Next"})]})]}),(0,ra.jsx)("div",{className:"lg:col-span-2",children:r?(0,ra.jsx)(Ro,{clubId:t,session:r,onClose:()=>n(null),isPlayerChat:!0,onStatusChange:e=>(async(e,s)=>{try{await On(t,e,{status:s}),g()}catch(a){alert("Failed to update status")}})(r.id,e)}):(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-8 h-full flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-center text-white/60",children:[(0,ra.jsx)(mo,{className:"text-6xl mx-auto mb-4 opacity-50"}),(0,ra.jsx)("p",{className:"text-xl",children:"Select a player chat to start messaging"})]})})})]})}function Ro(e){let{clubId:t,session:s,onClose:l,isPlayerChat:r,onStatusChange:n}=e;const[i,o]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{b();const e=setInterval(b,3e3);return()=>clearInterval(e)},[s.id]),(0,a.useEffect)(()=>{g()},[i]);const b=async()=>{try{m(!0);const e=await Rn(t,s.id);o(e.messages)}catch(e){console.error("Error loading messages:",e)}finally{m(!1)}},g=()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},f=()=>{var e,t;return r?(null===(e=s.player)||void 0===e?void 0:e.name)||"Player":(null===(t=s.otherStaff)||void 0===t?void 0:t.name)||"Staff Member"};return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg flex flex-col h-full",children:[(0,ra.jsxs)("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[(0,ra.jsx)("div",{children:(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r ".concat(r?"from-orange-500 to-pink-500":"from-blue-500 to-purple-500"," rounded-full flex items-center justify-center text-white font-bold"),children:f()[0]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-white font-semibold",children:f()}),r&&s.subject&&(0,ra.jsx)("div",{className:"text-white/60 text-sm",children:s.subject})]})]})}),(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[r&&(0,ra.jsxs)("select",{value:s.status,onChange:e=>n(e.target.value),className:"px-3 py-1 bg-slate-700 text-white rounded-lg text-sm",children:[(0,ra.jsx)("option",{value:"open",children:"Open"}),(0,ra.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,ra.jsx)("option",{value:"resolved",children:"Resolved"}),(0,ra.jsx)("option",{value:"closed",children:"Closed"})]}),(0,ra.jsx)("button",{onClick:l,className:"text-white/60 hover:text-white",children:(0,ra.jsx)(Po,{className:"text-xl"})})]})]}),(0,ra.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[u&&0===i.length?(0,ra.jsx)("div",{className:"text-white/60 text-center py-8",children:"Loading messages..."}):0===i.length?(0,ra.jsx)("div",{className:"text-white/60 text-center py-8",children:"No messages yet. Start the conversation!"}):i.map(e=>{const t="staff"===e.senderType;return(0,ra.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),children:(0,ra.jsxs)("div",{className:"max-w-[70%] ".concat(t?"bg-blue-600":"bg-slate-700"," rounded-lg p-3"),children:[(0,ra.jsx)("div",{className:"text-white/80 text-xs mb-1",children:e.senderName}),(0,ra.jsx)("div",{className:"text-white",children:e.message}),(0,ra.jsx)("div",{className:"text-white/50 text-xs mt-1",children:new Date(e.createdAt).toLocaleTimeString()})]})},e.id)}),(0,ra.jsx)("div",{ref:p})]}),(0,ra.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),d.trim()&&!x)try{h(!0),await Ln(t,s.id,d.trim()),c(""),b()}catch(a){alert("Failed to send message")}finally{h(!1)}},className:"p-4 border-t border-slate-700",children:(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 bg-slate-700 text-white rounded-lg",disabled:x}),(0,ra.jsxs)("button",{type:"submit",disabled:!d.trim()||x,className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50 flex items-center gap-2",children:[(0,ra.jsx)(jo,{}),x?"Sending...":"Send"]})]})})]})}function Oo(e){let{clubId:t,onClose:s,onSuccess:l}=e;const[r,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p()},[]);const p=async()=>{try{m(!0);const e=await In.getAllStaff(t,1,1e3);n(e.staff)}catch(e){alert("Failed to load staff members")}finally{m(!1)}};return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Start New Chat"}),(0,ra.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i)try{h(!0);const e=await Dn(t,i,d||void 0);l(e.session)}catch(s){alert("Failed to create chat session")}finally{h(!1)}else alert("Please select a staff member")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Select Staff Member *"}),(0,ra.jsxs)("select",{value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"",children:"Choose staff member..."}),r.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name," - ",e.role]},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Subject (Optional)"}),(0,ra.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"What is this chat about?",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"submit",disabled:x||!i,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:x?"Creating...":"Start Chat"}),(0,ra.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function Mo(e){let{status:t}=e;return(0,ra.jsx)("span",{className:"".concat({open:"bg-yellow-600",in_progress:"bg-blue-600",resolved:"bg-green-600",closed:"bg-gray-600"}[t]||"bg-gray-600"," text-white text-xs px-2 py-1 rounded-full"),children:{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed"}[t]||t})}function Fo(e){var t,s;let{clubId:l}=e;const r=ia(),[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)({sessionDate:(new Date).toISOString().split("T")[0],chipDenomination:"",totalRakeAmount:"",notes:""}),[x,h]=(0,a.useState)({startDate:"",endDate:"",tableId:"",page:1,limit:10}),{data:p=[],isLoading:b}=Si({queryKey:["activeTablesForRake",l],queryFn:()=>Ol(l),enabled:!!l}),{data:g,isLoading:f}=Si({queryKey:["rakeCollections",l,x],queryFn:()=>Fl(l,x),enabled:!!l}),{data:v,isLoading:y}=Si({queryKey:["rakeCollectionStats",l,x.startDate,x.endDate],queryFn:()=>_l(l,x.startDate||void 0,x.endDate||void 0),enabled:!!l}),w=Ti({mutationFn:e=>Ml(l,e),onSuccess:()=>{Sl.success("Rake collection saved successfully!"),d(!1),m({sessionDate:(new Date).toISOString().split("T")[0],chipDenomination:"",totalRakeAmount:"",notes:""}),i(null),r.invalidateQueries(["rakeCollections",l]),r.invalidateQueries(["rakeCollectionStats",l])},onError:e=>{Sl.error(e.message||"Failed to save rake collection")}}),j=()=>{m({sessionDate:(new Date).toISOString().split("T")[0],chipDenomination:"",totalRakeAmount:"",notes:""})},N=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})},S=e=>{if(!e)return"";return new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Collect Rake from Table"}),b?(0,ra.jsx)("div",{className:"text-gray-400",children:"Loading tables..."}):0===p.length?(0,ra.jsx)("div",{className:"text-gray-400",children:"No active tables available"}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:p.map(e=>(0,ra.jsxs)("div",{onClick:()=>(e=>{i(e),m(c(c({},u),{},{chipDenomination:"\u20b925, \u20b950, \u20b9100, \u20b9500"})),d(!0)})(e),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-4 cursor-pointer transition-colors border border-slate-600",children:[(0,ra.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Table ",e.tableNumber]}),(0,ra.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:e.tableType}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[e.currentSeats,"/",e.maxSeats," seats"]})]},e.id))}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsxs)("h3",{className:"text-xl font-bold mb-4 text-white",children:["Collect Rake - Table ",n.tableNumber]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&w.mutate({tableId:n.id,sessionDate:u.sessionDate,chipDenomination:u.chipDenomination,totalRakeAmount:parseFloat(u.totalRakeAmount),notes:u.notes})},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Table ID ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"text",value:"Table ".concat(n.tableNumber),disabled:!0,className:"w-full bg-slate-700 text-gray-300 rounded-lg px-4 py-2 border border-slate-600"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Session Date ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"date",value:u.sessionDate,onChange:e=>m(c(c({},u),{},{sessionDate:e.target.value})),required:!0,className:"w-full bg-slate-700 text-white rounded-lg px-4 py-2 border border-slate-600"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Chip Denomination"}),(0,ra.jsx)("input",{type:"text",value:u.chipDenomination,onChange:e=>m(c(c({},u),{},{chipDenomination:e.target.value})),placeholder:"\u20b925, \u20b950, \u20b9100, \u20b9500",className:"w-full bg-slate-700 text-white rounded-lg px-4 py-2 border border-slate-600"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Total Rake Amount (\u20b9) ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"number",step:"0.01",min:"0",value:u.totalRakeAmount,onChange:e=>m(c(c({},u),{},{totalRakeAmount:e.target.value})),required:!0,placeholder:"\u20b90.00",className:"w-full bg-slate-700 text-white rounded-lg px-4 py-2 border border-slate-600"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,ra.jsx)("textarea",{value:u.notes,onChange:e=>m(c(c({},u),{},{notes:e.target.value})),placeholder:"Additional notes about the rake collection...",rows:"4",className:"w-full bg-slate-700 text-white rounded-lg px-4 py-2 border border-slate-600"})]}),(0,ra.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:w.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:w.isPending?"Saving...":"Collect Rake"}),(0,ra.jsx)("button",{type:"button",onClick:j,className:"flex-1 bg-slate-600 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors border border-slate-500",children:"Clear Form"}),(0,ra.jsx)("button",{type:"button",onClick:()=>{d(!1),i(null),j()},className:"flex-1 bg-slate-600 hover:bg-slate-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors border border-slate-500",children:"Cancel"})]})]})]})})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Rake Collection History"}),(0,ra.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,ra.jsx)("input",{type:"date",value:x.startDate,onChange:e=>h(c(c({},x),{},{startDate:e.target.value,page:1})),placeholder:"Start Date",className:"bg-slate-700 text-white rounded-lg px-3 py-2 border border-slate-600 text-sm"}),(0,ra.jsx)("input",{type:"date",value:x.endDate,onChange:e=>h(c(c({},x),{},{endDate:e.target.value,page:1})),placeholder:"End Date",className:"bg-slate-700 text-white rounded-lg px-3 py-2 border border-slate-600 text-sm"}),(0,ra.jsxs)("select",{value:x.tableId,onChange:e=>h(c(c({},x),{},{tableId:e.target.value,page:1})),className:"bg-slate-700 text-white rounded-lg px-3 py-2 border border-slate-600 text-sm",children:[(0,ra.jsx)("option",{value:"",children:"All Tables"}),p.map(e=>(0,ra.jsxs)("option",{value:e.id,children:["Table ",e.tableNumber]},e.id))]}),(0,ra.jsxs)("button",{onClick:()=>{var e;const t=null===g||void 0===g||null===(e=g.collections)||void 0===e?void 0:e.map(e=>({"Table ID":e.tableNumber,"Session Date":N(e.sessionDate),"Rake Amount":e.totalRakeAmount,"Chip Denomination":e.chipDenomination||"",Notes:e.notes||"","Collected By":e.collectedByName||"","Collected At":S(e.collectedAt)})),s=[Object.keys(t[0]||{}).join(","),...t.map(e=>Object.values(e).map(e=>'"'.concat(e,'"')).join(","))].join("\n"),a=new Blob([s],{type:"text/csv"}),l=window.URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download="rake-collections-".concat((new Date).toISOString().split("T")[0],".csv"),r.click()},className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),y?(0,ra.jsx)("div",{className:"text-gray-400 mb-6",children:"Loading stats..."}):v&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:"Total Entries"}),(0,ra.jsx)("div",{className:"text-2xl font-bold text-white mt-1",children:v.totalEntries})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:"Total Collected"}),(0,ra.jsxs)("div",{className:"text-2xl font-bold text-green-400 mt-1",children:["\u20b9",v.totalCollected.toLocaleString("en-IN")]})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:"Avg Collection Per Table"}),(0,ra.jsxs)("div",{className:"text-2xl font-bold text-white mt-1",children:["\u20b9",v.avgPerTable.toLocaleString("en-IN")]})]})]}),f?(0,ra.jsx)("div",{className:"text-gray-400",children:"Loading history..."}):0===(null===g||void 0===g||null===(t=g.collections)||void 0===t?void 0:t.length)?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No rake collections found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400 mb-4",children:["Showing ",(x.page-1)*x.limit+1," to ",Math.min(x.page*x.limit,(null===g||void 0===g?void 0:g.total)||0)," of ",(null===g||void 0===g?void 0:g.total)||0," entries"]}),(0,ra.jsx)("div",{className:"space-y-4",children:null===g||void 0===g||null===(s=g.collections)||void 0===s?void 0:s.map(e=>(0,ra.jsx)("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,ra.jsxs)("div",{className:"text-lg font-semibold text-white",children:["Table ",e.tableNumber]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Session Date: ",N(e.sessionDate)]})]}),(0,ra.jsxs)("div",{className:"text-xl font-bold text-green-400 mb-2",children:["\u20b9",Number(e.totalRakeAmount).toLocaleString("en-IN")]}),e.notes&&(0,ra.jsxs)("div",{className:"text-sm text-gray-300 mb-2",children:["Notes: ",e.notes]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Chip Denomination: ",e.chipDenomination||"N/A"]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Collected by: ",e.collectedByName||"N/A"," \u2022 ",S(e.collectedAt)]})]}),(0,ra.jsxs)("div",{className:"bg-green-600 text-white px-3 py-1 rounded-lg text-sm font-semibold flex items-center gap-1",children:[(0,ra.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Collected"]})]})},e.id))}),g&&g.totalPages>1&&(0,ra.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>h(c(c({},x),{},{page:x.page-1})),disabled:1===x.page,className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsxs)("div",{className:"bg-slate-700 text-white px-4 py-2 rounded-lg",children:["Page ",x.page," of ",g.totalPages]}),(0,ra.jsx)("button",{onClick:()=>h(c(c({},x),{},{page:x.page+1})),disabled:x.page>=g.totalPages,className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}function _o(){var e,t,s,l,r,n,i,o,d;const u=pe(),m=ia(),[x,h]=(0,a.useState)("Dashboard"),[p,b]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=localStorage.getItem("clubId");e?b(e):u("/login")},[u]);const{data:N,isLoading:S}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p});(0,a.useEffect)(()=>{N&&f(N)},[N]),(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");e.id?e.mustResetPassword&&y(!0):u("/login")},[u]);const{data:C,isLoading:k}=Si({queryKey:["clubRevenue",p],queryFn:()=>Rl(p),enabled:!!p,refetchInterval:3e4}),{data:P,isLoading:T}=Si({queryKey:["clubPlayers",p],queryFn:()=>Gl(p,{limit:100}),enabled:!!p}),{data:I=[],isLoading:D}=Si({queryKey:["pendingPlayers",p],queryFn:()=>$l(p),enabled:!!p}),{data:E=[],isLoading:A}=Si({queryKey:["suspendedPlayers",p],queryFn:()=>Yl(p),enabled:!!p}),L=e=>"\u20b9".concat((e||0).toLocaleString("en-IN")),R=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),y(!1),j({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),O=v&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}").email;t?w.currentPassword&&w.newPassword&&w.confirmPassword?w.newPassword===w.confirmPassword?w.newPassword.length<8?Sl.error("Password must be at least 8 characters"):R.mutate({email:t,currentPassword:w.currentPassword,newPassword:w.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:w.currentPassword,onChange:e=>j(c(c({},w),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:w.newPassword,onChange:e=>j(c(c({},w),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:w.confirmPassword,onChange:e=>j(c(c({},w),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:R.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:R.isLoading?"Resetting...":"Reset Password"})]})]})});return S||!p?(0,ra.jsxs)(ra.Fragment,{children:[O,(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-white text-center",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-xl",children:"Loading club data..."})]})})]}):(0,ra.jsxs)(ra.Fragment,{children:[O,(0,ra.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900",children:[(0,ra.jsx)(Ei,{activeItem:x,setActiveItem:h,onSignOut:()=>{localStorage.clear(),u("/login")}}),(0,ra.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:["Dashboard"===x&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Dashboard - ",(null===g||void 0===g?void 0:g.name)||(null===N||void 0===N?void 0:N.name)||"Loading..."]})}),k?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading revenue data..."})]}):(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(e=C.previousDay)||void 0===e?void 0:e.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===C||void 0===C||null===(t=C.previousDay)||void 0===t?void 0:t.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-600",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:L((null===C||void 0===C||null===(s=C.currentDay)||void 0===s?void 0:s.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===C||void 0===C||null===(l=C.currentDay)||void 0===l?void 0:l.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(r=C.currentDay)||void 0===r?void 0:r.rake)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"10% of revenue"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(n=C.previousDay)||void 0===n?void 0:n.rake)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(i=C.previousDay)||void 0===i?void 0:i.tips)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(o=C.currentDay)||void 0===o?void 0:o.tips)||0)})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Players"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Total Players"}),(0,ra.jsx)("span",{className:"text-white font-semibold",children:T?"...":(null===P||void 0===P||null===(d=P.players)||void 0===d?void 0:d.length)||0})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Pending Approval"}),(0,ra.jsx)("span",{className:"text-yellow-400 font-semibold",children:D?"...":I.length})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Suspended"}),(0,ra.jsx)("span",{className:"text-red-400 font-semibold",children:A?"...":E.length})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("button",{onClick:()=>h("Player Management"),className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white py-2 rounded-lg transition-colors",children:"Manage Players"}),(0,ra.jsxs)("button",{onClick:()=>h("Player Approval"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-lg transition-colors",children:["Review Approvals (",D?"...":I.length,")"]}),(0,ra.jsxs)("button",{onClick:()=>h("Player Suspension"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white py-2 rounded-lg transition-colors",children:["Suspended Players (",A?"...":E.length,")"]})]})]})]})]}),"Player Management"===x&&(0,ra.jsx)(Ai,{selectedClubId:p,playersData:P,playersLoading:T,pendingPlayers:I,pendingLoading:D,suspendedPlayers:E,suspendedLoading:A,onRefresh:()=>{m.invalidateQueries(["pendingPlayers",p]),m.invalidateQueries(["clubPlayers",p]),m.invalidateQueries(["suspendedPlayers",p])}}),"Tables & Waitlist"===x&&(0,ra.jsx)(Ri,{selectedClubId:p}),"Rake Collection"===x&&(0,ra.jsx)(Fo,{clubId:p}),"Push Notifications"===x&&(0,ra.jsx)(Qi,{selectedClubId:p}),"Tournaments"===x&&(0,ra.jsx)(Yi,{selectedClubId:p}),"Chat"===x&&p&&(0,ra.jsx)(Eo,{clubId:p}),!["Dashboard","Player Management","Tables & Waitlist","Rake Collection","Push Notifications","Tournaments","Chat"].includes(x)&&(0,ra.jsxs)("div",{className:"text-white",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold mb-6",children:x}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"This section is under development and will use real data from the backend."})})]})]})]})]})}function zo(e){let{activeItem:t,setActiveItem:s,menuItems:l=[],onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=localStorage.getItem("clubId"),{data:b}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p}),g=JSON.parse(localStorage.getItem("user")||"{}"),f=g.email||"gre@pokerroom.com",v=g.displayName||"GRE",y=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-blue-500/20 via-indigo-600/30 to-purple-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-300 to-purple-400 drop-shadow-lg mb-6",children:"GRE Portal"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"flex items-center text-white min-w-0 cursor-pointer hover:opacity-90 transition-opacity p-2 -m-2 rounded-lg",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,ra.jsx)("span",{className:"text-gray-900 font-bold text-sm",children:"G"})}),(0,ra.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold truncate",children:v}),(0,ra.jsx)("div",{className:"text-sm opacity-80 truncate",children:f})]})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):y.mutate({email:f,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:y.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:y.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),b&&b.code&&(0,ra.jsx)("div",{className:"mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:b.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map((e,a)=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-blue-400 to-indigo-600 text-gray-900 font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-blue-400/20 hover:to-indigo-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},a))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function qo(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).map(e=>"string"===typeof e?e:"object"===typeof e&&null!==e?Object.entries(e).filter(e=>{let[t,s]=e;return Boolean(s)}).map(e=>{let[t]=e;return t}).join(" "):"").join(" ").replace(/\s+/g," ").trim()}const Uo=["className","variant","size","asChild","children"],Bo=a.forwardRef((e,t)=>{let{className:s,variant:l="default",size:n="default",asChild:i=!1,children:o}=e,d=r(e,Uo);const u=((e,t,s)=>{const a={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-100 text-gray-900",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",ghost:"hover:bg-gray-100 text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},l={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return qo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a[e]||a.default,l[t]||l.default,s)})(l,n,s);return i&&a.isValidElement(o)?a.cloneElement(o,c({className:qo(u,o.props.className),ref:t},d)):(0,ra.jsx)("button",c(c({className:u,ref:t},d),{},{children:o}))});Bo.displayName="Button";const Wo=["className"],Ho=["className"],Vo=["className"],Jo=["className"],Ko=["className"],Qo=["className"],Go=a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,Wo);return(0,ra.jsx)("div",c({ref:t,className:qo("rounded-lg border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm",s)},a))});Go.displayName="Card";a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,Ho);return(0,ra.jsx)("div",c({ref:t,className:qo("flex flex-col space-y-1.5 p-6",s)},a))}).displayName="CardHeader";a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,Vo);return(0,ra.jsx)("div",c({ref:t,className:qo("text-2xl font-semibold leading-none tracking-tight",s)},a))}).displayName="CardTitle";a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,Jo);return(0,ra.jsx)("div",c({ref:t,className:qo("text-sm text-gray-500 dark:text-gray-400",s)},a))}).displayName="CardDescription";const $o=a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,Ko);return(0,ra.jsx)("div",c({ref:t,className:qo("p-6 pt-0",s)},a))});$o.displayName="CardContent";a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,Qo);return(0,ra.jsx)("div",c({ref:t,className:qo("flex items-center p-6 pt-0",s)},a))}).displayName="CardFooter";const Yo=["asChild","children"],Xo=["className"],Zo=["className","children"],ed=["className"],td=["className"],sd=["className"],ad=e=>{let{className:t}=e;return(0,ra.jsxs)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ra.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,ra.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},ld=a.createContext({open:!1,onOpenChange:()=>{}}),rd=e=>{let{open:t,onOpenChange:s,children:l}=e;const[r,n]=a.useState(t||!1);a.useEffect(()=>{n(t||!1)},[t]);return(0,ra.jsx)(ld.Provider,{value:{open:r,onOpenChange:e=>{n(e),s&&s(e)}},children:l})},nd=e=>{let{children:t}=e;return(0,ra.jsx)(ra.Fragment,{children:t})},id=e=>{let{asChild:t,children:s}=e,l=r(e,Yo);const{onOpenChange:n}=a.useContext(ld);return t&&a.isValidElement(s)?a.cloneElement(s,c({onClick:e=>{n(!1),s.props.onClick&&s.props.onClick(e)}},l)):(0,ra.jsx)("button",c(c({onClick:()=>n(!1)},l),{},{children:s}))},od=a.forwardRef((e,t)=>{let{className:s}=e,l=r(e,Xo);const{open:n,onOpenChange:i}=a.useContext(ld);return n?(0,ra.jsx)("div",c({ref:t,className:qo("fixed inset-0 z-50 bg-black/80 animate-in fade-in-0",s),onClick:()=>i(!1)},l)):null});od.displayName="DialogOverlay";const dd=a.forwardRef((e,t)=>{let{className:s,children:l}=e,n=r(e,Zo);const{open:i,onOpenChange:o}=a.useContext(ld);return a.useEffect(()=>{const e=e=>{"Escape"===e.key&&i&&o(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,o]),i?(0,ra.jsxs)(nd,{children:[(0,ra.jsx)(od,{}),(0,ra.jsxs)("div",c(c({ref:t,className:qo("fixed left-[50%] top-[50%] z-50 grid w-[95vw] max-w-lg max-h-[90vh] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 p-6 sm:p-8 shadow-lg duration-200 rounded-lg overflow-y-auto animate-in fade-in-0 zoom-in-95",s),onClick:e=>e.stopPropagation()},n),{},{children:[l,(0,ra.jsxs)(id,{className:"absolute right-4 top-4 sm:right-6 sm:top-6 rounded-full bg-white/10 hover:bg-white/20 p-2 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:pointer-events-none z-10 backdrop-blur-sm border border-white/20",children:[(0,ra.jsx)(ad,{className:"h-5 w-5 text-white drop-shadow-lg"}),(0,ra.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]}):null});dd.displayName="DialogContent";const cd=e=>{let{className:t}=e,s=r(e,ed);return(0,ra.jsx)("div",c({className:qo("flex flex-col space-y-2 text-center sm:text-left pr-16 sm:pr-20 pb-4",t)},s))};cd.displayName="DialogHeader";const ud=a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,td);return(0,ra.jsx)("h2",c({ref:t,className:qo("text-lg font-semibold leading-none tracking-tight",s)},a))});ud.displayName="DialogTitle";const md=a.forwardRef((e,t)=>{let{className:s}=e,a=r(e,sd);return(0,ra.jsx)("p",c({ref:t,className:qo("text-sm text-gray-500 dark:text-gray-400",s)},a))});md.displayName="DialogDescription";const xd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"\u2190"})},hd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"\ud83d\udc65"})},pd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"\ud83d\udd50"})},bd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"\u20b9"})},gd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"+"})},fd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"+"})},vd=e=>{let{className:t}=e;return(0,ra.jsx)("span",{className:t,children:"\xd7"})},yd=()=>null;function wd(e){var t;let{tableId:s,onNavigate:l,onClose:r,isManagerMode:n=!1,isViewOnly:i=!1,selectedPlayerForSeating:o=null,occupiedSeats:d={},onSeatAssign:c=null,tables:u=null}=e;const m=s?String(s):"1",x=l||(e=>{console.log("Navigate to:",e)}),[h,p]=(0,a.useState)(null),[b,g]=(0,a.useState)(!1),{toast:f}={toast:e=>{let{title:t,description:s,variant:a}=e;console.log("Toast [".concat(a||"info","]: ").concat(t," - ").concat(s)),alert("".concat(t,": ").concat(s))}},v=u||[{id:"1",name:"Main Table",gameType:"Texas Hold'em",stakes:"\u20b91000.00/10000.00",maxPlayers:6,status:"active"},{id:"2",name:"VIP Table",gameType:"Texas Hold'em",stakes:"\u20b95000.00/50000.00",maxPlayers:9,status:"active"},{id:"3",name:"High Stakes",gameType:"Texas Hold'em",stakes:"\u20b910000.00/100000.00",maxPlayers:6,status:"active"}],y=Array.isArray(v)?v:[],{user:w}={user:{id:null}},j={isInActiveGame:!1,activeGameInfo:null,seatedSessionFallback:null},N=y.find(e=>String(e.id)===String(m)),S=n&&d[m]||[],C=[],k=Array.isArray(C)?C:[],P=n?S.map((e,t)=>({seatNumber:e,player:{firstName:"Player",lastName:String(e)},session_buy_in_amount:0})):[],T=Array.isArray(P)?P:[],I={pot:"50000"},D=k.some(e=>e.tableId===m),E=k.find(e=>e.tableId===m),A=!n&&j.isInActiveGame&&(null===(t=j.activeGameInfo)||void 0===t?void 0:t.tableId)===m,L=j.activeGameInfo||j.seatedSessionFallback,R=e=>{i||(n&&c&&o?(c({playerId:o.id||o.playerId,playerName:o.playerName||o.name,tableId:parseInt(m),seatNumber:e}),f({title:"Seat Assigned!",description:"".concat(o.playerName||o.name," assigned to Seat ").concat(e)}),p(null),g(!1),r&&r()):(f({title:"Joined Waitlist!",description:"You've been added to the waitlist successfully (dummy mode)"}),p(null),g(!1)))};return N?(0,ra.jsxs)("div",{className:"min-h-screen h-fit bg-gradient-to-b from-slate-900 to-slate-800 text-white",children:[(0,ra.jsxs)("div",{className:"p-4 flex justify-between",children:[(0,ra.jsxs)(Bo,{variant:"ghost",onClick:()=>r?r():x("/"),className:"text-white hover:bg-white/20",children:[(0,ra.jsx)(xd,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,ra.jsxs)("div",{className:"flex gap-4 w-fit flex-col",children:[(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("h1",{className:"text-2xl font-bold text-white",children:N.name}),(0,ra.jsxs)("p",{className:"text-slate-300",children:[N.gameType," \u2022 ",N.stakes]})]}),(0,ra.jsx)("div",{className:"",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-yellow-600 via-amber-500 to-orange-500 border-2 border-yellow-400/80 px-4 py-2 rounded-lg text-center shadow-xl",children:[(0,ra.jsx)("div",{className:"text-yellow-200 text-xs font-semibold",children:"Table Value"}),(0,ra.jsxs)("div",{className:"text-white text-lg font-bold",children:["\u20b9",null!==I&&void 0!==I&&I.pot?parseFloat(I.pot).toLocaleString():"0"]})]})})]}),(0,ra.jsx)("div",{className:"w-16"})," "]}),D&&E&&!A&&(0,ra.jsx)("div",{className:"mx-4 mb-4 p-4 bg-gradient-to-r from-amber-600/20 to-amber-500/20 border border-amber-500/50 rounded-lg",children:(0,ra.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-amber-200 font-semibold",children:"You're on the waitlist!"}),(0,ra.jsxs)("p",{className:"text-amber-100 text-sm",children:["Waiting for seat"," ",E.seatNumber||E.preferredSeat," \u2022 Position in queue: ",E.position||"TBD"]})]}),(0,ra.jsx)("div",{className:"text-amber-300",children:(0,ra.jsx)(pd,{className:"w-5 h-5"})})]})}),!n&&A&&(null===w||void 0===w?void 0:w.id)&&(0,ra.jsx)("div",{className:"mx-4 mb-4",children:(0,ra.jsx)(yd,{playerId:w.id.toString(),gameStatus:j})}),(0,ra.jsxs)("div",{className:"flex-1 flex flex-col items-center px-4 py-8",children:[(0,ra.jsx)("div",{className:"relative w-full max-w-4xl",children:(0,ra.jsx)("div",{className:"relative aspect-[5/3] max-w-2xl mx-auto mb-12 mt-8",children:(0,ra.jsx)("div",{className:"absolute inset-0 rounded-[50%] bg-gradient-to-br from-amber-600 via-yellow-500 to-amber-600 p-2 shadow-2xl",children:(0,ra.jsxs)("div",{className:"absolute inset-2 rounded-[50%] bg-gradient-to-br from-emerald-600 via-emerald-700 to-emerald-800 shadow-inner",children:[Array.from({length:N.maxPlayers||6},(e,t)=>{const s=t+1,a=(N.maxPlayers||6)+1,l=(t+1)*(2*Math.PI/a)-Math.PI/2,r=50+42*Math.cos(l),d=50+32*Math.sin(l),c=h===s,u=T.find(e=>e.seatNumber===s),x=n?S.includes(s):!!u,b=(null===u||void 0===u?void 0:u.session_buy_in_amount)||(null===u||void 0===u?void 0:u.sessionBuyInAmount)||0,v=!(!n||!o)&&(o.preferredSeat===s&&String(o.preferredTable)===String(m));return(0,ra.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-50",style:{left:"".concat(r,"%"),top:"".concat(d,"%")},children:[(0,ra.jsx)("div",{className:"w-10 h-10 rounded-full border-2 flex items-center justify-center shadow-lg transition-all duration-300 select-none ".concat(x?"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500 cursor-not-allowed":i?"bg-gradient-to-br from-slate-700 to-slate-800 border-slate-600 cursor-default":c||v?"border-emerald-400 shadow-emerald-500/50 scale-110 bg-gradient-to-br from-emerald-600 to-emerald-700 animate-pulse cursor-pointer":n?"bg-gradient-to-br from-slate-700 to-slate-800 border-slate-600 hover:border-yellow-400 hover:shadow-yellow-400/50 hover:scale-105 cursor-pointer active:scale-95":"bg-gradient-to-br from-slate-700 to-slate-800 border-slate-600 hover:border-emerald-400 hover:shadow-emerald-400/50 hover:scale-105 cursor-pointer active:scale-95"),onClick:e=>{e.preventDefault(),e.stopPropagation(),i||x||(n?(e=>{if(i||!n||!o)return;S.includes(e)?f({title:"Seat Occupied",description:"Seat ".concat(e," is already occupied"),variant:"destructive"}):(p(e),g(!0))})(s):(p(s),g(!0)))},style:{pointerEvents:i?"none":"auto",touchAction:"manipulation"},title:i?"Seat ".concat(s," (View Only)"):n&&v?"Preferred seat for ".concat(o.playerName||o.name):"Seat ".concat(s),children:x&&null!==u&&void 0!==u&&u.player?(0,ra.jsxs)("span",{className:"text-white text-xs font-bold",children:[u.player.firstName.charAt(0),u.player.lastName.charAt(0)]}):i?(0,ra.jsx)("span",{className:"text-slate-400 text-xs",children:"\u25cb"}):(0,ra.jsx)(fd,{className:"w-3 h-3 text-emerald-400 font-bold transition-transform duration-300 ".concat(c?"rotate-45 scale-110":"hover:rotate-90 hover:scale-110")})}),(0,ra.jsxs)("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-center transition-colors ".concat(x?"text-blue-400":c||v?"text-emerald-400":"text-slate-300"),children:[(0,ra.jsx)("div",{className:"text-xs font-medium",children:x&&null!==u&&void 0!==u&&u.player?u.player.firstName:"Seat ".concat(s)}),v&&(0,ra.jsx)("div",{className:"text-[9px] text-yellow-400 bg-yellow-900/50 px-1 rounded mt-1 font-semibold",children:"\u2b50 Preferred"}),x&&b>0&&(0,ra.jsxs)("div",{className:"text-[10px] text-slate-400 bg-slate-800/80 px-1 rounded mt-1",children:["\u20b9",b.toLocaleString()]})]})]},s)}),(0,ra.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-40",style:{left:"50%",top:"8%"},children:[(0,ra.jsx)("div",{className:"w-7 h-7 bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-full border-2 border-yellow-500 flex items-center justify-center shadow-xl",children:(0,ra.jsx)("span",{className:"text-xs font-bold text-white",children:"D"})}),(0,ra.jsx)("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 text-xs text-yellow-400 font-medium whitespace-nowrap",children:"Dealer"})]}),(0,ra.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ra.jsx)("div",{className:"text-center",children:(0,ra.jsx)("div",{className:"w-24 h-24 bg-white/10 rounded-full border-2 border-white/20 flex items-center justify-center shadow-xl backdrop-blur-sm overflow-hidden",children:(0,ra.jsx)("img",{src:"https://img.freepik.com/free-vector/flat-design-culture-logo-template_23-2149845368.jpg?semt=ais_hybrid&w=740&q=80",alt:"Table Logo",className:"w-full h-full object-contain rounded-full"})})})})]})})})}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 w-full max-w-4xl",children:[(0,ra.jsx)(Go,{className:"bg-slate-800 border-slate-700",children:(0,ra.jsxs)($o,{className:"p-4 text-center",children:[(0,ra.jsx)(hd,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,ra.jsx)("div",{className:"text-slate-400 text-sm",children:"Players"}),(0,ra.jsxs)("div",{className:"text-white text-xl font-bold",children:[T.length||0,"/",(null===N||void 0===N?void 0:N.maxPlayers)||6]})]})}),(0,ra.jsx)(Go,{className:"bg-slate-800 border-slate-700",children:(0,ra.jsxs)($o,{className:"p-4 text-center",children:[(0,ra.jsx)(bd,{className:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),(0,ra.jsx)("div",{className:"text-slate-400 text-sm",children:"Buy-in Range"}),(0,ra.jsx)("div",{className:"text-white text-lg font-bold",children:(null===N||void 0===N?void 0:N.stakes)||"N/A"})]})}),(0,ra.jsx)(Go,{className:"bg-slate-800 border-slate-700",children:(0,ra.jsxs)($o,{className:"p-4 text-center",children:[(0,ra.jsx)(pd,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),(0,ra.jsx)("div",{className:"text-slate-400 text-sm",children:"Blinds"}),(0,ra.jsx)("div",{className:"text-white text-lg font-bold",children:"\u20b910/\u20b920"})]})}),(0,ra.jsx)(Go,{className:"bg-slate-800 border-slate-700",children:(0,ra.jsxs)($o,{className:"p-4 text-center",children:[(0,ra.jsx)(pd,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),(0,ra.jsx)("div",{className:"text-slate-400 text-sm",children:"Status"}),(0,ra.jsx)("div",{className:"text-white text-lg font-bold",children:"Waiting"})]})})]}),!n&&A&&L&&(0,ra.jsx)("div",{className:"mt-8 w-full max-w-4xl",children:(0,ra.jsx)(Go,{className:"bg-gradient-to-r from-blue-800 to-blue-900 border-blue-600",children:(0,ra.jsxs)($o,{className:"p-6",children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ra.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ra.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),(0,ra.jsxs)("h3",{className:"text-xl font-bold text-blue-200",children:["You are seated at Seat ",L.seatNumber]})]}),(0,ra.jsx)("div",{className:"text-blue-300 text-sm",children:"Seated at Table"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ra.jsxs)("div",{className:"bg-blue-900/50 rounded-lg p-4 border border-blue-700",children:[(0,ra.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ra.jsx)(bd,{className:"w-5 h-5 text-emerald-400"}),(0,ra.jsx)("span",{className:"text-blue-200 font-semibold",children:"Session Buy-in"})]}),(0,ra.jsxs)("div",{className:"text-2xl font-bold text-white",children:["\u20b9",(L.buyInAmount||5e3).toLocaleString()]})]}),(0,ra.jsxs)("div",{className:"bg-blue-900/50 rounded-lg p-4 border border-blue-700",children:[(0,ra.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ra.jsx)(pd,{className:"w-5 h-5 text-yellow-400"}),(0,ra.jsx)("span",{className:"text-blue-200 font-semibold",children:"Call Time"})]}),(0,ra.jsx)("div",{className:"text-lg font-bold text-white",children:(0,ra.jsx)("div",{className:"text-green-400",children:"Available"})})]}),(0,ra.jsxs)("div",{className:"bg-blue-900/50 rounded-lg p-4 border border-blue-700",children:[(0,ra.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ra.jsx)(xd,{className:"w-5 h-5 text-purple-400"}),(0,ra.jsx)("span",{className:"text-blue-200 font-semibold",children:"Cash Out"})]}),(0,ra.jsx)("div",{className:"text-lg font-bold text-white",children:(0,ra.jsx)("div",{className:"text-slate-400",children:"Pending"})})]})]})]})})}),!A&&(0,ra.jsx)("div",{className:"mt-8 text-center",children:h?(0,ra.jsx)("div",{className:"space-y-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 border rounded-lg p-4 max-w-md mx-auto ".concat(n?"border-yellow-500/50":"border-emerald-500/50"),children:[(0,ra.jsx)("h3",{className:"font-semibold mb-2 ".concat(n?"text-yellow-400":"text-emerald-400"),children:n?"Assign Seat ".concat(h):"Seat ".concat(h," Selected")}),n&&o?(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("p",{className:"text-slate-300 text-sm mb-2",children:["Assign"," ",(0,ra.jsx)("span",{className:"font-semibold text-white",children:o.playerName||o.name})," ","to Seat ",h]}),(0,ra.jsxs)("p",{className:"text-slate-400 text-xs mb-4",children:["Table: ",null===N||void 0===N?void 0:N.name]})]}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("p",{className:"text-slate-300 text-sm mb-2",children:["Reserve this seat position for ",null===N||void 0===N?void 0:N.name]}),(0,ra.jsx)("p",{className:"text-slate-400 text-xs mb-4",children:"Note: Multiple players can reserve the same seat. Staff will assign final seating."})]}),(0,ra.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,ra.jsxs)(Bo,{onClick:()=>{R(h)},className:"shadow-lg transition-all duration-300 ".concat(n?"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white hover:shadow-yellow-500/25":"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white hover:shadow-emerald-500/25"),children:[(0,ra.jsx)(gd,{className:"w-4 h-4 mr-2"}),n?"Assign Seat ".concat(h):"Reserve Seat ".concat(h)]}),(0,ra.jsx)(Bo,{onClick:()=>p(null),variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:"Cancel"})]})]})}):(0,ra.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 max-w-md mx-auto",children:[(0,ra.jsx)("p",{className:"text-slate-300 text-sm",children:n&&o?"Click on any available seat to assign ".concat(o.playerName||o.name):"Click on any seat to reserve your preferred position"}),(0,ra.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:n?"Seats highlighted in yellow are preferred seats for this player":"Staff will manage final table assignments"})]})}),(0,ra.jsxs)("div",{className:"mt-8 text-center text-slate-400",children:[(0,ra.jsx)("p",{className:"text-sm",children:"This is a local offline poker game managed by casino staff."}),(0,ra.jsx)("p",{className:"text-xs mt-2",children:"Players are seated by super admin, admin, or manager only."})]})]}),(0,ra.jsx)(rd,{open:b,onOpenChange:g,children:(0,ra.jsxs)(dd,{className:"bg-slate-800 border-slate-700 text-white",children:[(0,ra.jsxs)(cd,{children:[(0,ra.jsx)(ud,{className:"text-xl ".concat(n?"text-yellow-400":"text-emerald-400"),children:n?"Assign Seat":"Join Table Waitlist"}),(0,ra.jsx)(md,{className:"text-slate-300",children:n?"Confirm seat assignment for ".concat((null===o||void 0===o?void 0:o.playerName)||(null===o||void 0===o?void 0:o.name)||"player"):"Confirm your seat reservation for ".concat(null===N||void 0===N?void 0:N.name)})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700",children:[(0,ra.jsx)("h4",{className:"font-semibold mb-2 ".concat(n?"text-yellow-400":"text-emerald-400"),children:n?"Assignment Information":"Table Information"}),(0,ra.jsxs)("div",{className:"text-sm space-y-1 text-slate-300",children:[n&&o&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{children:["\u2022 Player:"," ",(0,ra.jsx)("span",{className:"text-white font-semibold",children:o.playerName||o.name})]}),(0,ra.jsxs)("div",{children:["\u2022 Player ID:"," ",o.playerId||o.id]}),o.preferredSeat&&(0,ra.jsxs)("div",{children:["\u2022 Preferred Seat:"," ",o.preferredSeat===h?(0,ra.jsxs)("span",{className:"text-yellow-400 font-semibold",children:["\u2713 Seat ",h," (Matches preference)"]}):(0,ra.jsxs)("span",{className:"text-gray-400",children:["Seat ",o.preferredSeat]})]})]}),(0,ra.jsxs)("div",{children:["\u2022 Table: ",null===N||void 0===N?void 0:N.name]}),(0,ra.jsxs)("div",{children:["\u2022 Game: ",null===N||void 0===N?void 0:N.gameType]}),(0,ra.jsxs)("div",{children:["\u2022 Stakes: ",null===N||void 0===N?void 0:N.stakes]}),(0,ra.jsxs)("div",{children:["\u2022 Selected Seat:"," ",(0,ra.jsx)("span",{className:"text-white font-semibold",children:h})]})]})]}),!n&&(0,ra.jsx)("div",{className:"bg-amber-900/20 border border-amber-600/50 rounded-lg p-3",children:(0,ra.jsxs)("p",{className:"text-amber-200 text-sm",children:[(0,ra.jsx)("strong",{children:"Note:"})," You will be added to the waitlist for this table. Staff will assign seating when a spot becomes available."]})}),(0,ra.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,ra.jsxs)(Bo,{variant:"outline",onClick:()=>{g(!1),p(null)},className:"border-slate-600 bg-slate-800 text-slate-300 hover:bg-slate-700 hover:text-white hover:border-slate-500",children:[(0,ra.jsx)(vd,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,ra.jsxs)(Bo,{onClick:()=>{h&&R(h)},className:n?"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white":"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white",children:[(0,ra.jsx)(gd,{className:"w-4 h-4 mr-2"}),n?"Assign Seat ".concat(h):"Confirm Seat ".concat(h)]})]})]})]})})]}):(0,ra.jsx)("div",{className:"min-h-screen bg-slate-900 text-white p-4 flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Table not found"}),(0,ra.jsx)(Bo,{onClick:()=>r?r():x("/"),children:"Back to Dashboard"})]})})}function jd(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),{data:i,isLoading:o}=Si({queryKey:["tables",t],queryFn:()=>Xl(t),enabled:!!t}),d=i||[],c=d.filter(e=>"AVAILABLE"===e.status||"OCCUPIED"===e.status);return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Tables & Waitlist"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"View-only mode: You can only view live tables"}),!t&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view tables."})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold",children:"Live Tables - View Only"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"View live tables and their status."})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 px-4 py-2 rounded-lg",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Active Tables: ",c.length]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Total Players: ",c.reduce((e,t)=>e+(t.currentSeats||0),0)]})]})]}),o?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tables..."})]}):0===c.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfb2"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No active tables"})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5 border border-slate-600 hover:border-blue-500 transition-all",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Table ",e.tableNumber||e.number]}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:e.tableType||"Cash Game"})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("OCCUPIED"===e.status?"bg-green-600/20 text-green-400":"bg-blue-600/20 text-blue-400"),children:e.status})]}),(0,ra.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Stakes:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:["\u20b9",e.minBuyIn||0,"/\u20b9",e.maxBuyIn||0]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Occupied Seats:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:[e.currentSeats||0," / ",e.maxSeats||8]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Available Seats:"}),(0,ra.jsx)("span",{className:"text-green-400 font-medium",children:e.maxSeats-(e.currentSeats||0)})]})]}),(0,ra.jsxs)("button",{onClick:()=>{l(e),n(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 text-white px-4 py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2",children:[(0,ra.jsx)("span",{children:"\ud83c\udfaf"}),(0,ra.jsx)("span",{children:"View Table Hologram"})]})]},e.id))})]}),r&&s&&(0,ra.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 overflow-y-auto",children:(0,ra.jsx)(wd,{tableId:s.id,onClose:()=>{n(!1),l(null)},isManagerMode:!0,isViewOnly:!0,tables:d})})]})}function Nd(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)(null),{data:r,isLoading:n}=Si({queryKey:["tournaments",t],queryFn:()=>Dr(t),enabled:!!t}),i=Array.isArray(r)?r:(null===r||void 0===r?void 0:r.tournaments)||(null===r||void 0===r?void 0:r.data)||[],o=Array.isArray(i)?i:[];return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Tournaments"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"View-only mode: You can only view tournament information"}),!t&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view tournaments."})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Tournament List - View Only"}),n?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tournaments..."})]}):0===o.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No tournaments found"})]}):(0,ra.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,ra.jsx)("div",{className:"bg-slate-700 rounded-xl p-5 border border-slate-600",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h3",{className:"text-lg font-bold text-white",children:e.name||"Tournament"}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Status: ",e.status||"Unknown"]}),e.buyIn&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Buy-In: \u20b9",e.buyIn]}),e.startTime&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Start: ",new Date(e.startTime).toLocaleString()]}),e.prizePool&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Prize Pool: \u20b9",e.prizePool]})]}),(0,ra.jsxs)("button",{onClick:()=>l(e),className:"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 text-white px-4 py-2 rounded-lg font-semibold transition-all flex items-center gap-2",children:[(0,ra.jsx)("span",{children:"\ud83d\udc41\ufe0f"}),(0,ra.jsx)("span",{children:"View Details"})]})]})},e.id))})]}),s&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-8 max-w-2xl w-full border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:s.name||"Tournament"}),(0,ra.jsx)("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Status"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:s.status||"Unknown"})]}),s.buyIn&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Buy-In"}),(0,ra.jsxs)("p",{className:"text-white font-semibold",children:["\u20b9",s.buyIn]})]}),s.prizePool&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Prize Pool"}),(0,ra.jsxs)("p",{className:"text-white font-semibold",children:["\u20b9",s.prizePool]})]}),s.startTime&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Start Time"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:new Date(s.startTime).toLocaleString()})]}),s.description&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Description"}),(0,ra.jsx)("p",{className:"text-white",children:s.description})]})]})]})})]})}function Sd(){const e=pe(),t=ia(),[s,l]=(0,a.useState)("Player Management"),[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const t=localStorage.getItem("clubId");t?n(t):e("/login")},[e]),(0,a.useEffect)(()=>{const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("greuser")||"{}");t.id||s.userId?(t.mustResetPassword||s.mustResetPassword)&&o(!0):e("/login")},[e]);const{data:m,isLoading:x}=Si({queryKey:["clubPlayers",r],queryFn:()=>Gl(r),enabled:!!r}),{data:h=[],isLoading:p}=Si({queryKey:["pendingPlayers",r],queryFn:()=>$l(r),enabled:!!r}),{data:b=[],isLoading:g}=Si({queryKey:["suspendedPlayers",r],queryFn:()=>Yl(r),enabled:!!r}),f=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("greuser")||"{}");t.mustResetPassword=!1,localStorage.setItem("greuser",JSON.stringify(t)),o(!1),u({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),v=i&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("greuser")||"{}"),a=t.email||s.email;a?d.currentPassword&&d.newPassword&&d.confirmPassword?d.newPassword===d.confirmPassword?d.newPassword.length<8?Sl.error("Password must be at least 8 characters"):f.mutate({email:a,currentPassword:d.currentPassword,newPassword:d.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:d.currentPassword,onChange:e=>u(c(c({},d),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:d.newPassword,onChange:e=>u(c(c({},d),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:d.confirmPassword,onChange:e=>u(c(c({},d),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:f.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:f.isLoading?"Resetting...":"Reset Password"})]})]})});return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[v,(0,ra.jsx)(zo,{activeItem:s,setActiveItem:l,menuItems:["Player Management","Tables & Waitlist","Tournaments","Chat","Push Notifications"],onSignOut:()=>{localStorage.clear(),e("/login")}}),(0,ra.jsx)("main",{className:"lg:pl-80 min-h-screen",children:(0,ra.jsxs)("div",{className:"p-6 space-y-6",children:["Player Management"===s&&(0,ra.jsx)(Ai,{selectedClubId:r,playersData:m,playersLoading:x,pendingPlayers:h,pendingLoading:p,suspendedPlayers:b,suspendedLoading:g,onRefresh:()=>{t.invalidateQueries(["pendingPlayers",r]),t.invalidateQueries(["clubPlayers",r]),t.invalidateQueries(["suspendedPlayers",r])}}),"Tables & Waitlist"===s&&(0,ra.jsx)(jd,{selectedClubId:r}),"Tournaments"===s&&(0,ra.jsx)(Nd,{selectedClubId:r}),"Chat"===s&&r&&(0,ra.jsx)(Eo,{clubId:r}),"Push Notifications"===s&&(0,ra.jsx)(Qi,{selectedClubId:r}),!["Player Management","Tables & Waitlist","Tournaments","Chat","Push Notifications"].includes(s)&&(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome to GRE Portal"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Select an option from the sidebar to get started."})]})]})})]})}function Cd(e){let{role:t,roleDisplayName:s,redirectPath:l,gradientFrom:r,gradientTo:n,description:i}=e;const[o,d]=(0,a.useState)({email:"",password:""}),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),p=pe(),b=e=>{d(c(c({},o),{},{[e.target.name]:e.target.value}))};return(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"max-w-md w-full mx-4",children:[(0,ra.jsxs)("div",{className:"text-center mb-8",children:[(0,ra.jsxs)("div",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r ".concat(r," ").concat(n," drop-shadow-lg mb-4"),children:[s," Portal"]}),(0,ra.jsx)("p",{className:"text-gray-300",children:i})]}),(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-black rounded-2xl p-8 shadow-2xl border border-gray-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Sign In"}),u&&(0,ra.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg mb-4",children:u}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(""),h(!0);try{var a,r;const e=await Tl(o.email,o.password),n=(null===(a=e.clubRoles)||void 0===a?void 0:a.some(e=>e.role===t))||(null===(r=e.tenantRoles)||void 0===r?void 0:r.some(e=>e.role===t))||"MASTER_ADMIN"===t&&e.user.isMasterAdmin;if(!n)throw new Error("You don't have ".concat(s," access. Please use the correct portal."));const i={id:e.user.id,email:o.email,displayName:e.user.displayName,role:t,mustResetPassword:e.user.mustResetPassword||!1};localStorage.setItem("".concat(t.toLowerCase(),"user"),JSON.stringify({email:o.email,role:t,userId:e.user.id,displayName:e.user.displayName,mustResetPassword:e.user.mustResetPassword||!1})),"SUPER_ADMIN"!==t&&"ADMIN"!==t||localStorage.setItem("user",JSON.stringify(i)),p(l)}catch(n){console.error("Login error:",n),m(n.message||"Invalid email or password. Please try again.")}finally{h(!1)}},className:"space-y-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Email Address"}),(0,ra.jsx)("input",{type:"email",name:"email",value:o.email,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Password"}),(0,ra.jsx)("input",{type:"password",name:"password",value:o.password,onChange:b,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r ".concat(r," ").concat(n," hover:opacity-90 text-white font-bold py-3 px-4 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"),children:x?"Signing In...":"Sign In to ".concat(s," Portal")})]}),(0,ra.jsx)("div",{className:"mt-6 p-4 bg-blue-500/20 border border-blue-500/30 rounded-lg",children:(0,ra.jsxs)("p",{className:"text-blue-300 text-sm text-center",children:[(0,ra.jsx)("strong",{children:"Note:"})," Please use your registered credentials",(0,ra.jsx)("br",{}),"Contact admin if you need access"]})}),(0,ra.jsx)("div",{className:"mt-6 text-center",children:(0,ra.jsx)("button",{onClick:()=>p("/"),className:"text-emerald-400 hover:text-emerald-300 text-sm underline",children:"\u2190 Back to Home"})})]})]})})}const kd=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"documents";try{var a;const l=Date.now(),r=Math.random().toString(36).substring(2,15),n=e.name.split(".").pop(),i="".concat(s,"/").concat(t,"/").concat(l,"-").concat(r,".").concat(n),o=(null===(a=e.type)||void 0===a?void 0:a.startsWith("video/"))||!1,{signedUrl:d,publicUrl:c}=await In.createPushNotificationUploadUrl(t,i,o);return await In.uploadToSignedUrl(d,e),c}catch(l){throw console.error("Storage upload error:",l),new Error("Failed to upload document: ".concat(l.message||"Unknown error"))}};function Pd(e){var t;let{selectedClubId:s}=e;const l=ia(),[r,n]=(0,a.useState)(new Date),[i,o]=(0,a.useState)("week"),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[b,g]=(0,a.useState)([]),[f,v]=(0,a.useState)({staffId:"",shiftDate:"",shiftStartTime:"",shiftEndTime:"",isOffDay:!1,notes:""}),{data:y}=Si({queryKey:["dealers",s],queryFn:()=>$r(s),enabled:!!s}),w=()=>{const e=new Date(r),t=new Date(r);if("week"===i){const s=e.getDay(),a=e.getDate()-s+(0===s?-6:1);e.setDate(a),t.setDate(e.getDate()+6)}else e.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0);return{startDate:e.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0]}},{data:j,isLoading:N}=Si({queryKey:["shifts",s,r,i],queryFn:()=>{const{startDate:e,endDate:t}=w();return Vr(s,{startDate:e,endDate:t,role:"Dealer"})},enabled:!!s}),S=Ti({mutationFn:e=>Jr(s,e),onSuccess:()=>{Sl.success("Shift created successfully!"),l.invalidateQueries(["shifts",s]),u(!1),T()},onError:e=>{Sl.error(e.message||"Failed to create shift")}}),C=Ti({mutationFn:e=>{let{shiftId:t,data:a}=e;return Kr(s,t,a)},onSuccess:()=>{Sl.success("Shift updated successfully!"),l.invalidateQueries(["shifts",s]),x(!1),p(null)},onError:e=>{Sl.error(e.message||"Failed to update shift")}}),k=Ti({mutationFn:e=>Qr(s,e),onSuccess:()=>{Sl.success("Shift deleted successfully!"),l.invalidateQueries(["shifts",s])},onError:e=>{Sl.error(e.message||"Failed to delete shift")}}),P=Ti({mutationFn:e=>Gr(s,e),onSuccess:e=>{Sl.success(e.message||"Shifts copied successfully!"),l.invalidateQueries(["shifts",s]),g([])},onError:e=>{Sl.error(e.message||"Failed to copy shifts")}}),T=()=>{v({staffId:"",shiftDate:"",shiftStartTime:"",shiftEndTime:"",isOffDay:!1,notes:""})},I=e=>{const t=new Date(r);"week"===i?t.setDate(t.getDate()+7*e):t.setMonth(t.getMonth()+e),n(t)},D=(null===y||void 0===y?void 0:y.dealers)||[],E=(null===j||void 0===j?void 0:j.shifts)||[],A=()=>{const e=[],{startDate:t}=w(),s=new Date(t);for(let a=0;a<7;a++){const t=new Date(s);t.setDate(s.getDate()+a),e.push(t)}return e},L=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),R=e=>e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return N?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading shifts..."}):(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Shift Management"}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[b.length>0&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("button",{onClick:()=>{if(0===b.length)return void Sl.error("Please select shifts to copy");const e=prompt("Enter target date (YYYY-MM-DD):");e&&(/^\d{4}-\d{2}-\d{2}$/.test(e)?P.mutate({shiftIds:b,targetDates:[e]}):Sl.error("Invalid date format. Use YYYY-MM-DD"))},className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:["Copy to Date (",b.length,")"]}),(0,ra.jsxs)("button",{onClick:()=>{if(0===b.length)return void Sl.error("Please select shifts to copy");const e=prompt("Copy to how many consecutive days?");if(!e||isNaN(e)||e<1)return;const t=parseInt(e),s=[],a=new Date(r);for(let l=1;l<=t;l++){const e=new Date(a);e.setDate(e.getDate()+l),s.push(e.toISOString().split("T")[0])}P.mutate({shiftIds:b,targetDates:s})},className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:["Copy to Next Days (",b.length,")"]})]}),(0,ra.jsx)("button",{onClick:()=>u(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"+ Create Shift"})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4 flex items-center justify-between",children:[(0,ra.jsx)("button",{onClick:()=>I(-1),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"\u2190 Previous"}),(0,ra.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,ra.jsx)("button",{onClick:()=>n(new Date),className:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:"Today"})]}),(0,ra.jsx)("button",{onClick:()=>I(1),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Next \u2192"})]}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg overflow-hidden",children:(0,ra.jsxs)("div",{className:"grid grid-cols-8 gap-px bg-slate-700",children:[(0,ra.jsx)("div",{className:"bg-slate-900 p-3 text-white font-semibold",children:"Dealer"}),A().map(e=>(0,ra.jsx)("div",{className:"bg-slate-900 p-3 text-white font-semibold text-center",children:R(e)},e.toISOString())),D.map(e=>(0,ra.jsxs)(a.Fragment,{children:[(0,ra.jsx)("div",{className:"bg-slate-800 p-3 text-white font-semibold",children:e.name}),A().map(t=>{const s=(e=>{const t=e.toISOString().split("T")[0];return E.filter(e=>new Date(e.shiftDate).toISOString().split("T")[0]===t)})(t).filter(t=>t.staffId===e.id);return(0,ra.jsx)("div",{className:"bg-slate-800 p-2 min-h-[100px]",children:s.length>0?(0,ra.jsx)("div",{className:"space-y-1",children:s.map(e=>(0,ra.jsxs)("div",{className:"rounded p-2 text-xs cursor-pointer transition-all ".concat(e.isOffDay?"bg-gray-700 text-gray-300":b.includes(e.id)?"bg-purple-600 text-white ring-2 ring-purple-400":"bg-green-900 text-green-200 hover:bg-green-800"),onClick:()=>{return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:[e.isOffDay?(0,ra.jsx)("div",{className:"font-semibold",children:"OFF DAY"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"font-semibold",children:[L(e.shiftStartTime)," - ",L(e.shiftEndTime)]}),e.notes&&(0,ra.jsx)("div",{className:"text-xs mt-1 opacity-80",children:e.notes})]}),(0,ra.jsxs)("div",{className:"flex gap-1 mt-2",children:[(0,ra.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{p(e),v({staffId:e.staffId,shiftDate:new Date(e.shiftDate).toISOString().split("T")[0],shiftStartTime:new Date(e.shiftStartTime).toISOString().slice(0,16),shiftEndTime:new Date(e.shiftEndTime).toISOString().slice(0,16),isOffDay:e.isOffDay,notes:e.notes||""}),x(!0)})(e)},className:"text-blue-300 hover:text-blue-100 text-xs",children:"Edit"}),(0,ra.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{var t;window.confirm("Delete shift for ".concat(null===(t=e.staff)||void 0===t?void 0:t.name,"?"))&&k.mutate(e.id)})(e)},className:"text-red-300 hover:text-red-100 text-xs",children:"Del"})]})]},e.id))}):(0,ra.jsx)("div",{className:"text-gray-500 text-xs text-center pt-4",children:"No shift"})},"".concat(e.id,"-").concat(t.toISOString()))})]},e.id))]})}),0===D.length&&(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-8 text-center text-gray-400",children:[(0,ra.jsx)("p",{className:"text-lg mb-2",children:"No dealers found"}),(0,ra.jsx)("p",{className:"text-sm",children:"Create dealer staff members to start managing shifts"})]}),d&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-purple-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Shift"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Dealer *"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:f.staffId,onChange:e=>v(c(c({},f),{},{staffId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"Select Dealer"}),D.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Date *"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:f.shiftDate,onChange:e=>v(c(c({},f),{},{shiftDate:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("input",{type:"checkbox",id:"isOffDay",checked:f.isOffDay,onChange:e=>v(c(c({},f),{},{isOffDay:e.target.checked})),className:"w-4 h-4"}),(0,ra.jsx)("label",{htmlFor:"isOffDay",className:"text-white text-sm",children:"Mark as Off Day"})]}),!f.isOffDay&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Time *"}),(0,ra.jsx)("input",{type:"datetime-local",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:f.shiftStartTime,onChange:e=>v(c(c({},f),{},{shiftStartTime:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Time *"}),(0,ra.jsx)("input",{type:"datetime-local",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:f.shiftEndTime,onChange:e=>v(c(c({},f),{},{shiftEndTime:e.target.value}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Notes"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500 h-20",placeholder:"Shift notes...",value:f.notes,onChange:e=>v(c(c({},f),{},{notes:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{f.staffId&&f.shiftDate?f.isOffDay||f.shiftStartTime&&f.shiftEndTime?S.mutate(f):Sl.error("Please provide start and end times"):Sl.error("Please select a dealer and date")},disabled:S.isLoading,className:"flex-1 bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:S.isLoading?"Creating...":"Create Shift"}),(0,ra.jsx)("button",{onClick:()=>{u(!1),T()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),m&&h&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-blue-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Shift"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Dealer"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-gray-400",value:(null===(t=h.staff)||void 0===t?void 0:t.name)||"",disabled:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Date *"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:f.shiftDate,onChange:e=>v(c(c({},f),{},{shiftDate:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("input",{type:"checkbox",id:"editIsOffDay",checked:f.isOffDay,onChange:e=>v(c(c({},f),{},{isOffDay:e.target.checked})),className:"w-4 h-4"}),(0,ra.jsx)("label",{htmlFor:"editIsOffDay",className:"text-white text-sm",children:"Mark as Off Day"})]}),!f.isOffDay&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Time *"}),(0,ra.jsx)("input",{type:"datetime-local",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:f.shiftStartTime,onChange:e=>v(c(c({},f),{},{shiftStartTime:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Time *"}),(0,ra.jsx)("input",{type:"datetime-local",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:f.shiftEndTime,onChange:e=>v(c(c({},f),{},{shiftEndTime:e.target.value}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Notes"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 h-20",placeholder:"Shift notes...",value:f.notes,onChange:e=>v(c(c({},f),{},{notes:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{h&&C.mutate({shiftId:h.id,data:f})},disabled:C.isLoading,className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:C.isLoading?"Updating...":"Update Shift"}),(0,ra.jsx)("button",{onClick:()=>{x(!1),p(null),T()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}const Td=[{value:"Super Admin",label:"Super Admin"},{value:"Admin",label:"Admin"},{value:"Manager",label:"Manager"},{value:"HR",label:"HR"},{value:"GRE",label:"GRE (Guest Relations Executive)"},{value:"Cashier",label:"Cashier"},{value:"Affiliate",label:"Affiliate"},{value:"Dealer",label:"Dealer"},{value:"FNB",label:"FNB"},{value:"Staff",label:"Staff (Custom Role)"}];function Id(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)("staff"),n="HR"===JSON.parse(localStorage.getItem("user")||"{}").role,[i,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[b,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)(null),[y,w]=(0,a.useState)(null),[j,N]=(0,a.useState)({role:"",status:"",search:"",sortBy:"createdAt",sortOrder:"DESC"}),[S,C]=(0,a.useState)({name:"",role:"Super Admin",email:"",phone:"",employeeId:"",customRoleName:"",aadharDocumentUrl:"",panDocumentUrl:""}),[k,P]=(0,a.useState)({reason:""}),[T,I]=(0,a.useState)(!1),[D,E]=(0,a.useState)(!1),{data:A,isLoading:L}=Si({queryKey:["staff-management",t,j],queryFn:()=>_r(t,j),enabled:!!t}),R=Ti({mutationFn:e=>zr(t,e),onSuccess:e=>{Sl.success("Staff member created successfully!"),e.staff.tempPasswordPlainText&&(w({password:e.staff.tempPasswordPlainText,name:e.staff.name,email:e.staff.email,role:e.staff.role,affiliateCode:e.staff.affiliateCode,isReset:!1}),p(!0)),s.invalidateQueries(["staff-management",t]),o(!1),U()},onError:e=>{Sl.error(e.message||"Failed to create staff member")}}),O=Ti({mutationFn:e=>{let{staffId:s,data:a}=e;return qr(t,s,a)},onSuccess:()=>{Sl.success("Staff member updated successfully!"),s.invalidateQueries(["staff-management",t]),u(!1),v(null),U()},onError:e=>{Sl.error(e.message||"Failed to update staff member")}}),M=Ti({mutationFn:e=>{let{staffId:s,reason:a}=e;return Ur(t,s,a)},onSuccess:()=>{Sl.success("Staff member suspended successfully!"),s.invalidateQueries(["staff-management",t]),x(!1),v(null),P({reason:""})},onError:e=>{Sl.error(e.message||"Failed to suspend staff member")}}),F=Ti({mutationFn:e=>Br(t,e),onSuccess:()=>{Sl.success("Staff member reactivated successfully!"),s.invalidateQueries(["staff-management",t])},onError:e=>{Sl.error(e.message||"Failed to reactivate staff member")}}),_=Ti({mutationFn:e=>Wr(t,e),onSuccess:()=>{Sl.success("Staff member deleted successfully!"),s.invalidateQueries(["staff-management",t])},onError:e=>{Sl.error(e.message||"Failed to delete staff member")}}),z=Ti({mutationFn:async e=>{const s=await Hr(t,e),a=null===A||void 0===A?void 0:A.staff.find(t=>t.id===e);return c(c({},s),{},{staff:a})},onSuccess:e=>{var t,s,a,l;Sl.success("Password reset successfully!"),w({password:e.tempPassword,name:null===(t=e.staff)||void 0===t?void 0:t.name,email:null===(s=e.staff)||void 0===s?void 0:s.email,role:null===(a=e.staff)||void 0===a?void 0:a.role,affiliateCode:null===(l=e.staff)||void 0===l?void 0:l.affiliateCode,isReset:!0}),p(!0)},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),q=async(e,s)=>{"aadhar"===s?I(!0):E(!0);try{const a=await kd(e,t,"staff-kyc");C(c(c({},S),{},"aadhar"===s?{aadharDocumentUrl:a}:{panDocumentUrl:a})),Sl.success("".concat("aadhar"===s?"Aadhar":"PAN"," card uploaded successfully"))}catch(a){Sl.error("Failed to upload ".concat("aadhar"===s?"Aadhar":"PAN"," card"))}finally{"aadhar"===s?I(!1):E(!1)}},U=()=>{C({name:"",role:"Super Admin",email:"",phone:"",employeeId:"",customRoleName:"",aadharDocumentUrl:"",panDocumentUrl:""})},B=(null===A||void 0===A?void 0:A.staff)||[],W=e=>{switch(e){case"Active":return"bg-green-500/20 text-green-300 border-green-500";case"Suspended":return"bg-red-500/20 text-red-300 border-red-500";case"On Break":return"bg-yellow-500/20 text-yellow-300 border-yellow-500";default:return"bg-gray-500/20 text-gray-300 border-gray-500"}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Staff Management"}),"staff"===l&&(0,ra.jsx)("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 text-white px-6 py-3 rounded-lg font-semibold shadow-lg transition-all",children:"\u2795 Create Staff"})]}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>r("staff"),className:"px-6 py-3 font-semibold transition-colors ".concat("staff"===l?"text-white border-b-2 border-purple-500":"text-gray-400 hover:text-white"),children:"Staff Members"}),(0,ra.jsx)("button",{onClick:()=>r("shifts"),className:"px-6 py-3 font-semibold transition-colors ".concat("shifts"===l?"text-white border-b-2 border-purple-500":"text-gray-400 hover:text-white"),children:"Shift Management"})]}),"shifts"===l&&(0,ra.jsx)(Pd,{selectedClubId:t}),"staff"===l&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Role"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:j.role,onChange:e=>N(c(c({},j),{},{role:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Roles"}),Td.map(e=>(0,ra.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Status"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:j.status,onChange:e=>N(c(c({},j),{},{status:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Status"}),(0,ra.jsx)("option",{value:"Active",children:"Active"}),(0,ra.jsx)("option",{value:"Suspended",children:"Suspended"}),(0,ra.jsx)("option",{value:"On Break",children:"On Break"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Sort By"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:j.sortBy,onChange:e=>N(c(c({},j),{},{sortBy:e.target.value})),children:[(0,ra.jsx)("option",{value:"createdAt",children:"Date Created"}),(0,ra.jsx)("option",{value:"name",children:"Name"}),(0,ra.jsx)("option",{value:"role",children:"Role"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"Name, email, phone...",value:j.search,onChange:e=>N(c(c({},j),{},{search:e.target.value}))})]})]})}),L?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading staff..."})]}):0===B.length?(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 text-center border border-slate-700",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc65"}),(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Staff Members Yet"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Create your first staff member to get started"})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 gap-4",children:B.map(e=>(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-purple-600 transition-all",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold border ".concat(W(e.status)),children:e.status}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-purple-500/20 text-purple-300 border border-purple-500",children:"Staff"===e.role&&e.customRoleName?e.customRoleName:e.role}),e.affiliateCode&&(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-mono font-semibold bg-yellow-500/20 text-yellow-300 border border-yellow-500",children:e.affiliateCode})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Email"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:e.email})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Phone"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:e.phone})]}),e.employeeId&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Employee ID"}),(0,ra.jsx)("p",{className:"text-white font-mono font-semibold",children:e.employeeId})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"Created"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:new Date(e.createdAt).toLocaleDateString()})]})]}),"Suspended"===e.status&&e.suspendedReason&&(0,ra.jsx)("div",{className:"mt-3 bg-red-900/30 border border-red-500/50 rounded-lg p-3",children:(0,ra.jsxs)("p",{className:"text-sm text-red-300",children:[(0,ra.jsx)("strong",{children:"Suspension Reason:"})," ",e.suspendedReason]})})]}),(0,ra.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,ra.jsx)("button",{onClick:()=>(e=>{v(e),g(!0)})(e),className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"View"}),!n&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("button",{onClick:()=>(e=>{v(e),C({name:e.name,role:e.role,email:e.email,phone:e.phone,employeeId:e.employeeId||"",customRoleName:e.customRoleName||"",aadharDocumentUrl:e.aadharDocumentUrl||"",panDocumentUrl:e.panDocumentUrl||""}),u(!0)})(e),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Edit"}),"Active"===e.status&&(0,ra.jsx)("button",{onClick:()=>(e=>{v(e),x(!0)})(e),className:"bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Suspend"}),"Suspended"===e.status&&(0,ra.jsx)("button",{onClick:()=>(e=>{window.confirm("Reactivate ".concat(e.name,"?"))&&F.mutate(e.id)})(e),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Reactivate"}),(0,ra.jsx)("button",{onClick:()=>(e=>{window.confirm("Reset password for ".concat(e.name,"?"))&&z.mutate(e.id)})(e),className:"bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Reset Password"}),(0,ra.jsx)("button",{onClick:()=>(e=>{window.confirm("Are you sure you want to delete ".concat(e.name,"? This action cannot be undone."))&&_.mutate(e.id)})(e),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete"})]})]})]})},e.id))}),i&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full border border-purple-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Staff Member"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Full Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"John Doe",value:S.name,onChange:e=>C(c(c({},S),{},{name:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Role *"}),(0,ra.jsx)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:S.role,onChange:e=>C(c(c({},S),{},{role:e.target.value})),children:Td.map(e=>(0,ra.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),"Staff"===S.role&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Role Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"e.g., Security, Maintenance, etc.",value:S.customRoleName,onChange:e=>C(c(c({},S),{},{customRoleName:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Email *"}),(0,ra.jsx)("input",{type:"email",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"john@example.com",value:S.email,onChange:e=>C(c(c({},S),{},{email:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Phone *"}),(0,ra.jsx)("input",{type:"tel",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"+91 1234567890",value:S.phone,onChange:e=>C(c(c({},S),{},{phone:e.target.value}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Employee ID (Optional)"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"EMP001",value:S.employeeId,onChange:e=>C(c(c({},S),{},{employeeId:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Aadhar Card"}),(0,ra.jsx)("input",{type:"file",accept:"image/*,application/pdf",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",onChange:e=>e.target.files[0]&&q(e.target.files[0],"aadhar"),disabled:T}),T&&(0,ra.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Uploading..."}),S.aadharDocumentUrl&&(0,ra.jsx)("p",{className:"text-sm text-green-400 mt-1",children:"\u2713 Uploaded"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"PAN Card"}),(0,ra.jsx)("input",{type:"file",accept:"image/*,application/pdf",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",onChange:e=>e.target.files[0]&&q(e.target.files[0],"pan"),disabled:D}),D&&(0,ra.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Uploading..."}),S.panDocumentUrl&&(0,ra.jsx)("p",{className:"text-sm text-green-400 mt-1",children:"\u2713 Uploaded"})]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{S.name&&S.email&&S.phone?"Staff"!==S.role||S.customRoleName?R.mutate(S):Sl.error("Please enter a custom role name"):Sl.error("Please fill in all required fields")},disabled:R.isLoading,className:"flex-1 bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:R.isLoading?"Creating...":"Create Staff Member"}),(0,ra.jsx)("button",{onClick:()=>{o(!1),U()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),d&&f&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full border border-blue-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Edit Staff Member"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Full Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:S.name,onChange:e=>C(c(c({},S),{},{name:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Email *"}),(0,ra.jsx)("input",{type:"email",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:S.email,onChange:e=>C(c(c({},S),{},{email:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Phone *"}),(0,ra.jsx)("input",{type:"tel",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:S.phone,onChange:e=>C(c(c({},S),{},{phone:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Employee ID"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:S.employeeId,onChange:e=>C(c(c({},S),{},{employeeId:e.target.value}))})]})]}),"Staff"===S.role&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Role Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",value:S.customRoleName,onChange:e=>C(c(c({},S),{},{customRoleName:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{S.name&&S.email&&S.phone?O.mutate({staffId:f.id,data:S}):Sl.error("Please fill in all required fields")},disabled:O.isLoading,className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:O.isLoading?"Updating...":"Update Staff Member"}),(0,ra.jsx)("button",{onClick:()=>{u(!1),v(null),U()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),m&&f&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-orange-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Suspend Staff Member"}),(0,ra.jsxs)("p",{className:"text-gray-300 mb-4",children:["You are about to suspend ",(0,ra.jsx)("strong",{children:f.name}),". Please provide a reason:"]}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500 h-32",placeholder:"Enter suspension reason (minimum 5 characters)",value:k.reason,onChange:e=>P({reason:e.target.value})}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{!k.reason||k.reason.length<5?Sl.error("Please provide a reason (minimum 5 characters)"):M.mutate({staffId:f.id,reason:k.reason})},disabled:M.isLoading,className:"flex-1 bg-orange-600 hover:bg-orange-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:M.isLoading?"Suspending...":"Suspend"}),(0,ra.jsx)("button",{onClick:()=>{x(!1),v(null),P({reason:""})},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),h&&y&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-green-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:y.isReset?"Password Reset Successfully!":"Staff Member Created Successfully!"}),(0,ra.jsxs)("div",{className:"bg-green-900/30 border border-green-500/50 rounded-lg p-4 mb-4",children:[(0,ra.jsxs)("p",{className:"text-white mb-2",children:[(0,ra.jsx)("strong",{children:"Name:"})," ",y.name]}),(0,ra.jsxs)("p",{className:"text-white mb-2",children:[(0,ra.jsx)("strong",{children:"Role:"})," ",y.role]}),(0,ra.jsxs)("p",{className:"text-white mb-2",children:[(0,ra.jsx)("strong",{children:"Email:"})," ",y.email]}),y.affiliateCode&&(0,ra.jsxs)("p",{className:"text-yellow-300 mb-2 font-mono",children:[(0,ra.jsx)("strong",{children:"Affiliate Code:"})," ",y.affiliateCode]}),(0,ra.jsx)("p",{className:"text-white mb-2",children:(0,ra.jsx)("strong",{children:"Temporary Password:"})}),(0,ra.jsx)("div",{className:"bg-slate-700 rounded p-3 font-mono text-lg text-center text-green-300 select-all",children:y.password})]}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["\u26a0\ufe0f Please save this password and share it with the staff member."," ",y.isReset?"They will be required to reset it on next login.":"They will be required to reset it on first login. This password will not be shown again."]}),(0,ra.jsx)("button",{onClick:()=>{p(!1),w(null)},className:"w-full bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"I've Saved the Password"})]})}),b&&f&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-4xl w-full border border-purple-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Staff Member Details"}),(0,ra.jsx)("button",{onClick:()=>{g(!1),v(null)},className:"text-gray-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-slate-600 pb-2",children:"Basic Information"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Full Name"}),(0,ra.jsx)("p",{className:"text-white font-semibold text-lg",children:f.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Role"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:"Staff"===f.role&&f.customRoleName?f.customRoleName:f.role})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Email"}),(0,ra.jsx)("p",{className:"text-white",children:f.email})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Phone"}),(0,ra.jsx)("p",{className:"text-white",children:f.phone})]}),f.employeeId&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Employee ID"}),(0,ra.jsx)("p",{className:"text-white font-mono",children:f.employeeId})]}),f.affiliateCode&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Affiliate Code"}),(0,ra.jsx)("p",{className:"text-yellow-300 font-mono font-bold text-lg",children:f.affiliateCode})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Status"}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold border ".concat(W(f.status)),children:f.status})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Created At"}),(0,ra.jsx)("p",{className:"text-white",children:new Date(f.createdAt).toLocaleString()})]})]}),"Suspended"===f.status&&f.suspendedReason&&(0,ra.jsxs)("div",{className:"mt-4 bg-red-900/30 border border-red-500/50 rounded-lg p-4",children:[(0,ra.jsxs)("p",{className:"text-sm text-red-300",children:[(0,ra.jsx)("strong",{children:"Suspension Reason:"})," ",f.suspendedReason]}),f.suspendedAt&&(0,ra.jsxs)("p",{className:"text-sm text-red-300 mt-2",children:[(0,ra.jsx)("strong",{children:"Suspended At:"})," ",new Date(f.suspendedAt).toLocaleString()]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-slate-600 pb-2",children:"KYC Documents"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Aadhar Card"}),f.aadharDocumentUrl?(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("div",{className:"bg-slate-600 rounded-lg p-4 border border-slate-500",children:(0,ra.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("span",{className:"text-2xl",children:"\ud83c\udd94"}),(0,ra.jsx)("span",{className:"text-white",children:"Aadhar Card"})]}),(0,ra.jsx)("span",{className:"text-green-400 text-sm",children:"\u2713 Uploaded"})]})}),(0,ra.jsx)("a",{href:f.aadharDocumentUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-center",children:"View Document"}),(0,ra.jsx)("a",{href:f.aadharDocumentUrl,download:!0,className:"block w-full bg-slate-600 hover:bg-slate-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-center",children:"Download Document"})]}):(0,ra.jsx)("div",{className:"bg-slate-600 rounded-lg p-4 border border-slate-500 border-dashed",children:(0,ra.jsx)("p",{className:"text-gray-400 text-center",children:"No Aadhar card uploaded"})})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"PAN Card"}),f.panDocumentUrl?(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("div",{className:"bg-slate-600 rounded-lg p-4 border border-slate-500",children:(0,ra.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc4"}),(0,ra.jsx)("span",{className:"text-white",children:"PAN Card"})]}),(0,ra.jsx)("span",{className:"text-green-400 text-sm",children:"\u2713 Uploaded"})]})}),(0,ra.jsx)("a",{href:f.panDocumentUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-center",children:"View Document"}),(0,ra.jsx)("a",{href:f.panDocumentUrl,download:!0,className:"block w-full bg-slate-600 hover:bg-slate-500 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-center",children:"Download Document"})]}):(0,ra.jsx)("div",{className:"bg-slate-600 rounded-lg p-4 border border-slate-500 border-dashed",children:(0,ra.jsx)("p",{className:"text-gray-400 text-center",children:"No PAN card uploaded"})})]})]})]}),(f.aadharDocumentUrl||f.panDocumentUrl)&&(0,ra.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-slate-600 pb-2",children:"Document Preview"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.aadharDocumentUrl&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Aadhar Card Preview"}),(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-600",children:[f.aadharDocumentUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)?(0,ra.jsx)("img",{src:f.aadharDocumentUrl,alt:"Aadhar Card",className:"w-full h-auto rounded-lg max-h-64 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}):null,(0,ra.jsxs)("div",{style:{display:"none"},className:"text-center text-gray-400 py-8",children:[(0,ra.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcc4"}),(0,ra.jsx)("p",{children:'PDF Document - Click "View Document" to open'})]})]})]}),f.panDocumentUrl&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"PAN Card Preview"}),(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-600",children:[f.panDocumentUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)?(0,ra.jsx)("img",{src:f.panDocumentUrl,alt:"PAN Card",className:"w-full h-auto rounded-lg max-h-64 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}):null,(0,ra.jsxs)("div",{style:{display:"none"},className:"text-center text-gray-400 py-8",children:[(0,ra.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcc4"}),(0,ra.jsx)("p",{children:'PDF Document - Click "View Document" to open'})]})]})]})]})]})]}),(0,ra.jsx)("div",{className:"mt-6 flex justify-end",children:(0,ra.jsx)("button",{onClick:()=>{g(!1),v(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Close"})})]})})]})]})}function Dd(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)("all"),[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(1),[d,u]=(0,a.useState)(1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),b=10,g=ia(),{data:f,isLoading:v}=Si({queryKey:["clubPlayers",t],queryFn:()=>Gl(t),enabled:!!t}),y=Array.isArray(f)?f:(null===f||void 0===f?void 0:f.players)||[],{data:w,isLoading:j}=Si({queryKey:["playerDetails",t,null===h||void 0===h?void 0:h.id],queryFn:async()=>{if(!h||!t)return null;const e=await Ll(t,h.id);let s=[];try{const e=await fetch("".concat("http://localhost:3333/api","/player-documents/my"),{headers:{"x-player-id":h.id,"x-club-id":t}});if(e.ok){const t=await e.json();s=t.documents||[]}}catch(l){console.error("Error fetching documents:",l)}const a=e.kycDocuments||h.kycDocuments||[];if(Array.isArray(a)&&a.length>0){const e=new Set(s.map(e=>e.url));a.forEach(t=>{t.url&&!e.has(t.url)&&s.push(t)})}return c(c({},e),{},{documents:s})},enabled:!!h&&!!t&&m}),{data:N=[],isLoading:S}=Si({queryKey:["fieldUpdateRequests",t],queryFn:async()=>[],enabled:!!t&&"field-updates"===s}),C=Ti({mutationFn:async e=>{let{requestId:t,approved:s,notes:a}=e;return{success:!0}},onSuccess:()=>{Sl.success("Field update request processed"),g.invalidateQueries(["fieldUpdateRequests",t])},onError:e=>{Sl.error(e.message||"Failed to process field update request")}}),k=y.filter(e=>{var t,s,a;return!r||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(r.toLowerCase()))||(null===(a=e.playerId)||void 0===a?void 0:a.toLowerCase().includes(r.toLowerCase()))}),P=Math.ceil(k.length/b),T=(i-1)*b,I=T+b,D=k.slice(T,I),E=Math.ceil(N.length/b),A=(d-1)*b,L=A+b,R=N.slice(A,L);return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Player Management"}),(0,ra.jsx)("div",{className:"flex gap-2 border-b border-slate-700",children:[{id:"all",label:"All Players"},{id:"field-updates",label:"Player Fields Update Approval"}].map(e=>(0,ra.jsx)("button",{onClick:()=>{l(e.id),o(1),u(1)},className:"px-6 py-3 font-semibold transition-all ".concat(s===e.id?"bg-gradient-to-r from-red-400 to-purple-600 text-white border-b-2 border-purple-400":"text-gray-400 hover:text-white"),children:e.label},e.id))}),(0,ra.jsxs)("div",{className:"mt-6",children:["all"===s&&(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700",children:(0,ra.jsx)("input",{type:"text",placeholder:"Search by name, email, or ID...",value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500"})}),v?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading players..."})]}):(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[(0,ra.jsx)("div",{className:"p-4 text-sm text-gray-400 flex justify-between items-center",children:(0,ra.jsxs)("span",{children:["Showing ",T+1,"-",Math.min(I,k.length)," of ",k.length," players"]})}),(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"ID"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Email"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Phone"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"KYC Status"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"KYC Documents"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:0===D.length?(0,ra.jsx)("tr",{children:(0,ra.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-400",children:"No players found"})}):D.map(e=>(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:e.name}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.playerId||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.email}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.phoneNumber||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("approved"===e.kycStatus||"verified"===e.kycStatus?"bg-green-600/20 text-green-400":"bg-yellow-600/20 text-yellow-400"),children:e.kycStatus||"Pending"})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:e.kycDocuments&&e.kycDocuments.length>0?(0,ra.jsxs)("span",{className:"text-blue-400 text-sm",children:[e.kycDocuments.length," document(s)"]}):(0,ra.jsx)("span",{className:"text-gray-500 text-sm",children:"No documents"})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("button",{onClick:()=>{p(e),x(!0)},className:"bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"View Details & KYC"})})]},e.id))})]}),P>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",i," of ",P]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===i,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>o(e=>Math.min(P,e+1)),disabled:i>=P,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]})]}),"field-updates"===s&&(0,ra.jsx)("div",{className:"space-y-6",children:S?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading field update requests..."})]}):0===N.length?(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 border border-slate-700 text-center",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No pending field update requests"})]}):(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[(0,ra.jsx)("div",{className:"p-4 text-sm text-gray-400 flex justify-between items-center",children:(0,ra.jsxs)("span",{children:["Showing ",A+1,"-",Math.min(L,N.length)," of ",N.length," field update requests"]})}),(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Player Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Fields Updated"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Requested Date"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:0===R.length?(0,ra.jsx)("tr",{children:(0,ra.jsx)("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-400",children:"No field update requests found"})}):R.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:e.playerName}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("div",{className:"space-y-1",children:null===(t=e.fields)||void 0===t?void 0:t.map((e,t)=>(0,ra.jsxs)("div",{className:"text-sm",children:[(0,ra.jsxs)("span",{className:"text-gray-400",children:[e.fieldName,":"]})," ",(0,ra.jsx)("span",{className:"text-gray-500 line-through",children:e.currentValue||"N/A"})," \u2192 ",(0,ra.jsx)("span",{className:"text-emerald-400",children:e.requestedValue})]},t))})}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:new Date(e.requestedDate||e.createdAt).toLocaleDateString()}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-400 rounded text-xs font-semibold",children:e.status||"Pending"})}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>{C.mutate({requestId:e.id,approved:!0,notes:"Approved by HR"})},disabled:C.isLoading,className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Approve"}),(0,ra.jsx)("button",{onClick:()=>{const t=prompt("Enter rejection reason:");t&&C.mutate({requestId:e.id,approved:!1,notes:t})},disabled:C.isLoading,className:"bg-red-600 hover:bg-red-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:"Reject"})]})})]},e.id)})})]}),E>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",d," of ",E]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===d,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>u(e=>Math.min(E,e+1)),disabled:d>=E,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]})})]}),m&&h&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-8 max-w-4xl w-full border-2 border-purple-500 shadow-2xl my-8",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Player Details & KYC Documents"}),(0,ra.jsx)("button",{onClick:()=>{x(!1),p(null)},className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),j?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Loading player details..."})]}):w?(0,ra.jsxs)("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-purple-500/30",children:[(0,ra.jsx)("h3",{className:"text-purple-400 font-semibold mb-4 text-lg",children:"Basic Information"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Name"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:w.name||h.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Email"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:w.email||h.email})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Phone Number"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:w.phoneNumber||h.phoneNumber||"-"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"Player ID"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:w.playerId||h.playerId||"-"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"PAN Card"}),(0,ra.jsx)("p",{className:"text-white font-medium",children:w.panCard||h.panCard||"-"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:"KYC Status"}),(0,ra.jsx)("span",{className:"inline-block px-3 py-1 rounded text-xs font-semibold ".concat("approved"===(w.kycStatus||h.kycStatus)||"verified"===(w.kycStatus||h.kycStatus)?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400"),children:w.kycStatus||h.kycStatus||"Pending"})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-purple-500/30",children:[(0,ra.jsx)("h3",{className:"text-purple-400 font-semibold mb-4 text-lg",children:"KYC Documents"}),w.documents&&w.documents.length>0?(0,ra.jsx)("div",{className:"grid grid-cols-2 gap-4",children:w.documents.map((e,t)=>(0,ra.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[(0,ra.jsx)("p",{className:"text-gray-300 font-medium mb-2",children:e.type||e.documentType||"Document"}),e.url&&(0,ra.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm underline",children:"View Document"}),e.uploadedAt&&(0,ra.jsxs)("p",{className:"text-gray-500 text-xs mt-1",children:["Uploaded: ",new Date(e.uploadedAt).toLocaleDateString()]})]},t))}):(0,ra.jsx)("p",{className:"text-gray-400",children:"No KYC documents available"})]})]}):null]})})]})}function Ed(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)(1),[r,n]=(0,a.useState)({search:"",startDate:"",endDate:"",staffId:""}),{data:i,isLoading:o}=Si({queryKey:["salary-payments",t,s,r],queryFn:async()=>await Kl(t,c({page:s,limit:10},r)),enabled:!!t}),d=(null===i||void 0===i?void 0:i.payments)||[],u=(null===i||void 0===i?void 0:i.totalPages)||1,m=(null===i||void 0===i?void 0:i.total)||0,x=e=>"\u20b9".concat((e||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}));return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Salary History"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"View-only: Salary payment history for all employees"}),!t&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view salary history."})}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 space-y-4",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsx)("input",{type:"text",placeholder:"Search by staff name...",value:r.search,onChange:e=>n(c(c({},r),{},{search:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("input",{type:"date",placeholder:"Start Date",value:r.startDate,onChange:e=>n(c(c({},r),{},{startDate:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("input",{type:"date",placeholder:"End Date",value:r.endDate,onChange:e=>n(c(c({},r),{},{endDate:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("button",{onClick:()=>n({search:"",startDate:"",endDate:"",staffId:""}),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white transition-colors",children:"Clear Filters"})]})}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:o?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading salary history..."})]}):0===d.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcb0"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No salary payments found"})]}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"p-4 text-sm text-gray-400 flex justify-between items-center",children:(0,ra.jsxs)("span",{children:["Showing ",10*(s-1)+1,"-",Math.min(10*s,m)," of ",m," payments"]})}),(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Staff Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Pay Period"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Base Salary"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Overtime"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Deductions"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Gross Amount"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Net Amount"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Payment Date"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:d.map(e=>{var t,s;return(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:(null===(t=e.staff)||void 0===t?void 0:t.name)||"N/A"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.payPeriod||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-white",children:x(e.baseSalary)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-white",children:x(e.overtimeAmount)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-red-400",children:x(e.deductions)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-white font-medium",children:x(e.grossAmount)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-green-400 font-bold",children:x(e.netAmount)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:(s=e.paymentDate,s?new Date(s).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-")}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("Processed"===e.status?"bg-green-600/20 text-green-400":"bg-yellow-600/20 text-yellow-400"),children:e.status||"Processed"})})]},e.id)})})]}),u>1&&(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex items-center justify-between",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Page ",s," of ",u]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===s,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>l(e=>Math.min(u,e+1)),disabled:s>=u,className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-600 transition-colors",children:"Next"})]})]})]})})]})}function Ad(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)(!1),r=(new Date).toISOString().split("T")[0],[n,i]=(0,a.useState)({staffId:"",loginDate:r,loginTime:"",logoutDate:r,logoutTime:"",notes:""}),o=ia(),[d,u]=(0,a.useState)({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],staffId:""}),{data:m}=Si({queryKey:["staff-list",t],queryFn:()=>_r(t,{status:"Active"}),enabled:!!t}),x=(null===m||void 0===m?void 0:m.staff)||[],{data:h=[],isLoading:p}=Si({queryKey:["attendance",t,d],queryFn:()=>Vl(t,d.startDate,d.endDate,d.staffId),enabled:!!t}),{data:b}=Si({queryKey:["attendanceStats",t,d.startDate,d.endDate],queryFn:()=>Jl(t,d.startDate,d.endDate),enabled:!!t}),g=Ti({mutationFn:async e=>{const s=e.loginDate&&e.loginTime?"".concat(e.loginDate,"T").concat(e.loginTime,":00"):null,a=e.logoutDate&&e.logoutTime?"".concat(e.logoutDate,"T").concat(e.logoutTime,":00"):null,l={staffId:e.staffId,date:e.loginDate,loginTime:s,logoutTime:a};return e.notes&&e.notes.trim()&&(l.notes=e.notes.trim()),await Ql(t,l)},onSuccess:()=>{Sl.success("Attendance record created successfully!"),o.invalidateQueries(["attendance",t]),o.invalidateQueries(["attendanceStats",t]),l(!1);const e=(new Date).toISOString().split("T")[0];i({staffId:"",loginDate:e,loginTime:"",logoutDate:e,logoutTime:"",notes:""})},onError:e=>{Sl.error(e.message||"Failed to create attendance record")}}),f=e=>e?new Date(e).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"-",v=(e,t)=>{if(!e||!t)return"-";const s=new Date(e);return((new Date(t)-s)/36e5).toFixed(2)};return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Attendance Management"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Track login and logout times for all employees"})]}),(0,ra.jsx)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white px-6 py-3 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:"+ Create Attendance"})]}),!t&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view attendance records."})}),b&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Total Records"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:b.totalRecords||0})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Active Sessions"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:b.activeSessions||0})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Completed Sessions"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-green-400",children:b.completedSessions||0})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:"Avg Hours/Day"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-purple-400",children:b.avgHours||"0.00"})]})]}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsx)("input",{type:"date",placeholder:"Start Date",value:d.startDate,onChange:e=>u(c(c({},d),{},{startDate:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("input",{type:"date",placeholder:"End Date",value:d.endDate,onChange:e=>u(c(c({},d),{},{endDate:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("input",{type:"text",placeholder:"Search by staff name or ID...",value:d.staffId,onChange:e=>u(c(c({},d),{},{staffId:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("button",{onClick:()=>{const e=(new Date).toISOString().split("T")[0];u({startDate:e,endDate:e,staffId:""})},className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 rounded-lg text-white transition-colors",children:"Reset to Today"})]})}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:p?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading attendance records..."})]}):0===h.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\u23f0"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No attendance records found"})]}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"p-4 text-sm text-gray-400",children:["Showing ",h.length," attendance record(s)"]}),(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{className:"bg-slate-700",children:(0,ra.jsxs)("tr",{children:[(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Staff Name"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Role"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Employee ID"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Login Time"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Logout Time"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Total Hours"}),(0,ra.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase",children:"Status"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:h.map(e=>(0,ra.jsxs)("tr",{className:"hover:bg-slate-750",children:[(0,ra.jsx)("td",{className:"px-6 py-4 font-medium",children:e.staffName}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.staffRole||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.employeeId||"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-gray-400",children:y(e.date)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-green-400 font-medium",children:f(e.loginTime)}),(0,ra.jsx)("td",{className:"px-6 py-4 text-red-400 font-medium",children:e.logoutTime?f(e.logoutTime):"-"}),(0,ra.jsx)("td",{className:"px-6 py-4 text-white font-medium",children:e.totalHours?"".concat(e.totalHours," hrs"):"-"!==v(e.loginTime,e.logoutTime)?"".concat(v(e.loginTime,e.logoutTime)," hrs"):"-"}),(0,ra.jsx)("td",{className:"px-6 py-4",children:(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("active"===e.status?"bg-blue-600/20 text-blue-400":"completed"===e.status?"bg-green-600/20 text-green-400":"bg-yellow-600/20 text-yellow-400"),children:"active"===e.status?"Active":"completed"===e.status?"Completed":"Incomplete"})})]},e.id))})]})})]})}),s&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-2xl w-full border border-blue-600 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Attendance Record"}),(0,ra.jsx)("button",{onClick:()=>{l(!1);const e=(new Date).toISOString().split("T")[0];i({staffId:"",loginDate:e,loginTime:"",logoutDate:e,logoutTime:"",notes:""})},className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!n.staffId||!n.loginDate||!n.loginTime||!n.logoutDate||!n.logoutTime)return void Sl.error("Please fill in all required fields");const t=new Date("".concat(n.loginDate,"T").concat(n.loginTime));new Date("".concat(n.logoutDate,"T").concat(n.logoutTime))<=t?Sl.error("Logout date & time must be after login date & time"):g.mutate(n)},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Staff Member *"}),(0,ra.jsxs)("select",{value:n.staffId,onChange:e=>i(c(c({},n),{},{staffId:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,ra.jsx)("option",{value:"",children:"Select Staff Member"}),x.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name," - ",e.role||"Staff"," ",e.employeeId?"(".concat(e.employeeId,")"):""]},e.id))]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Login Date & Time *"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Login Date"}),(0,ra.jsx)("input",{type:"date",value:n.loginDate,onChange:e=>i(c(c({},n),{},{loginDate:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Login Time"}),(0,ra.jsx)("input",{type:"time",value:n.loginTime,onChange:e=>i(c(c({},n),{},{loginTime:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Logout Date & Time *"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Logout Date"}),(0,ra.jsx)("input",{type:"date",value:n.logoutDate,onChange:e=>i(c(c({},n),{},{logoutDate:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",min:n.loginDate,required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Logout Time"}),(0,ra.jsx)("input",{type:"time",value:n.logoutTime,onChange:e=>i(c(c({},n),{},{logoutTime:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"\ud83d\udca1 Logout can be on a different day (e.g., login 7pm Dec 25, logout 2am Dec 26)"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes (Optional)"}),(0,ra.jsx)("textarea",{value:n.notes,onChange:e=>i(c(c({},n),{},{notes:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Additional notes..."})]}),(0,ra.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{l(!1);const e=(new Date).toISOString().split("T")[0];i({staffId:"",loginDate:e,loginTime:"",logoutDate:e,logoutTime:"",notes:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:g.isLoading,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-medium py-3 rounded-lg transition-all disabled:opacity-50",children:g.isLoading?"Creating...":"Create Attendance"})]})]})]})})]});function y(e){return e?new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}}function Ld(e){let{clubId:t}=e;const[s,l]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!0),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{t&&b()},[t]),(0,a.useEffect)(()=>{if(r){g();const e=setInterval(g,3e3);return()=>clearInterval(e)}},[r]),(0,a.useEffect)(()=>{v()},[i]);const b=async()=>{try{h(!0);const e=await En(t,{page:1,limit:100});l(e.sessions||[])}catch(e){console.error("Error loading sessions:",e)}finally{h(!1)}},g=async()=>{if(r)try{const e=await Rn(t,r.id,{page:1,limit:100});o(e.messages||[])}catch(e){console.error("Error loading messages:",e)}},f=async()=>{if(d.trim()&&r)try{await Ln(t,r.id,d),c(""),g()}catch(e){console.error("Error sending message:",e)}},v=()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},y=s.filter(e=>{var t,s;return(null===(t=e.subject)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(s=e.recipientName)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))});return(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-300px)]",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 flex flex-col",children:[(0,ra.jsx)("div",{className:"p-4 border-b border-slate-700",children:(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)(Co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,ra.jsx)("input",{type:"text",placeholder:"Search sessions...",value:u,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"})]})}),(0,ra.jsx)("div",{className:"flex-1 overflow-y-auto",children:x?(0,ra.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading sessions..."}):0===y.length?(0,ra.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No chat sessions found"}):y.map(e=>(0,ra.jsxs)("div",{onClick:()=>n(e),className:"p-4 border-b border-slate-700 cursor-pointer hover:bg-slate-700 transition-colors ".concat((null===r||void 0===r?void 0:r.id)===e.id?"bg-slate-700":""),children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ra.jsx)("h3",{className:"font-semibold text-white",children:e.subject||"No Subject"}),e.unreadCount>0&&(0,ra.jsx)("span",{className:"bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:e.unreadCount})]}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:e.recipientName||"Unknown"}),(0,ra.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.lastMessageAt?new Date(e.lastMessageAt).toLocaleString():""})]},e.id))})]}),(0,ra.jsx)("div",{className:"lg:col-span-2 bg-slate-800 rounded-xl border border-slate-700 flex flex-col",children:r?(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"p-4 border-b border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white",children:r.subject||"Chat"}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["With: ",r.recipientName||"Unknown"]})]}),(0,ra.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(e=>(0,ra.jsx)("div",{className:"flex ".concat("HR"===e.senderRole?"justify-end":"justify-start"),children:(0,ra.jsxs)("div",{className:"max-w-[70%] rounded-lg p-3 ".concat("HR"===e.senderRole?"bg-blue-600 text-white":"bg-slate-700 text-white"),children:[(0,ra.jsx)("p",{className:"text-sm",children:e.message}),(0,ra.jsx)("p",{className:"text-xs opacity-70 mt-1",children:new Date(e.createdAt).toLocaleTimeString()})]})},e.id)),(0,ra.jsx)("div",{ref:p})]}),(0,ra.jsxs)("div",{className:"p-4 border-t border-slate-700 flex gap-2",children:[(0,ra.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&f(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500"}),(0,ra.jsx)("button",{onClick:f,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:(0,ra.jsx)(jo,{})})]})]}):(0,ra.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)(Io,{className:"text-6xl mx-auto mb-4 opacity-50"}),(0,ra.jsx)("p",{children:"Select a chat session to view messages"})]})})})]})}function Rd(e){let{clubId:t}=e;return(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:(0,ra.jsxs)("div",{className:"max-w-[1600px] mx-auto",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 rounded-lg mb-6",children:[(0,ra.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,ra.jsx)(Io,{className:"text-4xl"}),"Staff Chat"]}),(0,ra.jsx)("p",{className:"text-white/80 mt-2",children:"Communicate with staff members in real-time"})]}),(0,ra.jsx)(Ld,{clubId:t})]})})}function Od(e){let{activeItem:t,setActiveItem:s,menuItems:l=[],onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=localStorage.getItem("clubId"),{data:b}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p}),g=JSON.parse(localStorage.getItem("user")||"{}"),f=g.email||"hr@pokerroom.com",v=g.displayName||"HR Manager",y=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-purple-500 to-pink-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-purple-500/20 via-pink-600/30 to-rose-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-300 to-rose-400 drop-shadow-lg mb-6",children:"HR Portal"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"flex items-center text-white min-w-0 cursor-pointer hover:opacity-90 transition-opacity p-2 -m-2 rounded-lg",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,ra.jsx)("span",{className:"text-gray-900 font-bold text-sm",children:"HR"})}),(0,ra.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold truncate",children:v}),(0,ra.jsx)("div",{className:"text-sm opacity-80 truncate",children:f})]})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):y.mutate({email:f,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:y.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:y.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),b&&b.code&&(0,ra.jsx)("div",{className:"mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:b.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map((e,a)=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-purple-400 to-pink-600 text-gray-900 font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-purple-400/20 hover:to-pink-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},a))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function Md(){const[e,t]=(0,a.useState)("Staff Management"),s=pe(),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("hruser")||"{}");(e.mustResetPassword||t.mustResetPassword)&&r(!0)},[]);const o=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("hruser")||"{}");t.mustResetPassword=!1,localStorage.setItem("hruser",JSON.stringify(t)),r(!1),i({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),d=l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("hruser")||"{}"),a=t.email||s.email;a?n.currentPassword&&n.newPassword&&n.confirmPassword?n.newPassword===n.confirmPassword?n.newPassword.length<8?Sl.error("Password must be at least 8 characters"):o.mutate({email:a,currentPassword:n.currentPassword,newPassword:n.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:n.currentPassword,onChange:e=>i(c(c({},n),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:n.newPassword,onChange:e=>i(c(c({},n),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:n.confirmPassword,onChange:e=>i(c(c({},n),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:o.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:o.isLoading?"Resetting...":"Reset Password"})]})]})}),[u,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=localStorage.getItem("clubId");e&&m(e)},[]);const x=[{id:"S001",name:"Sarah Johnson",position:"Dealer",department:"Operations",email:"sarah.j@email.com",phone:"+91 98765 43210",startDate:"2024-01-15",status:"Active",documents:[{type:"PAN Card",status:"Verified",uploadedDate:"2024-01-10"},{type:"Aadhaar Card",status:"Verified",uploadedDate:"2024-01-10"},{type:"ID Card",status:"Verified",uploadedDate:"2024-01-15"},{type:"Medical Certificate",status:"Verified",uploadedDate:"2024-01-12"}]},{id:"S002",name:"Mike Chen",position:"Floor Manager",department:"Operations",email:"mike.c@email.com",phone:"+91 98765 43211",startDate:"2023-11-20",status:"Active",documents:[{type:"PAN Card",status:"Verified",uploadedDate:"2023-11-15"},{type:"Passport",status:"Verified",uploadedDate:"2023-11-15"},{type:"Experience Certificate",status:"Pending Review",uploadedDate:"2024-01-20"},{type:"ID Card",status:"Verified",uploadedDate:"2023-11-20"}]},{id:"S003",name:"Emma Davis",position:"Cashier",department:"Operations",email:"emma.d@email.com",phone:"+91 98765 43212",startDate:"2024-02-01",status:"On Leave",documents:[{type:"PAN Card",status:"Verified",uploadedDate:"2024-01-28"},{type:"Aadhaar Card",status:"Verified",uploadedDate:"2024-01-28"},{type:"Medical Certificate",status:"Verified",uploadedDate:"2024-02-01"},{type:"ID Card",status:"Verified",uploadedDate:"2024-02-01"}]},{id:"S004",name:"John Smith",position:"Security",department:"Security",email:"john.s@email.com",phone:"+91 98765 43213",startDate:"2023-12-10",status:"Active",documents:[{type:"PAN Card",status:"Verified",uploadedDate:"2023-12-05"},{type:"Driving License",status:"Verified",uploadedDate:"2023-12-05"},{type:"ID Card",status:"Verified",uploadedDate:"2023-12-10"}]},{id:"S005",name:"David Wilson",position:"Dealer",department:"Operations",email:"david.w@email.com",phone:"+91 98765 43214",startDate:"2024-01-20",status:"Active",documents:[{type:"PAN Card",status:"Verified",uploadedDate:"2024-01-18"},{type:"ID Card",status:"Verified",uploadedDate:"2024-01-20"}]},{id:"S006",name:"Lisa Brown",position:"Kitchen Staff",department:"Kitchen",email:"lisa.b@email.com",phone:"+91 98765 43215",startDate:"2024-02-05",status:"Active",documents:[{type:"PAN Card",status:"Verified",uploadedDate:"2024-02-03"},{type:"Aadhaar Card",status:"Verified",uploadedDate:"2024-02-03"},{type:"ID Card",status:"Verified",uploadedDate:"2024-02-05"}]}],[h]=(0,a.useState)((new Date).toISOString().split("T")[0]),[p,b]=(0,a.useState)(()=>x.map(e=>({staffId:e.id,staffName:e.name,position:e.position,department:e.department,date:h,loginTime:"",logoutTime:"",status:"pending"}))),[g,f]=(0,a.useState)([{id:"SR001",staffId:"S001",staffName:"Sarah Johnson",requestType:"leave",subject:"Leave Application",message:"I need to take leave on 2024-01-25 for personal reasons.",leaveStartDate:"2024-01-25",leaveEndDate:"2024-01-26",leaveType:"Personal Leave",status:"pending",submittedDate:new Date(Date.now()-1728e5).toISOString(),hrResponse:null},{id:"SR002",staffId:"S002",staffName:"Mike Chen",requestType:"chat",subject:"Need to discuss schedule",message:"Can we discuss my upcoming schedule change?",status:"in_progress",submittedDate:new Date(Date.now()-864e5).toISOString(),hrResponse:"Sure, let's schedule a meeting."},{id:"SR003",staffId:"S003",staffName:"Emma Davis",requestType:"leave",subject:"Medical Leave Request",message:"I need medical leave for upcoming surgery.",leaveStartDate:"2024-02-05",leaveEndDate:"2024-02-10",leaveType:"Medical Leave",status:"approved",submittedDate:new Date(Date.now()-432e6).toISOString(),hrResponse:"Approved. Please submit medical certificate."}]),[v,y]=(0,a.useState)("all"),[w,j]=(0,a.useState)(null),[N,S]=(0,a.useState)(""),[C,k]=(0,a.useState)("pending"),[P,T]=(0,a.useState)(null),[I,D]=(0,a.useState)(!1),[E,A]=(0,a.useState)(""),[L,R]=(0,a.useState)(null),[O,M]=(0,a.useState)(""),[F,_]=(0,a.useState)([{id:1,name:"Rahul Sharma",documentType:"PAN Card",docUrl:"#",status:"Pending",submittedDate:"2024-02-20",playerId:"P001",documentNumber:"ABCDE1234F",email:"rahul@example.com",phone:"+91 9876543210"},{id:2,name:"Priya Patel",documentType:"Aadhaar",docUrl:"#",status:"Pending",submittedDate:"2024-02-21",playerId:"P002",documentNumber:"1234 5678 9012",email:"priya@example.com",phone:"+91 9876543211"}]),[z,q]=(0,a.useState)([{id:1,name:"Amit Kumar",playerId:"P003",fields:[{field:"Phone Number",oldValue:"+91 9876543210",newValue:"+91 9123456780"},{field:"Address",oldValue:"Old Address",newValue:"New Address"}],status:"Pending",requestedDate:"2024-02-22"},{id:2,name:"Sneha Gupta",playerId:"P004",fields:[{field:"Email",oldValue:"sneha.old@test.com",newValue:"sneha.new@test.com"}],status:"Pending",requestedDate:"2024-02-23"}]),[U,B]=(0,a.useState)([{id:"P001",name:"John Doe",email:"john.doe@example.com",phone:"+91 9876543210",status:"Active",kycStatus:"Verified",registrationDate:"2024-01-15",referredBy:"Agent X",balance:5e3},{id:"P002",name:"Jane Smith",email:"jane.smith@example.com",phone:"+91 9876543211",status:"Active",kycStatus:"Pending",registrationDate:"2024-01-10",referredBy:"Agent Y",balance:2500},{id:"P003",name:"Rajesh Kumar",email:"rajesh@example.com",phone:"+91 9876543212",status:"Suspended",kycStatus:"Verified",registrationDate:"2024-01-08",referredBy:"Agent Z",balance:0},{id:"P004",name:"Priya Sharma",email:"priya@example.com",phone:"+91 9876543213",status:"Pending Approval",kycStatus:"Pending",registrationDate:"2024-01-20",referredBy:"Agent A",balance:0}]),[W,H]=(0,a.useState)([{id:1,name:"Rajesh Kumar",email:"rajesh@example.com",phone:"+91 9876543212",registrationDate:"2024-02-18",status:"Pending",referredBy:"Agent X"},{id:2,name:"Meera Singh",email:"meera@example.com",phone:"+91 9876543213",registrationDate:"2024-02-19",status:"Pending",referredBy:"Agent Y"}]),[V,J]=(0,a.useState)([{id:1,name:"Vikram Patel",email:"vikram@example.com",reason:"Suspicious Activity",suspensionDate:"2024-02-15",status:"Suspended",duration:"temporary",suspensionDays:7}]),[K,Q]=(0,a.useState)([{id:"PC001",playerId:"P001",playerName:"Alex Johnson",status:"open",lastMessage:"Need assistance with account",lastMessageTime:new Date(Date.now()-18e4).toISOString(),messages:[{id:"M1",sender:"player",senderName:"Alex Johnson",text:"Need assistance with account",timestamp:new Date(Date.now()-18e4).toISOString()}],createdAt:new Date(Date.now()-6e5).toISOString()}]),[G,$]=(0,a.useState)([{id:"SC001",staffId:"ST001",staffName:"Sarah Johnson",staffRole:"Dealer",status:"open",lastMessage:"Need assistance with schedule",lastMessageTime:new Date(Date.now()-3e5).toISOString(),messages:[{id:"M3",sender:"staff",senderName:"Sarah Johnson",text:"Need assistance with schedule",timestamp:new Date(Date.now()-3e5).toISOString()}],createdAt:new Date(Date.now()-3e5).toISOString()}]);(0,a.useEffect)(()=>{const e=(new Date).toISOString().split("T")[0];h!==e&&b(x.map(t=>({staffId:t.id,staffName:t.name,position:t.position,department:t.department,date:e,loginTime:"",logoutTime:"",status:"pending"})))},[h]);const Y="all"===v?g:g.filter(e=>e.status===v),X=(e,t)=>{T(s=>{const a=[...s.documents];return a[e]=c(c({},a[e]),{},{status:t}),c(c({},s),{},{documents:a})});x.map(s=>{if(s.id===P.id){const a=[...s.documents];return a[e]=c(c({},a[e]),{},{status:t}),c(c({},s),{},{documents:a})}return s});alert('Document status updated to "'.concat(t,'"'))};(0,a.useEffect)(()=>{P||(D(!1),A(""),R(null),M(""))},[P]);const Z=()=>{s("/hr/signin")};return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white font-sans",children:[(0,ra.jsxs)("div",{className:"flex",children:[(0,ra.jsx)(Od,{activeItem:e,setActiveItem:t,menuItems:["Staff Management","Salary History","Player Management","Attendance Management","Chat"],onSignOut:Z}),(0,ra.jsx)("main",{className:"flex-1 lg:ml-0 min-w-0",children:(0,ra.jsxs)("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 py-6 sm:py-10 space-y-8",children:[(0,ra.jsxs)("header",{className:"bg-gradient-to-r from-purple-600 via-pink-500 to-rose-400 p-6 rounded-xl shadow-md flex justify-between items-center mt-16 lg:mt-0",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["HR Portal - ",e]}),(0,ra.jsx)("p",{className:"text-gray-200 mt-1",children:"Staff management, attendance, and performance"})]}),(0,ra.jsx)("button",{onClick:Z,className:"bg-red-600 hover:bg-red-500 text-white font-semibold px-4 py-2 rounded-lg shadow",children:"Sign Out"})]}),"Staff Management"===e&&(0,ra.jsx)(Id,{selectedClubId:u}),"Salary History"===e&&(0,ra.jsx)(Ed,{selectedClubId:u}),"Player Management"===e&&(0,ra.jsx)(Dd,{selectedClubId:u}),"Attendance Management"===e&&(0,ra.jsx)(Ad,{selectedClubId:u}),"Chat"===e&&(0,ra.jsx)(Rd,{clubId:u}),!1,"Staff Directory"===e&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-cyan-600/30 via-blue-500/20 to-indigo-700/30 rounded-xl shadow-md border border-cyan-800/40",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Staff Directory"}),(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg border border-blue-400/30",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.name}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("Active"===e.status?"bg-green-500/30 text-green-300":"bg-yellow-500/30 text-yellow-300"),children:e.status})]}),(0,ra.jsxs)("div",{className:"space-y-1",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Position: ",e.position]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Department: ",e.department]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Email: ",e.email]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Phone: ",e.phone]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Start Date: ",e.startDate]})]}),(0,ra.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,ra.jsx)("button",{className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,ra.jsx)("button",{onClick:()=>T(e),className:"bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded text-sm",children:"View Details"})]})]},e.id))})]}),P&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-black rounded-xl shadow-2xl border border-purple-500/30 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Staff Details"}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Complete information for ",P.name]})]}),(0,ra.jsx)("button",{onClick:()=>T(null),className:"text-white/70 hover:text-white text-2xl font-bold",children:"\xd7"})]})}),(0,ra.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 border-b border-white/10 pb-2",children:"Basic Information"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Staff ID"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.id})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Full Name"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Position"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.position})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Department"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.department})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Email"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.email})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Phone"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.phone})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Start Date"}),(0,ra.jsx)("div",{className:"text-white font-medium",children:P.startDate})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-sm",children:"Status"}),(0,ra.jsx)("div",{children:(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs border font-medium ".concat("Active"===P.status?"bg-green-500/30 text-green-300 border-green-400/50":"bg-yellow-500/30 text-yellow-300 border-yellow-400/50"),children:P.status})})]})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between mb-4 border-b border-white/10 pb-2",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Document Management"}),(0,ra.jsx)("button",{onClick:()=>D(!I),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:I?"Cancel Upload":"\u2795 Upload Document"})]}),I&&(0,ra.jsxs)("div",{className:"bg-white/5 p-4 rounded-lg border border-indigo-400/30 mb-4",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Upload New Document"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Document Type"}),(0,ra.jsxs)(CustomSelect,{className:"w-full",value:E,onChange:e=>A(e.target.value),children:[(0,ra.jsx)("option",{value:"",children:"Select Document Type"}),(0,ra.jsx)("option",{value:"ID Card",children:"ID Card"}),(0,ra.jsx)("option",{value:"PAN Card",children:"PAN Card"}),(0,ra.jsx)("option",{value:"Aadhaar Card",children:"Aadhaar Card"}),(0,ra.jsx)("option",{value:"Passport",children:"Passport"}),(0,ra.jsx)("option",{value:"Driving License",children:"Driving License"}),(0,ra.jsx)("option",{value:"Educational Certificate",children:"Educational Certificate"}),(0,ra.jsx)("option",{value:"Experience Certificate",children:"Experience Certificate"}),(0,ra.jsx)("option",{value:"Medical Certificate",children:"Medical Certificate"}),(0,ra.jsx)("option",{value:"Contract Document",children:"Contract Document"}),(0,ra.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Upload Document"}),(0,ra.jsxs)("div",{className:"mt-1 border-2 border-dashed border-white/30 rounded-lg p-6 text-center hover:border-indigo-400/50 transition-colors",children:[(0,ra.jsx)("input",{type:"file",id:"document-upload",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{const t=e.target.files[0];t&&(R(t),M(t.name),t.size>10485760&&(alert("File size should be less than 10MB"),R(null),M(""),e.target.value=""))}}),(0,ra.jsxs)("label",{htmlFor:"document-upload",className:"cursor-pointer",children:[(0,ra.jsx)("div",{className:"text-white mb-2",children:O?"\ud83d\udcc4 ".concat(O):"Click to upload or drag and drop"}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:"PNG, JPG, PDF up to 10MB"})]})]})]}),(0,ra.jsx)("button",{onClick:()=>{if(!E||!L)return void alert("Please select document type and upload a file");const e={type:E,status:"Pending Review",uploadedDate:(new Date).toISOString().split("T")[0]};T(t=>c(c({},t),{},{documents:[...t.documents||[],e]}));x.map(t=>t.id===P.id?c(c({},t),{},{documents:[...t.documents||[],e]}):t);alert('Document "'.concat(E,'" uploaded successfully for ').concat(P.name)),A(""),R(null),M(""),D(!1)},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-semibold",children:"Upload Document"})]})]}),P.documents&&P.documents.length>0?(0,ra.jsx)("div",{className:"space-y-3",children:P.documents.map((e,t)=>(0,ra.jsx)("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10",children:(0,ra.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ra.jsx)("div",{className:"text-white font-medium",children:e.type}),(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs border font-medium ".concat("Verified"===e.status?"bg-green-500/30 text-green-300 border-green-400/50":"Pending Review"===e.status?"bg-yellow-500/30 text-yellow-300 border-yellow-400/50":"bg-red-500/30 text-red-300 border-red-400/50"),children:e.status})]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Uploaded: ",e.uploadedDate]})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,ra.jsx)("button",{onClick:()=>alert("Viewing document: ".concat(e.type)),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-sm",children:"\ud83d\udc41\ufe0f View"}),(0,ra.jsx)("button",{onClick:()=>alert("Downloading document: ".concat(e.type)),className:"bg-purple-600 hover:bg-purple-500 text-white px-3 py-1 rounded text-sm",children:"\u2b07\ufe0f Download"}),"Verified"!==e.status&&(0,ra.jsx)("button",{onClick:()=>X(t,"Verified"),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1 rounded text-sm",children:"\u2713 Verify"}),"Pending Review"===e.status&&(0,ra.jsx)("button",{onClick:()=>X(t,"Rejected"),className:"bg-red-600 hover:bg-red-500 text-white px-3 py-1 rounded text-sm",children:"\u2717 Reject"}),"Verified"===e.status&&(0,ra.jsx)("button",{onClick:()=>X(t,"Pending Review"),className:"bg-yellow-600 hover:bg-yellow-500 text-white px-3 py-1 rounded text-sm",children:"\u21bb Reset"})]})]})},t))}):(0,ra.jsxs)("div",{className:"text-center py-8 text-gray-400 border border-white/10 rounded-lg bg-white/5",children:[(0,ra.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc4"}),(0,ra.jsx)("div",{children:"No documents uploaded yet"}),(0,ra.jsx)("div",{className:"text-sm mt-2",children:'Click "Upload Document" to add a new document'})]})]}),(0,ra.jsx)("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:()=>T(null),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white px-4 py-3 rounded-lg font-semibold",children:"Close"})})]})]})})]}),"Staff Requests"===e&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-blue-600/30 via-indigo-500/20 to-purple-700/30 rounded-xl shadow-md border border-blue-800/40",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Staff Requests & Applications"}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Filter by Status"}),(0,ra.jsxs)(CustomSelect,{className:"w-full md:w-64",value:v,onChange:e=>y(e.target.value),children:[(0,ra.jsx)("option",{value:"all",children:"All Requests"}),(0,ra.jsx)("option",{value:"pending",children:"Pending"}),(0,ra.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,ra.jsx)("option",{value:"approved",children:"Approved"}),(0,ra.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,ra.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Staff Requests (",Y.length,")"]}),(0,ra.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:Y.length>0?Y.map(e=>(0,ra.jsxs)("div",{onClick:()=>{j(e),S(e.hrResponse||""),k(e.status)},className:"p-4 rounded-lg border cursor-pointer transition-all ".concat((null===w||void 0===w?void 0:w.id)===e.id?"bg-gradient-to-r from-blue-500/30 to-purple-500/30 border-blue-400/50":"bg-white/5 border-white/10 hover:bg-white/10"),children:[(0,ra.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("div",{className:"font-semibold text-white",children:e.staffName}),(0,ra.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.staffId]})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("approved"===e.status?"bg-green-500/30 text-green-300":"rejected"===e.status?"bg-red-500/30 text-red-300":"in_progress"===e.status?"bg-blue-500/30 text-blue-300":"bg-yellow-500/30 text-yellow-300"),children:"approved"===e.status?"Approved":"rejected"===e.status?"Rejected":"in_progress"===e.status?"In Progress":"Pending"})]}),(0,ra.jsx)("div",{className:"text-sm text-white font-medium mb-1",children:"leave"===e.requestType?"\ud83d\udcc5 Leave Application":"\ud83d\udcac Chat Request"}),(0,ra.jsxs)("div",{className:"text-xs text-gray-300 mb-1",children:["Subject: ",e.subject]}),"leave"===e.requestType&&(0,ra.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Leave: ",e.leaveStartDate," to ",e.leaveEndDate," (",e.leaveType,")"]}),(0,ra.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Submitted: ",new Date(e.submittedDate).toLocaleDateString("en-IN")]})]},e.id)):(0,ra.jsxs)("div",{className:"text-center py-12 text-gray-400",children:["No ","all"!==v?v:""," requests found"]})})]}),(0,ra.jsx)("div",{className:"bg-white/10 p-4 rounded-lg",children:w?(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Request Details"}),(0,ra.jsxs)("div",{className:"space-y-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Staff Member"}),(0,ra.jsxs)("div",{className:"text-white font-medium",children:[w.staffName," (ID: ",w.staffId,")"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Request Type"}),(0,ra.jsx)("div",{className:"text-white",children:"leave"===w.requestType?"\ud83d\udcc5 Leave Application":"\ud83d\udcac Chat Request"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Subject"}),(0,ra.jsx)("div",{className:"text-white",children:w.subject})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Message"}),(0,ra.jsx)("div",{className:"text-white bg-white/5 p-3 rounded border border-white/10",children:w.message})]}),"leave"===w.requestType&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Leave Type"}),(0,ra.jsx)("div",{className:"text-white",children:w.leaveType})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Start Date"}),(0,ra.jsx)("div",{className:"text-white",children:w.leaveStartDate})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"End Date"}),(0,ra.jsx)("div",{className:"text-white",children:w.leaveEndDate})]})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Submitted"}),(0,ra.jsx)("div",{className:"text-white",children:new Date(w.submittedDate).toLocaleString("en-IN")})]})]})]}),w.hrResponse&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-gray-400 text-xs",children:"Previous HR Response"}),(0,ra.jsx)("div",{className:"text-white bg-blue-500/20 p-3 rounded border border-blue-400/30",children:w.hrResponse})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"HR Response"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-gray-400",rows:"4",placeholder:"Enter your response...",value:N,onChange:e=>S(e.target.value)})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Status"}),(0,ra.jsxs)(CustomSelect,{className:"w-full",value:C,onChange:e=>k(e.target.value),children:[(0,ra.jsx)("option",{value:"pending",children:"Pending"}),(0,ra.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,ra.jsx)("option",{value:"approved",children:"Approved"}),(0,ra.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,ra.jsx)("button",{onClick:()=>{w&&N.trim()?(f(e=>e.map(e=>e.id===w.id?c(c({},e),{},{hrResponse:N.trim(),status:C}):e)),alert("Request ".concat("approved"===C?"approved":"rejected"===C?"rejected":"updated"," successfully")),j(null),S(""),k("pending")):alert("Please enter a response")},className:"w-full bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold",children:"Submit Response"})]}):(0,ra.jsx)("div",{className:"flex items-center justify-center h-full min-h-[400px] text-gray-400",children:(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udccb"}),(0,ra.jsx)("div",{className:"text-lg",children:"Select a request to view details and respond"})]})})})]})]}),(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-purple-600/30 via-pink-500/20 to-rose-700/30 rounded-xl shadow-md border border-purple-800/40",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Request Summary"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg text-center",children:[(0,ra.jsx)("div",{className:"text-2xl font-bold text-yellow-300",children:g.filter(e=>"pending"===e.status).length}),(0,ra.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:"Pending"})]}),(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg text-center",children:[(0,ra.jsx)("div",{className:"text-2xl font-bold text-blue-300",children:g.filter(e=>"in_progress"===e.status).length}),(0,ra.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:"In Progress"})]}),(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg text-center",children:[(0,ra.jsx)("div",{className:"text-2xl font-bold text-green-300",children:g.filter(e=>"approved"===e.status).length}),(0,ra.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:"Approved"})]}),(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg text-center",children:[(0,ra.jsx)("div",{className:"text-2xl font-bold text-red-300",children:g.filter(e=>"rejected"===e.status).length}),(0,ra.jsx)("div",{className:"text-sm text-gray-300 mt-1",children:"Rejected"})]})]})]})]}),"Performance Reviews"===e&&(0,ra.jsx)("div",{className:"space-y-6",children:(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-orange-600/30 via-red-500/20 to-pink-700/30 rounded-xl shadow-md border border-orange-800/40",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Performance Reviews"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Schedule Review"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm",children:"Staff Member"}),(0,ra.jsxs)("select",{className:"w-full mt-1 px-3 py-2 bg-white/10 border border-white/20 rounded text-white",children:[(0,ra.jsx)("option",{children:"Sarah Johnson - Dealer"}),(0,ra.jsx)("option",{children:"Mike Chen - Floor Manager"}),(0,ra.jsx)("option",{children:"Emma Davis - Cashier"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm",children:"Review Type"}),(0,ra.jsxs)("select",{className:"w-full mt-1 px-3 py-2 bg-white/10 border border-white/20 rounded text-white",children:[(0,ra.jsx)("option",{children:"Monthly Review"}),(0,ra.jsx)("option",{children:"Quarterly Review"}),(0,ra.jsx)("option",{children:"Annual Review"}),(0,ra.jsx)("option",{children:"Probation Review"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm",children:"Review Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full mt-1 px-3 py-2 bg-white/10 border border-white/20 rounded text-white"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm",children:"Reviewer"}),(0,ra.jsxs)("select",{className:"w-full mt-1 px-3 py-2 bg-white/10 border border-white/20 rounded text-white",children:[(0,ra.jsx)("option",{children:"HR Manager"}),(0,ra.jsx)("option",{children:"Operations Manager"}),(0,ra.jsx)("option",{children:"General Manager"})]})]}),(0,ra.jsx)("button",{className:"w-full bg-orange-600 hover:bg-orange-500 text-white px-4 py-2 rounded-lg font-semibold",children:"Schedule Review"})]})]}),(0,ra.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Upcoming Reviews"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("div",{className:"bg-orange-500/20 p-3 rounded-lg border border-orange-400/30",children:[(0,ra.jsx)("div",{className:"font-semibold text-white",children:"Sarah Johnson"}),(0,ra.jsx)("div",{className:"text-sm text-gray-300",children:"Monthly Review - Due: 2024-01-25"}),(0,ra.jsx)("div",{className:"text-xs text-orange-300",children:"Status: Scheduled"})]}),(0,ra.jsxs)("div",{className:"bg-orange-500/20 p-3 rounded-lg border border-orange-400/30",children:[(0,ra.jsx)("div",{className:"font-semibold text-white",children:"Mike Chen"}),(0,ra.jsx)("div",{className:"text-sm text-gray-300",children:"Quarterly Review - Due: 2024-02-01"}),(0,ra.jsx)("div",{className:"text-xs text-orange-300",children:"Status: Pending"})]}),(0,ra.jsxs)("div",{className:"bg-orange-500/20 p-3 rounded-lg border border-orange-400/30",children:[(0,ra.jsx)("div",{className:"font-semibold text-white",children:"Emma Davis"}),(0,ra.jsx)("div",{className:"text-sm text-gray-300",children:"Probation Review - Due: 2024-02-15"}),(0,ra.jsx)("div",{className:"text-xs text-orange-300",children:"Status: Scheduled"})]})]})]})]})]})})]})})]}),d]})}const Fd=["Dashboard","Payroll Management","Bonus Management","Tables & Waitlist","Club Buy-In","Push Notifications","Tournaments","Chat","Financial Overrides"];function _d(e){let{activeItem:t,setActiveItem:s,menuItems:l=Fd,onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=localStorage.getItem("clubId"),{data:b}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p}),g=JSON.parse(localStorage.getItem("user")||"{}"),f=g.email||"cashier@pokerroom.com",v=g.displayName||"Cashier",y=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-green-500/20 via-emerald-600/30 to-teal-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-emerald-300 to-teal-400 drop-shadow-lg mb-6",children:"Cashier Portal"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"flex items-center text-white min-w-0 cursor-pointer hover:opacity-90 transition-opacity p-2 -m-2 rounded-lg",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,ra.jsx)("span",{className:"text-gray-900 font-bold text-sm",children:"C"})}),(0,ra.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold truncate",children:v}),(0,ra.jsx)("div",{className:"text-sm opacity-80 truncate",children:f})]})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):y.mutate({email:f,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:y.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:y.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),b&&b.code&&(0,ra.jsx)("div",{className:"mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:b.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map((e,a)=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-green-400 to-emerald-600 text-gray-900 font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-green-400/20 hover:to-emerald-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},a))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function zd(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(1),[u,m]=(0,a.useState)({search:"",startDate:"",endDate:"",staffId:""}),[x,h]=(0,a.useState)({staffId:"",payPeriod:"Weekly",baseSalary:"",overtimeHours:"",overtimeAmount:"",deductions:"",periodStartDate:"",periodEndDate:"",notes:""}),{data:p}=Si({queryKey:["payroll-staff",t],queryFn:()=>Zr(t),enabled:!!t}),{data:b,isLoading:g}=Si({queryKey:["salary-payments",t,o,u],queryFn:()=>Xr(t,c({page:o,limit:10},u)),enabled:!!t}),f=Ti({mutationFn:e=>Yr(t,e),onSuccess:()=>{Sl.success("Salary processed successfully!"),s.invalidateQueries(["salary-payments",t]),r(!1),v()},onError:e=>{Sl.error(e.message||"Failed to process salary")}}),v=()=>{h({staffId:"",payPeriod:"Weekly",baseSalary:"",overtimeHours:"",overtimeAmount:"",deductions:"",periodStartDate:"",periodEndDate:"",notes:""}),i(null)},y=(null===p||void 0===p?void 0:p.staff)||[],w=(null===b||void 0===b?void 0:b.payments)||[],j=(null===b||void 0===b?void 0:b.totalPages)||1,N=(null===b||void 0===b?void 0:b.total)||0;return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Employee Salary Processing"}),(0,ra.jsxs)("div",{className:"text-white",children:["Total Records: ",N]})]}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-4",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"Name or email...",value:u.search,onChange:e=>m(c(c({},u),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:u.startDate,onChange:e=>m(c(c({},u),{},{startDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:u.endDate,onChange:e=>m(c(c({},u),{},{endDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Employee"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:u.staffId,onChange:e=>m(c(c({},u),{},{staffId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Employees"}),y.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Employee to Process Salary"}),(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-h-60 overflow-y-auto",children:y.map(e=>(0,ra.jsxs)("button",{onClick:()=>(e=>{i(e),h(c(c({},x),{},{staffId:e.id})),r(!0)})(e),className:"bg-slate-700 hover:bg-slate-600 p-4 rounded-lg text-left transition-colors",children:[(0,ra.jsx)("div",{className:"text-white font-semibold",children:e.name}),(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:e.role}),(0,ra.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.email})]},e.id))})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Salary Payment History"}),g?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===w.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No salary payments found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Employee"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Period"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Pay Period"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Base Salary"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Overtime"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Deductions"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Net Amount"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"})]})}),(0,ra.jsx)("tbody",{children:w.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:null===(t=e.staff)||void 0===t?void 0:t.name}),(0,ra.jsxs)("td",{className:"text-white p-3 text-sm",children:[new Date(e.periodStartDate).toLocaleDateString()," -"," ",new Date(e.periodEndDate).toLocaleDateString()]}),(0,ra.jsx)("td",{className:"text-white p-3",children:e.payPeriod}),(0,ra.jsxs)("td",{className:"text-right text-white p-3",children:["\u20b9",Number(e.baseSalary).toFixed(2)]}),(0,ra.jsxs)("td",{className:"text-right text-green-400 p-3",children:["+\u20b9",Number(e.overtimeAmount).toFixed(2)]}),(0,ra.jsxs)("td",{className:"text-right text-red-400 p-3",children:["-\u20b9",Number(e.deductions).toFixed(2)]}),(0,ra.jsxs)("td",{className:"text-right text-white font-semibold p-3",children:["\u20b9",Number(e.netAmount).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-white p-3",children:new Date(e.paymentDate).toLocaleDateString()})]},e.id)})})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(o-1)+1," to ",Math.min(10*o,N)," of ",N," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===o,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(j)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>d(t+1),className:"px-4 py-2 rounded-lg ".concat(o===t+1?"bg-purple-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>d(e=>Math.min(j,e+1)),disabled:o===j,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/90 to-pink-900/90 rounded-xl p-6 max-w-2xl w-full border border-purple-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Process Staff Salary"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Select Staff Member *"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:x.staffId,onChange:e=>{const t=null===p||void 0===p?void 0:p.staff.find(t=>t.id===e.target.value);h(c(c({},x),{},{staffId:e.target.value})),i(t)},children:[(0,ra.jsx)("option",{value:"",children:"Select an option"}),y.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name," - ",e.role]},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Pay Period *"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:x.payPeriod,onChange:e=>h(c(c({},x),{},{payPeriod:e.target.value})),children:[(0,ra.jsx)("option",{value:"Weekly",children:"Weekly"}),(0,ra.jsx)("option",{value:"Bi-weekly",children:"Bi-weekly"}),(0,ra.jsx)("option",{value:"Monthly",children:"Monthly"})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Period Start Date *"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:x.periodStartDate,onChange:e=>h(c(c({},x),{},{periodStartDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Period End Date *"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",value:x.periodEndDate,onChange:e=>h(c(c({},x),{},{periodEndDate:e.target.value}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Base Salary *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"\u20b90.00",value:x.baseSalary,onChange:e=>h(c(c({},x),{},{baseSalary:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Overtime Hours"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"0",value:x.overtimeHours,onChange:e=>h(c(c({},x),{},{overtimeHours:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Overtime Amount"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"\u20b90.00",value:x.overtimeAmount,onChange:e=>h(c(c({},x),{},{overtimeAmount:e.target.value}))})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Deductions"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500",placeholder:"\u20b90.00",value:x.deductions,onChange:e=>h(c(c({},x),{},{deductions:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Notes"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-purple-800/50 border border-purple-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500 h-20",placeholder:"Additional notes...",value:x.notes,onChange:e=>h(c(c({},x),{},{notes:e.target.value}))})]}),x.baseSalary&&(0,ra.jsxs)("div",{className:"bg-purple-800/30 border border-purple-500 rounded-lg p-4",children:[(0,ra.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Calculation Summary"}),(0,ra.jsxs)("div",{className:"space-y-1 text-white",children:[(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{children:"Base Salary:"}),(0,ra.jsxs)("span",{children:["\u20b9",Number(x.baseSalary||0).toFixed(2)]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,ra.jsx)("span",{children:"Overtime:"}),(0,ra.jsxs)("span",{children:["+\u20b9",Number(x.overtimeAmount||0).toFixed(2)]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-red-400",children:[(0,ra.jsx)("span",{children:"Deductions:"}),(0,ra.jsxs)("span",{children:["-\u20b9",Number(x.deductions||0).toFixed(2)]})]}),(0,ra.jsxs)("div",{className:"flex justify-between font-bold text-lg border-t border-purple-500 pt-2 mt-2",children:[(0,ra.jsx)("span",{children:"Net Amount:"}),(0,ra.jsxs)("span",{children:["\u20b9",(Number(x.baseSalary||0)+Number(x.overtimeAmount||0)-Number(x.deductions||0)).toFixed(2)]})]})]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{x.staffId&&x.baseSalary&&x.periodStartDate&&x.periodEndDate?f.mutate(c(c({},x),{},{baseSalary:Number(x.baseSalary),overtimeHours:x.overtimeHours?Number(x.overtimeHours):0,overtimeAmount:x.overtimeAmount?Number(x.overtimeAmount):0,deductions:x.deductions?Number(x.deductions):0})):Sl.error("Please fill in all required fields")},disabled:f.isLoading,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:f.isLoading?"Processing...":"Process Salary"}),(0,ra.jsx)("button",{onClick:()=>{r(!1),v()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}function qd(e){let{selectedClubId:t}=e;return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Payroll Management"})}),(0,ra.jsx)(zd,{selectedClubId:t})]})}const Ud=["Welcome Bonus","Loyalty Bonus","Referral Bonus","Tournament Bonus","Special Event Bonus","Custom"],Bd=["Performance Bonus","Attendance Bonus","Special Achievement","Holiday Bonus","Year-end Bonus","Custom"];function Wd(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)("player"),[r,n]=(0,a.useState)("process");return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Bonus Management"})}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>{l("player"),n("process")},className:"px-6 py-3 font-semibold transition-colors ".concat("player"===s?"text-white border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:"Player Bonus"}),(0,ra.jsx)("button",{onClick:()=>{l("staff"),n("process")},className:"px-6 py-3 font-semibold transition-colors ".concat("staff"===s?"text-white border-b-2 border-pink-500":"text-gray-400 hover:text-white"),children:"Staff Bonus"})]}),"player"===s&&(0,ra.jsx)(Hd,{selectedClubId:t,activeSubTab:r,setActiveSubTab:n}),"staff"===s&&(0,ra.jsx)(Vd,{selectedClubId:t,activeSubTab:r,setActiveSubTab:n})]})}function Hd(e){let{selectedClubId:t,activeSubTab:s,setActiveSubTab:l}=e;const r=ia(),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(1),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)({search:"",startDate:"",endDate:"",playerId:""}),[g,f]=(0,a.useState)({playerId:"",bonusType:"",customBonusType:"",bonusAmount:"",reason:""}),{data:v}=Si({queryKey:["bonus-players",t,x],queryFn:()=>cn(t,x||void 0),enabled:!!t}),{data:y,isLoading:w}=Si({queryKey:["player-bonuses",t,u,p],queryFn:()=>dn(t,c({page:u,limit:10},p)),enabled:!!t&&"history"===s}),j=Ti({mutationFn:e=>on(t,e),onSuccess:()=>{Sl.success("Player bonus processed successfully!"),r.invalidateQueries(["player-bonuses",t]),i(!1),d(null),N()},onError:e=>{Sl.error(e.message||"Failed to process bonus")}}),N=()=>{f({playerId:"",bonusType:"",customBonusType:"",bonusAmount:"",reason:""})},S=(null===v||void 0===v?void 0:v.players)||[],C=(null===y||void 0===y?void 0:y.bonuses)||[],k=(null===y||void 0===y?void 0:y.totalPages)||1,P=(null===y||void 0===y?void 0:y.total)||0;return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>l("process"),className:"px-6 py-3 font-semibold transition-colors ".concat("process"===s?"text-white border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:"Process Bonus"}),(0,ra.jsx)("button",{onClick:()=>l("history"),className:"px-6 py-3 font-semibold transition-colors ".concat("history"===s?"text-white border-b-2 border-orange-500":"text-gray-400 hover:text-white"),children:"Bonus History"})]}),"process"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4",children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"\ud83d\udd0d Search Player (Type at least 3 characters)"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",placeholder:"Search by name, email, phone number, or player ID...",value:x,onChange:e=>h(e.target.value)}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Only KYC approved/verified players are shown"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udc64 Click a Player to Process Bonus"}),0===S.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:x.length>=3?"No players found matching your search":x.length>0?"Type at least 3 characters to search":"No KYC approved players found"}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:S.map(e=>(0,ra.jsxs)("button",{onClick:()=>(e=>{d(e),f(c(c({},g),{},{playerId:e.id})),i(!0)})(e),className:"bg-gradient-to-r from-orange-900/30 to-amber-900/30 border border-orange-700 rounded-lg p-4 hover:from-orange-800/40 hover:to-amber-800/40 transition-all text-left",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold text-lg",children:e.name}),(0,ra.jsx)("p",{className:"text-sm text-orange-400 mt-1",children:e.email}),e.playerId&&(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.playerId]}),e.phoneNumber&&(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Phone: ",e.phoneNumber]})]},e.id))})]})]}),"history"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-4",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",placeholder:"Name, email, or ID...",value:p.search,onChange:e=>b(c(c({},p),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",value:p.startDate,onChange:e=>b(c(c({},p),{},{startDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",value:p.endDate,onChange:e=>b(c(c({},p),{},{endDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Player"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",value:p.playerId,onChange:e=>b(c(c({},p),{},{playerId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Players"}),S.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4",children:[(0,ra.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Bonus History (Total: ",P,")"]}),w?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===C.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No bonuses found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Player"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Bonus Type"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Amount"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Reason"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"})]})}),(0,ra.jsx)("tbody",{children:C.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:null===(t=e.player)||void 0===t?void 0:t.name}),(0,ra.jsx)("td",{className:"text-white p-3",children:e.bonusType}),(0,ra.jsxs)("td",{className:"text-right text-orange-400 font-semibold p-3",children:["\u20b9",Number(e.bonusAmount).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.reason||"-"}),(0,ra.jsx)("td",{className:"text-white p-3",children:new Date(e.processedAt).toLocaleDateString()})]},e.id)})})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(u-1)+1," to ",Math.min(10*u,P)," of ",P," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>m(e=>Math.max(1,e-1)),disabled:1===u,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(k)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>m(t+1),className:"px-4 py-2 rounded-lg ".concat(u===t+1?"bg-orange-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>m(e=>Math.min(k,e+1)),disabled:u===k,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-orange-900/90 to-amber-900/90 rounded-xl p-6 max-w-md w-full border border-orange-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83d\udcb0 Process Player Bonus"}),o&&(0,ra.jsxs)("div",{className:"bg-orange-900/30 border border-orange-600 rounded-lg p-4 mb-4",children:[(0,ra.jsx)("div",{className:"text-xs text-orange-400 mb-1",children:"Processing bonus for:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold text-xl",children:o.name}),(0,ra.jsx)("p",{className:"text-sm text-orange-300 mt-1",children:o.email})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Bonus Type *"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-orange-800/50 border border-orange-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",value:g.bonusType,onChange:e=>f(c(c({},g),{},{bonusType:e.target.value,customBonusType:""})),children:[(0,ra.jsx)("option",{value:"",children:"Select Bonus Type"}),Ud.map(e=>(0,ra.jsx)("option",{value:e,children:e},e))]})]}),"Custom"===g.bonusType&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Bonus Type Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-orange-800/50 border border-orange-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",placeholder:"Enter custom bonus type name...",value:g.customBonusType,onChange:e=>f(c(c({},g),{},{customBonusType:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Bonus Amount (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-orange-800/50 border border-orange-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500",placeholder:"\u20b90.00",value:g.bonusAmount,onChange:e=>f(c(c({},g),{},{bonusAmount:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Reason"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-orange-800/50 border border-orange-600 rounded-lg text-white focus:ring-2 focus:ring-orange-500 h-20",placeholder:"Bonus reason...",value:g.reason,onChange:e=>f(c(c({},g),{},{reason:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{g.playerId&&g.bonusType&&g.bonusAmount?"Custom"!==g.bonusType||g.customBonusType?j.mutate({playerId:g.playerId,bonusType:"Custom"===g.bonusType?g.customBonusType:g.bonusType,bonusAmount:Number(g.bonusAmount),reason:g.reason||void 0}):Sl.error("Please enter custom bonus type name"):Sl.error("Please fill in all required fields")},disabled:j.isLoading,className:"flex-1 bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-500 hover:to-amber-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:j.isLoading?"Processing...":"Process Bonus"}),(0,ra.jsx)("button",{onClick:()=>{i(!1),d(null),N()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}function Vd(e){let{selectedClubId:t,activeSubTab:s,setActiveSubTab:l}=e;const r=ia(),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(1),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)({search:"",startDate:"",endDate:"",staffId:""}),[g,f]=(0,a.useState)({staffId:"",bonusType:"",customBonusType:"",bonusAmount:"",reason:""}),{data:v}=Si({queryKey:["bonus-staff",t,x],queryFn:()=>xn(t,x||void 0),enabled:!!t}),{data:y,isLoading:w}=Si({queryKey:["staff-bonuses",t,u,p],queryFn:()=>mn(t,c({page:u,limit:10},p)),enabled:!!t&&"history"===s}),j=Ti({mutationFn:e=>un(t,e),onSuccess:()=>{Sl.success("Staff bonus processed successfully!"),r.invalidateQueries(["staff-bonuses",t]),i(!1),d(null),N()},onError:e=>{Sl.error(e.message||"Failed to process bonus")}}),N=()=>{f({staffId:"",bonusType:"",customBonusType:"",bonusAmount:"",reason:""})},S=(null===v||void 0===v?void 0:v.staff)||[],C=(null===y||void 0===y?void 0:y.bonuses)||[],k=(null===y||void 0===y?void 0:y.totalPages)||1,P=(null===y||void 0===y?void 0:y.total)||0;return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>l("process"),className:"px-6 py-3 font-semibold transition-colors ".concat("process"===s?"text-white border-b-2 border-pink-500":"text-gray-400 hover:text-white"),children:"Process Bonus"}),(0,ra.jsx)("button",{onClick:()=>l("history"),className:"px-6 py-3 font-semibold transition-colors ".concat("history"===s?"text-white border-b-2 border-pink-500":"text-gray-400 hover:text-white"),children:"Bonus History"})]}),"process"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4",children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"\ud83d\udd0d Search Staff Member (Type at least 3 characters)"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",placeholder:"Search by name, email, phone number, or employee ID...",value:x,onChange:e=>h(e.target.value)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udc64 Click a Staff Member to Process Bonus"}),0===S.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:x.length>=3?"No staff members found matching your search":x.length>0?"Type at least 3 characters to search":"No staff members found"}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:S.map(e=>(0,ra.jsxs)("button",{onClick:()=>(e=>{d(e),f(c(c({},g),{},{staffId:e.id})),i(!0)})(e),className:"bg-gradient-to-r from-pink-900/30 to-rose-900/30 border border-pink-700 rounded-lg p-4 hover:from-pink-800/40 hover:to-rose-800/40 transition-all text-left",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold text-lg",children:e.name}),(0,ra.jsx)("p",{className:"text-sm text-pink-400 mt-1",children:e.email||"No email"}),(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Role: ",e.role]}),e.phone&&(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Phone: ",e.phone]}),e.employeeId&&(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",e.employeeId]})]},e.id))})]})]}),"history"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-4",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",placeholder:"Name, email, or ID...",value:p.search,onChange:e=>b(c(c({},p),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",value:p.startDate,onChange:e=>b(c(c({},p),{},{startDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",value:p.endDate,onChange:e=>b(c(c({},p),{},{endDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Staff"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",value:p.staffId,onChange:e=>b(c(c({},p),{},{staffId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Staff"}),S.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-4",children:[(0,ra.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Bonus History (Total: ",P,")"]}),w?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===C.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No bonuses found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Staff"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Bonus Type"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Amount"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Reason"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"})]})}),(0,ra.jsx)("tbody",{children:C.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:null===(t=e.staff)||void 0===t?void 0:t.name}),(0,ra.jsx)("td",{className:"text-white p-3",children:e.bonusType}),(0,ra.jsxs)("td",{className:"text-right text-pink-400 font-semibold p-3",children:["\u20b9",Number(e.bonusAmount).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.reason||"-"}),(0,ra.jsx)("td",{className:"text-white p-3",children:new Date(e.processedAt).toLocaleDateString()})]},e.id)})})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(u-1)+1," to ",Math.min(10*u,P)," of ",P," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>m(e=>Math.max(1,e-1)),disabled:1===u,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(k)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>m(t+1),className:"px-4 py-2 rounded-lg ".concat(u===t+1?"bg-pink-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>m(e=>Math.min(k,e+1)),disabled:u===k,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-pink-900/90 to-rose-900/90 rounded-xl p-6 max-w-md w-full border border-pink-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83d\udcb0 Process Staff Bonus"}),o&&(0,ra.jsxs)("div",{className:"bg-pink-900/30 border border-pink-600 rounded-lg p-4 mb-4",children:[(0,ra.jsx)("div",{className:"text-xs text-pink-400 mb-1",children:"Processing bonus for:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold text-xl",children:o.name}),(0,ra.jsx)("p",{className:"text-sm text-pink-300 mt-1",children:o.email||"No email"}),(0,ra.jsxs)("p",{className:"text-xs text-pink-400 mt-1",children:["Role: ",o.role]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Bonus Type *"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-pink-800/50 border border-pink-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",value:g.bonusType,onChange:e=>f(c(c({},g),{},{bonusType:e.target.value,customBonusType:""})),children:[(0,ra.jsx)("option",{value:"",children:"Select Bonus Type"}),Bd.map(e=>(0,ra.jsx)("option",{value:e,children:e},e))]})]}),"Custom"===g.bonusType&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Custom Bonus Type Name *"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-pink-800/50 border border-pink-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",placeholder:"Enter custom bonus type name...",value:g.customBonusType,onChange:e=>f(c(c({},g),{},{customBonusType:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Bonus Amount (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-pink-800/50 border border-pink-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500",placeholder:"\u20b90.00",value:g.bonusAmount,onChange:e=>f(c(c({},g),{},{bonusAmount:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Reason"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-pink-800/50 border border-pink-600 rounded-lg text-white focus:ring-2 focus:ring-pink-500 h-20",placeholder:"Bonus reason...",value:g.reason,onChange:e=>f(c(c({},g),{},{reason:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{g.staffId&&g.bonusType&&g.bonusAmount?"Custom"!==g.bonusType||g.customBonusType?j.mutate({staffId:g.staffId,bonusType:"Custom"===g.bonusType?g.customBonusType:g.bonusType,bonusAmount:Number(g.bonusAmount),reason:g.reason||void 0}):Sl.error("Please enter custom bonus type name"):Sl.error("Please fill in all required fields")},disabled:j.isLoading,className:"flex-1 bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-500 hover:to-rose-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:j.isLoading?"Processing...":"Process Bonus"}),(0,ra.jsx)("button",{onClick:()=>{i(!1),d(null),N()},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}function Jd(e){let{selectedPlayer:t,onSelect:s,clubId:l,placeholder:r="Search by name, ID, or email...",label:n="Search Player"}=e;const[i,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),{data:m=[],isLoading:x}=Si({queryKey:["approvedPlayers",l],queryFn:async()=>{if(!l)return[];const e=[];let t=1;let s=!0;for(;s;)try{const a=await In.getPlayers(l,{limit:50,page:t}),r=(null===a||void 0===a?void 0:a.players)||[];if(!r||0===r.length){s=!1;break}const n=r.filter(e=>("approved"===e.kycStatus||"verified"===e.kycStatus)&&"Active"===e.status);e.push(...n),r.length<50?s=!1:(t++,t>20&&(s=!1))}catch(a){console.error("Error fetching page ".concat(t,":"),a),s=!1}return e},enabled:!!l}),h=m.filter(e=>{if(!i||i.length<1)return!1;const t=i.toLowerCase();return e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phoneNumber&&e.phoneNumber.includes(i)||e.playerId&&e.playerId.toLowerCase().includes(t)}).slice(0,10);(0,a.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return(0,ra.jsxs)("div",{className:"relative",ref:u,children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2",children:[n," ",(0,ra.jsx)("span",{className:"text-gray-400 text-sm",children:"(KYC Verified Players Only)"})]}),(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)("input",{type:"text",value:t?"".concat(t.name," (").concat(t.email,")"):i,onChange:e=>{const a=e.target.value;t&&s(null),o(a),c(!0)},onFocus:()=>{!i&&t||c(!0)},placeholder:r,readOnly:!!t,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),t&&(0,ra.jsx)("button",{type:"button",onClick:()=>{s(null),o(""),c(!1)},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white text-xl leading-none",title:"Clear selection",children:"\xd7"})]}),d&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,ra.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-slate-700 rounded-lg max-h-64 overflow-y-auto shadow-xl border border-slate-600",children:x?(0,ra.jsx)("div",{className:"px-4 py-3 text-gray-400 text-sm",children:(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ra.jsx)("span",{children:"Loading approved players (searching all pages)..."})]})}):0===h.length?(0,ra.jsx)("div",{className:"px-4 py-3 text-gray-400 text-sm",children:i.length<1?"Start typing to search approved players...":"No approved players found matching your search"}):h.map(e=>(0,ra.jsxs)("button",{type:"button",onClick:()=>(e=>{s(e),o(""),c(!1)})(e),className:"w-full px-4 py-3 text-left hover:bg-slate-600 transition-colors border-b border-slate-600 last:border-b-0",children:[(0,ra.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:e.email}),e.phoneNumber&&(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:e.phoneNumber}),e.playerId&&(0,ra.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["ID: ",e.playerId]})]},e.id))})]}),t&&(0,ra.jsxs)("div",{className:"mt-2 p-3 bg-green-500/10 border border-green-500 rounded-lg",children:[(0,ra.jsx)("div",{className:"text-green-400 font-medium",children:t.name}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:t.email}),t.phoneNumber&&(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:t.phoneNumber})]})]})}function Kd(e){var t;let{selectedClubId:s,onBack:l}=e;const r=ia(),[n,i]=(0,a.useState)("buy-in"),[o,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)("Cash"),[h,p]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[f,v]=(0,a.useState)(null),[y,w]=(0,a.useState)(""),[j,N]=(0,a.useState)("1"),[S,C]=(0,a.useState)(""),[k,P]=(0,a.useState)(!1),[T,I]=(0,a.useState)(null),{data:D}=Si({queryKey:["playerBalance",s,null===f||void 0===f?void 0:f.id],queryFn:()=>In.getPlayerBalance(s,f.id),enabled:!!s&&!!f}),{data:E=[]}=Si({queryKey:["recentBuyIns",s],queryFn:async()=>(await In.getTransactions(s)).filter(e=>"Deposit"===e.type||"Buy In"===e.type).slice(0,10),enabled:!!s}),{data:A=[]}=Si({queryKey:["playersWithBalance",s],queryFn:async()=>{if(!s)return[];const e=[];let t=1;let a=!0;for(;a;)try{const l=await In.getPlayers(s,{limit:50,page:t}),r=(null===l||void 0===l?void 0:l.players)||[];if(!r||0===r.length){a=!1;break}const n=r.filter(e=>("approved"===e.kycStatus||"verified"===e.kycStatus)&&"Active"===e.status);e.push(...n),r.length<50?a=!1:(t++,t>20&&(a=!1))}catch(l){console.error("Error fetching page ".concat(t,":"),l),a=!1}return e},enabled:!!s&&"cash-out"===n}),L=Ti({mutationFn:async e=>await In.createTransaction(s,{type:"Deposit",playerId:e.playerId,playerName:e.playerName,amount:parseFloat(e.amount),notes:e.notes}),onSuccess:()=>{Sl.success("Buy-in processed successfully! Player balance updated."),r.invalidateQueries(["recentBuyIns",s]),r.invalidateQueries(["playerBalance"]),r.invalidateQueries(["clubPlayers",s]),d(null),u(""),x("Cash"),p(""),g("")},onError:e=>{Sl.error(e.message||"Failed to process buy-in")}}),R=Ti({mutationFn:async e=>await In.createTransaction(s,{type:"Cashout",playerId:e.playerId,playerName:e.playerName,amount:parseFloat(e.amount),notes:e.notes}),onSuccess:()=>{Sl.success("Cash-out processed successfully! Player balance updated."),r.invalidateQueries(["recentBuyIns",s]),r.invalidateQueries(["playerBalance"]),r.invalidateQueries(["clubPlayers",s]),r.invalidateQueries(["playersWithBalance",s]),v(null),w(""),N("1"),C(""),P(!1),I(null)},onError:e=>{Sl.error(e.message||"Failed to process cash-out")}});return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Club Buy-In & Cash Out"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Manage player transactions and balance updates"})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mb-6 border-b border-gray-700",children:[(0,ra.jsx)("button",{onClick:()=>i("buy-in"),className:"px-6 py-3 font-semibold transition-colors ".concat("buy-in"===n?"text-white border-b-2 border-green-500 bg-green-500/10":"text-gray-400 hover:text-white"),children:"Club Buy-In"}),(0,ra.jsx)("button",{onClick:()=>i("cash-out"),className:"px-6 py-3 font-semibold transition-colors ".concat("cash-out"===n?"text-white border-b-2 border-blue-500 bg-blue-500/10":"text-gray-400 hover:text-white"),children:"Cash Out"})]}),"buy-in"===n&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 shadow-xl",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Club Buy-In - Purchase Chips"}),(0,ra.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o)return void Sl.error("Please select a player");if(!c||parseFloat(c)<=0)return void Sl.error("Please enter a valid buy-in amount");const t=parseFloat(c);if(t>1e7)return void Sl.error("Amount cannot exceed \u20b910,000,000");const s=[b,"Payment: ".concat(m),h?"Ref: ".concat(h):""].filter(Boolean).join(" | ");L.mutate({playerId:o.id,playerName:o.name,amount:t,notes:s})},children:[(0,ra.jsx)("div",{className:"mb-4",children:(0,ra.jsx)(Jd,{selectedPlayer:o,onSelect:d,clubId:s,placeholder:"Search by name, ID, email, or phone...",label:"Search Player"})}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2",children:["Buy-In Amount (\u20b9) ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"number",value:c,onChange:e=>u(e.target.value),placeholder:"\u20b90.00",step:"0.01",min:"0",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:"Enter the amount in real money (INR)"})]}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2",children:["Payment Method ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,ra.jsx)("option",{value:"Cash",children:"Cash"}),(0,ra.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,ra.jsx)("option",{value:"UPI",children:"UPI"}),(0,ra.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,ra.jsx)("option",{value:"Debit Card",children:"Debit Card"}),(0,ra.jsx)("option",{value:"Net Banking",children:"Net Banking"})]})]}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2",children:"Reference/Transaction Number"}),(0,ra.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Enter transaction reference (optional)",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:"For bank transfers, UPI, cards, etc."})]}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2",children:"Notes"}),(0,ra.jsx)("textarea",{value:b,onChange:e=>g(e.target.value),placeholder:"Additional notes (optional)",rows:3,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ra.jsx)("button",{type:"submit",disabled:L.isPending,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:L.isPending?"Processing...":"Process Club Buy-In"})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 shadow-xl",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Club Buy-Ins"}),(0,ra.jsx)("div",{className:"space-y-3",children:0===E.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No recent buy-ins found"}):E.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-700 p-4 rounded-lg hover:bg-slate-600 transition-colors",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"text-white font-semibold",children:e.playerName}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:e.playerId})]}),(0,ra.jsxs)("div",{className:"text-right",children:[(0,ra.jsxs)("div",{className:"text-green-400 font-bold",children:["\u20b9",Number(e.amount).toLocaleString()]}),(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Chips: \u20b9",Number(e.amount).toLocaleString()]})]})]}),e.notes&&(0,ra.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:e.notes.split("|").map((e,t)=>(0,ra.jsx)("div",{children:e.trim()},t))}),(0,ra.jsxs)("div",{className:"text-gray-500 text-xs mt-2",children:["Processed ",new Date(e.createdAt).toLocaleString()]})]},e.id))}),(0,ra.jsxs)("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500 rounded-lg",children:[(0,ra.jsx)("h3",{className:"text-blue-400 font-semibold mb-2",children:"\ud83d\udca1 Buy-In Information"}),(0,ra.jsxs)("ul",{className:"text-gray-300 text-sm space-y-1",children:[(0,ra.jsx)("li",{children:"\u2022 Players purchase chips using real money (INR)"}),(0,ra.jsx)("li",{children:"\u2022 Chips are added to player's available balance"}),(0,ra.jsx)("li",{children:"\u2022 Standard ratio is 1:1 (\u20b91 = 1 chip)"}),(0,ra.jsx)("li",{children:"\u2022 Players can use chips to buy-in at tables"}),(0,ra.jsx)("li",{children:"\u2022 All transactions are recorded for audit"})]})]})]})]}),"cash-out"===n&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 shadow-xl",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Process Cash Out"}),(0,ra.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!f)return void Sl.error("Please select a player");if(!y||parseFloat(y)<=0)return void Sl.error("Please enter a valid cash-out amount");if(!T)return void Sl.error("Please verify balance before processing cash-out");if("error"===T.status)return void Sl.error("Cannot process cash-out with insufficient balance");const t=parseFloat(y),s=parseFloat(j)||1,a=t*s,l=[S,"Conversion Rate: \u20b9".concat(s," per chip"),"Cash Given: \u20b9".concat(a.toLocaleString()),"warning"===T.status?"\u26a0\ufe0f FLAGGED FOR VERIFICATION":"\u2713 Verified"].filter(Boolean).join(" | ");R.mutate({playerId:f.id,playerName:f.name,amount:t,notes:l})},children:[(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)(Jd,{selectedPlayer:f,onSelect:e=>{v(e),I(null),P(!1)},clubId:s,placeholder:"Search by name, ID, email, or phone...",label:"Search Player"}),f&&D&&(0,ra.jsxs)("div",{className:"mt-2 p-3 bg-blue-500/10 border border-blue-500 rounded-lg",children:[(0,ra.jsx)("div",{className:"text-blue-400 font-medium",children:f.name}),(0,ra.jsx)("div",{className:"text-gray-400 text-sm",children:f.email}),(0,ra.jsxs)("div",{className:"mt-2 pt-2 border-t border-blue-500/30",children:[(0,ra.jsxs)("div",{className:"text-white text-sm",children:["Available Balance: ",(0,ra.jsxs)("span",{className:"font-bold",children:["\u20b9",(null===(t=D.availableBalance)||void 0===t?void 0:t.toLocaleString())||0]})]}),D.tableBalance>0&&(0,ra.jsxs)("div",{className:"text-yellow-400 text-sm",children:["Table Balance: \u20b9",D.tableBalance.toLocaleString()]})]})]})]}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2",children:["Cash-Out Amount (Chips) ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"number",value:y,onChange:e=>{w(e.target.value),I(null)},placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2",children:"Conversion Rate (\u20b9 per chip)"}),(0,ra.jsx)("input",{type:"number",value:j,onChange:e=>N(e.target.value),placeholder:"1",step:"0.01",min:"0",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,ra.jsxs)("div",{className:"text-gray-400 text-sm mt-1",children:["Default: 1 chip = \u20b91 \u2022 Cash to give: \u20b9",(parseFloat(y||0)*parseFloat(j||1)).toLocaleString()]})]}),f&&y&&(0,ra.jsx)("button",{type:"button",onClick:async()=>{if(!f||!y)return void Sl.error("Please select a player and enter amount");const e=parseFloat(y);if(!D)return void Sl.error("Unable to fetch player balance");const t=D.availableBalance||0,s=D.tableBalance||0,a=D.totalBalance||0;Math.abs(e-t)<.01?(I({status:"success",message:"Balance verification successful",availableBalance:t,tableBalance:s,totalBalance:a}),P(!1),Sl.success("Balance verified! You can proceed with cash-out.")):e>a?(I({status:"error",message:"Insufficient balance",availableBalance:t,tableBalance:s,totalBalance:a}),P(!0),Sl.error("Cash-out amount exceeds player's total balance!")):e>t?(I({status:"warning",message:"Player has chips at table",availableBalance:t,tableBalance:s,totalBalance:a}),P(!0),Sl.warning("Player has chips at table. Collect table chips first.")):(I({status:"warning",message:"Amount mismatch - flagged for review",availableBalance:t,tableBalance:s,totalBalance:a}),P(!0),Sl.warning("Balance mismatch detected. Transaction will be flagged for verification."))},className:"w-full mb-4 bg-yellow-500 text-black py-2 rounded-lg font-semibold hover:bg-yellow-600 transition-all",children:"\ud83d\udd0d Verify Balance Before Cash-Out"}),T&&(0,ra.jsxs)("div",{className:"mb-4 p-4 rounded-lg border ".concat("success"===T.status?"bg-green-500/10 border-green-500":"error"===T.status?"bg-red-500/10 border-red-500":"bg-yellow-500/10 border-yellow-500"),children:[(0,ra.jsxs)("div",{className:"font-semibold mb-2 ".concat("success"===T.status?"text-green-400":"error"===T.status?"text-red-400":"text-yellow-400"),children:["success"===T.status?"\u2713":"\u26a0\ufe0f"," ",T.message]}),(0,ra.jsxs)("div",{className:"text-gray-300 text-sm space-y-1",children:[(0,ra.jsxs)("div",{children:["Available: \u20b9",T.availableBalance.toLocaleString()]}),(0,ra.jsxs)("div",{children:["At Table: \u20b9",T.tableBalance.toLocaleString()]}),(0,ra.jsxs)("div",{children:["Total: \u20b9",T.totalBalance.toLocaleString()]}),(0,ra.jsxs)("div",{children:["Requested: \u20b9",parseFloat(y).toLocaleString()]})]})]}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2",children:"Notes"}),(0,ra.jsx)("textarea",{value:S,onChange:e=>C(e.target.value),placeholder:"Additional notes (optional)",rows:3,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ra.jsx)("button",{type:"submit",disabled:R.isPending||!T,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:R.isPending?"Processing...":"Process Cash Out"})]})]}),(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 shadow-xl",children:[(0,ra.jsx)("h3",{className:"text-blue-400 font-semibold mb-3 flex items-center gap-2",children:"\ud83d\udca1 How Cash Out Works:"}),(0,ra.jsxs)("ul",{className:"text-gray-300 text-sm space-y-2",children:[(0,ra.jsx)("li",{children:"\u2022 Select a player who has chips in their available balance"}),(0,ra.jsx)("li",{children:"\u2022 System validates balance consistency across three sources:"}),(0,ra.jsx)("li",{className:"ml-4",children:"- Player Portal Balance"}),(0,ra.jsx)("li",{className:"ml-4",children:"- Table Buy-Out Balance Records"}),(0,ra.jsx)("li",{className:"ml-4",children:"- Cashier/SuperAdmin View Balance"}),(0,ra.jsx)("li",{children:"\u2022 Enter the amount of chips to convert to real money"}),(0,ra.jsx)("li",{children:"\u2022 Set conversion rate (default: 1 chip = \u20b91)"}),(0,ra.jsx)("li",{children:"\u2022 Chips are deducted from player's balance, real money is paid out"})]})]}),(0,ra.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-yellow-400 font-semibold mb-3 flex items-center gap-2",children:"\u26a0\ufe0f Balance Validation:"}),(0,ra.jsxs)("ul",{className:"text-gray-300 text-sm space-y-2",children:[(0,ra.jsx)("li",{children:"\u2022 System automatically checks if balances match across all sources"}),(0,ra.jsx)("li",{children:"\u2022 If mismatch detected, transaction is flagged with warning"}),(0,ra.jsx)("li",{children:"\u2022 Review flagged transactions carefully before processing"}),(0,ra.jsx)("li",{children:"\u2022 Contact system administrator if balance discrepancies persist"})]})]}),(0,ra.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-blue-400 font-semibold mb-3 flex items-center gap-2",children:"\ud83d\udca1 Important Notes:"}),(0,ra.jsxs)("ul",{className:"text-gray-300 text-sm space-y-2",children:[(0,ra.jsx)("li",{children:"\u2022 Cash out is permanent - chips cannot be recovered"}),(0,ra.jsx)("li",{children:"\u2022 Conversion rate can be adjusted based on club policy"}),(0,ra.jsx)("li",{children:"\u2022 Always verify player identity before processing cash out"}),(0,ra.jsx)("li",{children:"\u2022 Keep transaction records for audit purposes"})]})]}),(0,ra.jsxs)("div",{className:"bg-green-500/10 border border-green-500 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-green-400 font-semibold mb-3",children:"Players with Available Balance:"}),(0,ra.jsxs)("div",{className:"text-white text-2xl font-bold",children:[A.length," player(s) have chips available for cash out"]})]})]})]})]})}function Qd(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)("players"),[r,n]=(0,a.useState)("dealer-cashout"),[i,o]=(0,a.useState)(1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[b,g]=(0,a.useState)({amount:"",reason:""}),[f,v]=(0,a.useState)({reason:""}),y=ia(),{data:w,isLoading:j}=Si({queryKey:["financial-overrides",t,s,r,i],queryFn:()=>fn(t,{category:"players"===s?"player":"staff",subCategory:"staff"===s?r:void 0,page:i,limit:50}),enabled:!!t}),N=Ti({mutationFn:e=>{let{transactionId:s,data:a}=e;return vn(t,s,a)},onSuccess:()=>{Sl.success("Transaction edited successfully!"),y.invalidateQueries(["financial-overrides",t]),u(!1),p(null),g({amount:"",reason:""})},onError:e=>{Sl.error(e.message||"Failed to edit transaction")}}),S=Ti({mutationFn:e=>{let{transactionId:s,data:a}=e;return yn(t,s,a)},onSuccess:()=>{Sl.success("Transaction cancelled successfully!"),y.invalidateQueries(["financial-overrides",t]),x(!1),p(null),v({reason:""})},onError:e=>{Sl.error(e.message||"Failed to cancel transaction")}}),C=(null===w||void 0===w?void 0:w.transactions)||[],k=(null===w||void 0===w?void 0:w.totalPages)||1,P=(null===w||void 0===w?void 0:w.total)||0,T=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":return"text-green-400";case"pending":return"text-yellow-400";case"cancelled":return"text-red-400";case"failed":return"text-red-500";default:return"text-gray-400"}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Financial Overrides"})}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>{l("players"),o(1)},className:"px-6 py-3 font-semibold transition-colors ".concat("players"===s?"text-white border-b-2 border-cyan-500 bg-cyan-900/20":"text-gray-400 hover:text-white"),children:"\ud83d\udc64 Player Transactions"}),(0,ra.jsx)("button",{onClick:()=>{l("staff"),n("dealer-cashout"),o(1)},className:"px-6 py-3 font-semibold transition-colors ".concat("staff"===s?"text-white border-b-2 border-purple-500 bg-purple-900/20":"text-gray-400 hover:text-white"),children:"\ud83d\udc54 Staff Transactions"})]}),"staff"===s&&(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700 mt-2",children:[(0,ra.jsx)("button",{onClick:()=>{n("dealer-cashout"),o(1)},className:"px-6 py-2 font-semibold transition-colors text-sm ".concat("dealer-cashout"===r?"text-white border-b-2 border-green-500 bg-green-900/20":"text-gray-400 hover:text-white"),children:"\ud83d\udcb5 Dealer Cashouts"}),(0,ra.jsx)("button",{onClick:()=>{n("salary-bonus"),o(1)},className:"px-6 py-2 font-semibold transition-colors text-sm ".concat("salary-bonus"===r?"text-white border-b-2 border-blue-500 bg-blue-900/20":"text-gray-400 hover:text-white"),children:"\ud83d\udcb0 Salary & Bonuses"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,ra.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["players"===s?"Player Transactions":"dealer-cashout"===r?"Dealer Cashouts":"Salary & Bonuses"," ","(",P,")"]})}),j?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===C.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No transactions found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Type"}),(0,ra.jsxs)("th",{className:"text-left text-white font-semibold p-3",children:["players"===s?"Player":"Staff"," Name"]}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Amount"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"Status"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"Actions"})]})}),(0,ra.jsx)("tbody",{children:C.map(e=>{return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsxs)("td",{className:"p-3",children:[(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs capitalize border ".concat((t=e.type,t.includes("Bonus")?"bg-purple-900/30 text-purple-400 border-purple-700":t.includes("Salary")?"bg-blue-900/30 text-blue-400 border-blue-700":t.includes("Deposit")?"bg-green-900/30 text-green-400 border-green-700":t.includes("Cashout")||t.includes("Withdrawal")?"bg-red-900/30 text-red-400 border-red-700":t.includes("Buy In")?"bg-cyan-900/30 text-cyan-400 border-cyan-700":"bg-gray-900/30 text-gray-400 border-gray-700")),children:e.type}),e.isOverridden&&(0,ra.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs bg-orange-900/30 text-orange-400 border border-orange-700",children:"Overridden"})]}),(0,ra.jsx)("td",{className:"text-white p-3",children:e.entityName}),(0,ra.jsx)("td",{className:"text-right p-3",children:(0,ra.jsxs)("div",{className:"flex flex-col items-end",children:[(0,ra.jsxs)("span",{className:"text-white font-semibold",children:["\u20b9",Number(e.amount).toFixed(2)]}),e.originalAmount&&(0,ra.jsxs)("span",{className:"text-xs text-gray-400 line-through",children:["\u20b9",Number(e.originalAmount).toFixed(2)]})]})}),(0,ra.jsx)("td",{className:"text-center p-3",children:(0,ra.jsx)("span",{className:"font-semibold ".concat(T(e.status)),children:e.status})}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:new Date(e.date).toLocaleDateString()}),(0,ra.jsx)("td",{className:"text-center p-3",children:(0,ra.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,ra.jsx)("button",{onClick:()=>(e=>{p(e),g({amount:e.amount.toString(),reason:""}),u(!0)})(e),disabled:"Cancelled"===e.status,className:"px-3 py-1 bg-blue-900/30 hover:bg-blue-800/50 text-blue-400 rounded-lg text-sm border border-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Edit"}),(0,ra.jsx)("button",{onClick:()=>(e=>{p(e),v({reason:""}),x(!0)})(e),disabled:"Cancelled"===e.status,className:"px-3 py-1 bg-red-900/30 hover:bg-red-800/50 text-red-400 rounded-lg text-sm border border-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})})]},e.id);var t})})]})}),k>1&&(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",50*(i-1)+1," to ",Math.min(50*i,P)," of ",P," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===i,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(Math.min(k,5))].map((e,t)=>{const s=i<=3?t+1:i-2+t;return s>k?null:(0,ra.jsx)("button",{onClick:()=>o(s),className:"px-4 py-2 rounded-lg ".concat(i===s?"bg-cyan-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:s},s)})}),(0,ra.jsx)("button",{onClick:()=>o(e=>Math.min(k,e+1)),disabled:i===k,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),d&&h&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-blue-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\u270f\ufe0f Edit Transaction"}),(0,ra.jsxs)("div",{className:"bg-blue-900/30 border border-blue-600 rounded-lg p-4 mb-6",children:[(0,ra.jsx)("div",{className:"text-xs text-blue-400 mb-1",children:"Transaction Details:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold",children:h.type}),(0,ra.jsxs)("p",{className:"text-sm text-blue-300 mt-1",children:["players"===s?"Player":"Staff",": ",h.entityName]}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Current Amount: \u20b9",Number(h.amount).toFixed(2)]}),h.originalAmount&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Original Amount: \u20b9",Number(h.originalAmount).toFixed(2)]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"New Amount (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500",placeholder:"\u20b90.00",value:b.amount,onChange:e=>g(c(c({},b),{},{amount:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Reason for Override *"}),(0,ra.jsx)("textarea",{className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 h-24",placeholder:"Please provide a reason for this override...",value:b.reason,onChange:e=>g(c(c({},b),{},{reason:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{!b.amount||parseFloat(b.amount)<=0?Sl.error("Please enter a valid amount"):b.reason.trim()?N.mutate({transactionId:h.transactionId||h.id,data:{amount:parseFloat(b.amount),reason:b.reason.trim()}}):Sl.error("Please provide a reason for the override")},disabled:N.isLoading,className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:N.isLoading?"Saving...":"Save Changes"}),(0,ra.jsx)("button",{onClick:()=>{u(!1),p(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),m&&h&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-red-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\u274c Cancel Transaction"}),(0,ra.jsxs)("div",{className:"bg-red-900/30 border border-red-600 rounded-lg p-4 mb-6",children:[(0,ra.jsx)("div",{className:"text-xs text-red-400 mb-1",children:"Transaction Details:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold",children:h.type}),(0,ra.jsxs)("p",{className:"text-sm text-red-300 mt-1",children:["players"===s?"Player":"Staff",": ",h.entityName]}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Amount: \u20b9",Number(h.amount).toFixed(2)]})]}),(0,ra.jsx)("div",{className:"space-y-4",children:(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Reason for Cancellation (Optional)"}),(0,ra.jsx)("textarea",{className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 h-24",placeholder:"Please provide a reason for cancellation...",value:f.reason,onChange:e=>v(c(c({},f),{},{reason:e.target.value}))})]})}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{S.mutate({transactionId:h.transactionId||h.id,data:{reason:f.reason.trim()||"Transaction cancelled by admin"}})},disabled:S.isLoading,className:"flex-1 bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:S.isLoading?"Cancelling...":"Cancel Transaction"}),(0,ra.jsx)("button",{onClick:()=>{x(!1),p(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Close"})]})]})})]})}function Gd(e){let{clubId:t}=e;const s=ia(),[l,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(""),{data:c=[],isLoading:u,refetch:m}=Si({queryKey:["buyInRequests",t],queryFn:()=>Bl(t),enabled:!!t,refetchInterval:5e3}),x=Ti({mutationFn:e=>{let{requestId:s,amount:a}=e;return Wl(t,s,{amount:a})},onSuccess:()=>{Sl.success("Buy-in request approved and balance updated!"),s.invalidateQueries(["buyInRequests",t]),r(null)},onError:e=>{Sl.error(e.message||"Failed to approve buy-in request")}}),h=Ti({mutationFn:e=>{let{requestId:s,reason:a}=e;return Hl(t,s,{reason:a})},onSuccess:()=>{Sl.success("Buy-in request rejected!"),s.invalidateQueries(["buyInRequests",t]),r(null),i(!1),d("")},onError:e=>{Sl.error(e.message||"Failed to reject buy-in request")}}),p=e=>{if(!e)return"";return new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},b=c.filter(e=>"pending"===e.status);return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Table Buy-In Requests"}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:[b.length," pending request",1!==b.length?"s":""]})]}),u?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"Loading buy-in requests..."}):0===b.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No pending buy-in requests"}):(0,ra.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-lg p-5 border border-slate-600 hover:border-blue-500 transition-all",children:[(0,ra.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ra.jsx)("h3",{className:"text-lg font-bold text-white",children:e.playerName}),(0,ra.jsx)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-400 rounded text-xs font-semibold",children:"PENDING"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Table:"}),(0,ra.jsx)("span",{className:"text-white ml-2 font-medium",children:e.tableNumber?"Table ".concat(e.tableNumber):"N/A"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Seat:"}),(0,ra.jsx)("span",{className:"text-white ml-2 font-medium",children:e.seatNumber?"Seat ".concat(e.seatNumber):"N/A"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Requested Amount:"}),(0,ra.jsxs)("span",{className:"text-green-400 ml-2 font-bold",children:["\u20b9",Number(e.requestedAmount||0).toLocaleString("en-IN")]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Current Balance:"}),(0,ra.jsxs)("span",{className:"text-white ml-2 font-medium",children:["\u20b9",Number(e.currentTableBalance||0).toLocaleString("en-IN")]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Requested At:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:p(e.requestedAt)})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:e.playerEmail||"N/A"})]})]})]})}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,ra.jsx)("button",{onClick:()=>(e=>{window.confirm("Approve buy-in request for ".concat(e.playerName,"? Amount: \u20b9").concat(Number(e.requestedAmount||0).toLocaleString("en-IN")))&&x.mutate({requestId:e.id,amount:e.requestedAmount||0})})(e),disabled:x.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x.isPending?"Processing...":"\u2713 Approve"}),(0,ra.jsx)("button",{onClick:()=>(e=>{r(e),i(!0)})(e),disabled:h.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2717 Reject"})]})]},e.id))})]}),n&&l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Reject Buy-In Request"}),(0,ra.jsxs)("p",{className:"text-gray-300 mb-4",children:["Rejecting buy-in request for ",(0,ra.jsx)("strong",{children:l.playerName})," (\u20b9",Number(l.requestedAmount||0).toLocaleString("en-IN"),")"]}),(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Reason for Rejection ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"Enter reason for rejection...",className:"w-full bg-slate-700 text-white border border-slate-600 rounded-lg p-3 focus:outline-none focus:border-blue-500",rows:4})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>{i(!1),d(""),r(null)},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Cancel"}),(0,ra.jsx)("button",{onClick:()=>{o.trim()?h.mutate({requestId:l.id,reason:o}):Sl.error("Please provide a reason for rejection")},disabled:!o.trim()||h.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Rejecting...":"Reject Request"})]})]})})]})}function $d(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)("tables"),{data:d,isLoading:c}=Si({queryKey:["tables",t],queryFn:()=>Xl(t),enabled:!!t}),u=d||[],m=u.filter(e=>"AVAILABLE"===e.status||"OCCUPIED"===e.status);return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Tables & Waitlist"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"View-only mode: You can only view live tables"}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>o("tables"),className:"px-6 py-3 font-semibold transition-all ".concat("tables"===i?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:"Live Tables"}),(0,ra.jsx)("button",{onClick:()=>o("buyin-requests"),className:"px-6 py-3 font-semibold transition-all ".concat("buyin-requests"===i?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:"Buy-In Requests"})]}),"buyin-requests"===i?(0,ra.jsx)(Gd,{clubId:t}):(0,ra.jsxs)(ra.Fragment,{children:[!t&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view tables."})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold",children:"Live Tables - View Only"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"View live tables and their status."})]}),(0,ra.jsxs)("div",{className:"bg-slate-700 px-4 py-2 rounded-lg",children:[(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Active Tables: ",m.length]}),(0,ra.jsxs)("div",{className:"text-sm text-gray-300",children:["Total Players: ",m.reduce((e,t)=>e+(t.currentSeats||0),0)]})]})]}),c?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tables..."})]}):0===m.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfb2"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No active tables"})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-700 rounded-xl p-5 border border-slate-600 hover:border-blue-500 transition-all",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Table ",e.tableNumber||e.number]}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:e.tableType||"Cash Game"})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("OCCUPIED"===e.status?"bg-green-600/20 text-green-400":"bg-blue-600/20 text-blue-400"),children:e.status})]}),(0,ra.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Stakes:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:["\u20b9",e.minBuyIn||0,"/\u20b9",e.maxBuyIn||0]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Occupied Seats:"}),(0,ra.jsxs)("span",{className:"text-white font-medium",children:[e.currentSeats||0," / ",e.maxSeats||8]})]}),(0,ra.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Available Seats:"}),(0,ra.jsx)("span",{className:"text-green-400 font-medium",children:e.maxSeats-(e.currentSeats||0)})]})]}),(0,ra.jsxs)("button",{onClick:()=>{l(e),n(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 text-white px-4 py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2",children:[(0,ra.jsx)("span",{children:"\ud83c\udfaf"}),(0,ra.jsx)("span",{children:"View Table Hologram"})]})]},e.id))})]}),r&&s&&(0,ra.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 overflow-y-auto",children:(0,ra.jsx)(wd,{tableId:s.id,onClose:()=>{n(!1),l(null)},isManagerMode:!0,isViewOnly:!0,tables:u})})]})]})}function Yd(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)(null),{data:r,isLoading:n}=Si({queryKey:["tournaments",t],queryFn:()=>Dr(t),enabled:!!t}),i=Array.isArray(r)?r:(null===r||void 0===r?void 0:r.tournaments)||(null===r||void 0===r?void 0:r.data)||[],o=Array.isArray(i)?i:[];return(0,ra.jsxs)("div",{className:"text-white space-y-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold",children:"Tournaments"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"View-only mode: You can only view tournament information"}),!t&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view tournaments."})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Tournament List - View Only"}),n?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading tournaments..."})]}):0===o.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,ra.jsx)("p",{className:"text-xl text-gray-300",children:"No tournaments found"})]}):(0,ra.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,ra.jsx)("div",{className:"bg-slate-700 rounded-xl p-5 border border-slate-600",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h3",{className:"text-lg font-bold text-white",children:e.name||"Tournament"}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Status: ",e.status||"Unknown"]}),e.buyIn&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Buy-In: \u20b9",e.buyIn]}),e.startTime&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Start: ",new Date(e.startTime).toLocaleString()]}),e.prizePool&&(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Prize Pool: \u20b9",e.prizePool]})]}),(0,ra.jsxs)("button",{onClick:()=>l(e),className:"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 text-white px-4 py-2 rounded-lg font-semibold transition-all flex items-center gap-2",children:[(0,ra.jsx)("span",{children:"\ud83d\udc41\ufe0f"}),(0,ra.jsx)("span",{children:"View Details"})]})]})},e.id))})]}),s&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-8 max-w-2xl w-full border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:s.name||"Tournament"}),(0,ra.jsx)("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white transition-colors",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Status"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:s.status||"Unknown"})]}),s.buyIn&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Buy-In"}),(0,ra.jsxs)("p",{className:"text-white font-semibold",children:["\u20b9",s.buyIn]})]}),s.prizePool&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Prize Pool"}),(0,ra.jsxs)("p",{className:"text-white font-semibold",children:["\u20b9",s.prizePool]})]}),s.startTime&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Start Time"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:new Date(s.startTime).toLocaleString()})]}),s.description&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Description"}),(0,ra.jsx)("p",{className:"text-white",children:s.description})]})]})]})})]})}function Xd(){var e,t,s,l,r,n,i,o;const d=pe(),[u,m]=(ia(),(0,a.useState)("Dashboard")),[x,h]=(0,a.useState)(null),[p,b]=(0,a.useState)(null),[g,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=localStorage.getItem("clubId");e?h(e):d("/login")},[d]);const{data:w,isLoading:j}=Si({queryKey:["club",x],queryFn:()=>Al(x),enabled:!!x});(0,a.useEffect)(()=>{w&&b(w)},[w]),(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("cashieruser")||"{}");e.id||t.userId?(e.mustResetPassword||t.mustResetPassword)&&f(!0):d("/login")},[d]);const{data:N,isLoading:S}=Si({queryKey:["clubRevenue",x],queryFn:()=>Rl(x),enabled:!!x,refetchInterval:3e4}),C=e=>"\u20b9".concat((e||0).toLocaleString("en-IN")),k=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("cashieruser")||"{}");t.mustResetPassword=!1,localStorage.setItem("cashieruser",JSON.stringify(t)),f(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),P=g&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("cashieruser")||"{}"),a=t.email||s.email;a?v.currentPassword&&v.newPassword&&v.confirmPassword?v.newPassword===v.confirmPassword?v.newPassword.length<8?Sl.error("Password must be at least 8 characters"):k.mutate({email:a,currentPassword:v.currentPassword,newPassword:v.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:v.currentPassword,onChange:e=>y(c(c({},v),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:v.newPassword,onChange:e=>y(c(c({},v),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:v.confirmPassword,onChange:e=>y(c(c({},v),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:k.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:k.isLoading?"Resetting...":"Reset Password"})]})]})});if(j||!x)return(0,ra.jsxs)(ra.Fragment,{children:[P,(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-white text-center",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-xl",children:"Loading club data..."})]})})]});return(0,ra.jsxs)(ra.Fragment,{children:[P,(0,ra.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900",children:[(0,ra.jsx)(_d,{activeItem:u,setActiveItem:m,menuItems:["Dashboard","Payroll Management","Bonus Management","Tables & Waitlist","Club Buy-In","Push Notifications","Tournaments","Chat","Financial Overrides"],onSignOut:()=>{localStorage.clear(),d("/login")}}),(0,ra.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:["Dashboard"===u&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Dashboard - ",(null===p||void 0===p?void 0:p.name)||(null===w||void 0===w?void 0:w.name)||"Loading..."]})}),S?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading revenue data..."})]}):(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:C((null===N||void 0===N||null===(e=N.previousDay)||void 0===e?void 0:e.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===N||void 0===N||null===(t=N.previousDay)||void 0===t?void 0:t.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-600",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:C((null===N||void 0===N||null===(s=N.currentDay)||void 0===s?void 0:s.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===N||void 0===N||null===(l=N.currentDay)||void 0===l?void 0:l.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:C((null===N||void 0===N||null===(r=N.currentDay)||void 0===r?void 0:r.rake)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"10% of revenue"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:C((null===N||void 0===N||null===(n=N.previousDay)||void 0===n?void 0:n.rake)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:C((null===N||void 0===N||null===(i=N.previousDay)||void 0===i?void 0:i.tips)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:C((null===N||void 0===N||null===(o=N.currentDay)||void 0===o?void 0:o.tips)||0)})]})]})]}),"Payroll Management"===u&&(0,ra.jsx)(qd,{selectedClubId:x}),"Bonus Management"===u&&(0,ra.jsx)(Wd,{selectedClubId:x}),"Tables & Waitlist"===u&&(0,ra.jsx)($d,{selectedClubId:x}),"Club Buy-In"===u&&(0,ra.jsx)(Kd,{selectedClubId:x,onBack:()=>m("Dashboard")}),"Push Notifications"===u&&(0,ra.jsx)(Qi,{selectedClubId:x}),"Tournaments"===u&&(0,ra.jsx)(Yd,{selectedClubId:x}),"Chat"===u&&x&&(0,ra.jsx)(Eo,{clubId:x}),"Financial Overrides"===u&&(0,ra.jsx)(Qd,{userRole:"cashier"}),!["Dashboard","Payroll Management","Bonus Management","Tables & Waitlist","Club Buy-In","Push Notifications","Tournaments","Chat","Financial Overrides"].includes(u)&&(0,ra.jsxs)("div",{className:"text-white",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold mb-6",children:u}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"This section is under development."})})]})]})]})]})}function Zd(e){let{clubId:t}=e;const[s,l]=(0,a.useState)("menu"),[r,n]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{"menu"===s?(v(),y()):w()},[t,s]);const v=async()=>{try{m(!0);const e=await ir(t);n(e)}catch(e){console.error("Error loading menu items:",e),alert("Failed to load menu items")}finally{m(!1)}},y=async()=>{try{const e=await yr(t);o(e)}catch(e){console.error("Error loading categories:",e)}},w=async()=>{try{m(!0);const e=await jr(t);c(e)}catch(e){console.error("Error loading inventory:",e),alert("Failed to load inventory")}finally{m(!1)}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsx)("button",{onClick:()=>l("menu"),className:"px-6 py-3 rounded-lg font-semibold ".concat("menu"===s?"bg-orange-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"),children:"Menu Management"}),(0,ra.jsx)("button",{onClick:()=>l("inventory"),className:"px-6 py-3 rounded-lg font-semibold ".concat("inventory"===s?"bg-orange-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"),children:"Inventory Management"})]}),"menu"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsxs)("button",{onClick:()=>h(!0),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\u2795"}),(0,ra.jsx)("span",{children:"Add Menu Item"})]}),(0,ra.jsxs)("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\ud83d\udcc1"}),(0,ra.jsx)("span",{children:"Add Category"})]})]})}),u?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading menu items..."})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,ra.jsx)(ec,{item:e,onEdit:()=>{f(e),h(!0)},onDelete:async()=>{if(window.confirm("Delete this menu item?"))try{await Ir(t,e.id),v()}catch(s){alert("Failed to delete item")}}},e.id))}),0===r.length&&!u&&(0,ra.jsxs)("div",{className:"text-center py-12 bg-slate-800 rounded-xl",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-lg",children:"No menu items yet"}),(0,ra.jsx)("button",{onClick:()=>h(!0),className:"mt-4 text-orange-500 hover:text-orange-400",children:"Add your first menu item"})]})]}),"inventory"===s&&(0,ra.jsx)(ac,{clubId:t,inventory:d,loading:u,onUpdate:w}),x&&(0,ra.jsx)(tc,{clubId:t,categories:i,item:g,onClose:()=>{h(!1),f(null)},onSave:()=>{h(!1),f(null),v()}}),p&&(0,ra.jsx)(sc,{clubId:t,onClose:()=>b(!1),onSave:()=>{b(!1),y()}})]})}function ec(e){let{item:t,onEdit:s,onDelete:a}=e;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl overflow-hidden border border-slate-700 hover:border-orange-500 transition-all",children:[(0,ra.jsxs)("div",{className:"h-48 bg-slate-900 flex overflow-x-auto",children:[t.imageUrl1&&(0,ra.jsx)("img",{src:t.imageUrl1,alt:t.name,className:"h-full w-full object-cover flex-shrink-0"}),t.imageUrl2&&(0,ra.jsx)("img",{src:t.imageUrl2,alt:t.name,className:"h-full w-full object-cover flex-shrink-0"}),t.imageUrl3&&(0,ra.jsx)("img",{src:t.imageUrl3,alt:t.name,className:"h-full w-full object-cover flex-shrink-0"}),!t.imageUrl1&&!t.imageUrl2&&!t.imageUrl3&&(0,ra.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-500",children:(0,ra.jsx)("span",{className:"text-6xl",children:"\ud83c\udf7d\ufe0f"})})]}),(0,ra.jsxs)("div",{className:"p-4 space-y-3",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsx)("h3",{className:"text-lg font-bold text-white",children:t.name}),(e=>{const t={available:{bg:"bg-green-500",text:"Available"},limited:{bg:"bg-yellow-500",text:"Limited"},out_of_stock:{bg:"bg-red-500",text:"Out of Stock"}},s=t[e]||t.available;return(0,ra.jsx)("span",{className:"".concat(s.bg," text-white px-3 py-1 rounded-full text-xs font-semibold"),children:s.text})})(t.availability)]}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm line-clamp-2",children:t.description||"No description"}),(0,ra.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("p",{className:"text-2xl font-bold text-orange-500",children:["\u20b9",t.price]}),(0,ra.jsx)("p",{className:"text-xs text-gray-500",children:t.category})]}),(0,ra.jsx)("div",{className:"text-right",children:(0,ra.jsxs)("p",{className:"text-sm text-gray-400",children:["Stock: ",t.stock]})})]}),(0,ra.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,ra.jsx)("button",{onClick:s,className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Edit"}),(0,ra.jsx)("button",{onClick:a,className:"flex-1 bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Delete"})]})]})]})}function tc(e){let{clubId:t,categories:s,item:l,onClose:r,onSave:n}=e;const[i,o]=(0,a.useState)({name:(null===l||void 0===l?void 0:l.name)||"",category:(null===l||void 0===l?void 0:l.category)||"",isCustomCategory:(null===l||void 0===l?void 0:l.isCustomCategory)||!1,price:(null===l||void 0===l?void 0:l.price)||"",stock:(null===l||void 0===l?void 0:l.stock)||0,description:(null===l||void 0===l?void 0:l.description)||"",availability:(null===l||void 0===l?void 0:l.availability)||"available",imageUrl1:(null===l||void 0===l?void 0:l.imageUrl1)||"",imageUrl2:(null===l||void 0===l?void 0:l.imageUrl2)||"",imageUrl3:(null===l||void 0===l?void 0:l.imageUrl3)||""}),[d,u]=(0,a.useState)({img1:!1,img2:!1,img3:!1}),[m,x]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:l?"Edit Menu Item":"Add Menu Item"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{x(!0),l?await dr(t,l.id,i):await or(t,i),n()}catch(s){alert("Failed to save menu item")}finally{x(!1)}},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Item Name *"}),(0,ra.jsx)("input",{type:"text",required:!0,value:i.name,onChange:e=>o(c(c({},i),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Chicken Biryani"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Category *"}),(0,ra.jsxs)("select",{value:i.category,onChange:e=>{const t="Custom"===e.target.value;o(c(c({},i),{},{category:t?"":e.target.value,isCustomCategory:t}))},className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"",children:"Select Category"}),s.map(e=>(0,ra.jsx)("option",{value:e.categoryName,children:e.categoryName},e.id)),(0,ra.jsx)("option",{value:"Custom",children:"Custom..."})]}),i.isCustomCategory&&(0,ra.jsx)("input",{type:"text",required:!0,value:i.category,onChange:e=>o(c(c({},i),{},{category:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg mt-2",placeholder:"Enter custom category name"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Price (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:i.price,onChange:e=>o(c(c({},i),{},{price:parseFloat(e.target.value)})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Stock"}),(0,ra.jsx)("input",{type:"number",min:"0",value:i.stock,onChange:e=>o(c(c({},i),{},{stock:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Availability *"}),(0,ra.jsxs)("select",{value:i.availability,onChange:e=>o(c(c({},i),{},{availability:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"available",children:"Available"}),(0,ra.jsx)("option",{value:"limited",children:"Limited"}),(0,ra.jsx)("option",{value:"out_of_stock",children:"Out of Stock"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Description"}),(0,ra.jsx)("textarea",{value:i.description,onChange:e=>o(c(c({},i),{},{description:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",rows:"3",placeholder:"Describe the item..."})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Images (up to 3)"}),(0,ra.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(e=>(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("div",{className:"h-32 bg-slate-700 rounded-lg flex items-center justify-center overflow-hidden",children:i["imageUrl".concat(e)]?(0,ra.jsx)("img",{src:i["imageUrl".concat(e)],alt:"Preview ".concat(e),className:"w-full h-full object-cover"}):(0,ra.jsx)("span",{className:"text-gray-500 text-4xl",children:"\ud83d\udcf7"})}),(0,ra.jsx)("input",{type:"file",accept:"image/*",onChange:s=>s.target.files[0]&&(async(e,s)=>{try{u(c(c({},d),{},{["img".concat(s)]:!0}));const a=await kd(e,t,"menu-items");o(c(c({},i),{},{["imageUrl".concat(s)]:a}))}catch(a){console.error("Image upload error:",a),alert("Failed to upload image: "+(a.message||"Unknown error"))}finally{u(c(c({},d),{},{["img".concat(s)]:!1}))}})(s.target.files[0],e),disabled:d["img".concat(e)],className:"w-full text-sm text-gray-400"}),d["img".concat(e)]&&(0,ra.jsx)("p",{className:"text-xs text-orange-500",children:"Uploading..."})]},e))})]}),(0,ra.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:m,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:m?"Saving...":l?"Update Item":"Add Item"}),(0,ra.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function sc(e){let{clubId:t,onClose:s,onSave:l}=e;const[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add Custom Category"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o(!0),await wr(t,r),l()}catch(s){alert("Failed to create category")}finally{o(!1)}},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Category Name *"}),(0,ra.jsx)("input",{type:"text",required:!0,value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Special Items"})]}),(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:i,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:i?"Adding...":"Add Category"}),(0,ra.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function ac(e){let{clubId:t,inventory:s,loading:l,onUpdate:r}=e;const[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1);return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 p-4 rounded-lg flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-white font-semibold",children:"End of Day Stock Update"}),(0,ra.jsx)("p",{className:"text-white/80 text-sm",children:"Update inventory levels after service"})]}),(0,ra.jsx)("button",{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-lg font-semibold",children:"+ Add Inventory Item"})]}),l?(0,ra.jsx)("div",{className:"text-center py-12",children:(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"})}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>{const t=(s=e.currentStock,a=e.minStock,0===s?{color:"text-red-500",label:"Out of Stock",bg:"bg-red-500/20"}:s<=a?{color:"text-yellow-500",label:"Critical",bg:"bg-yellow-500/20"}:s<=2*a?{color:"text-orange-500",label:"Low",bg:"bg-orange-500/20"}:{color:"text-green-500",label:"Good",bg:"bg-green-500/20"});var s,a;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 border border-slate-700 ".concat(t.bg),children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ra.jsx)("h4",{className:"text-white font-bold",children:e.name}),(0,ra.jsx)("span",{className:"text-xs font-semibold ".concat(t.color),children:t.label})]}),(0,ra.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Current Stock:"}),(0,ra.jsxs)("span",{className:"font-bold ".concat(t.color),children:[e.currentStock," ",e.unit]})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Min Stock:"}),(0,ra.jsxs)("span",{className:"text-white",children:[e.minStock," ",e.unit]})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Cost:"}),(0,ra.jsxs)("span",{className:"text-white",children:["\u20b9",e.cost||0]})]})]}),(0,ra.jsx)("button",{onClick:()=>i(e),className:"w-full mt-4 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Update Stock"})]},e.id)})}),n&&(0,ra.jsx)(lc,{clubId:t,item:n,onClose:()=>i(null),onSave:()=>{i(null),r()}}),o&&(0,ra.jsx)(rc,{clubId:t,onClose:()=>d(!1),onSave:()=>{d(!1),r()}})]})}function lc(e){let{clubId:t,item:s,onClose:l,onSave:r}=e;const[n,i]=(0,a.useState)(s.currentStock),[o,d]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Update Stock"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{d(!0),await Sr(t,s.id,{currentStock:n}),r()}catch(a){alert("Failed to update stock")}finally{d(!1)}},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("p",{className:"text-gray-400 mb-4",children:["Item: ",(0,ra.jsx)("span",{className:"text-white font-bold",children:s.name})]}),(0,ra.jsxs)("label",{className:"block text-white mb-2",children:["Current Stock (",s.unit,")"]}),(0,ra.jsx)("input",{type:"number",required:!0,min:"0",value:n,onChange:e=>i(parseInt(e.target.value)),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"}),(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Minimum: ",s.minStock," ",s.unit]})]}),(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:o,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:o?"Updating...":"Update"}),(0,ra.jsx)("button",{type:"button",onClick:l,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function rc(e){let{clubId:t,onClose:s,onSave:l}=e;const[r,n]=(0,a.useState)({name:"",category:"",currentStock:0,minStock:0,supplier:"",cost:0,unit:"units"}),[i,o]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add Inventory Item"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{o(!0),await Nr(t,r),l()}catch(s){console.error("Error creating inventory item:",s),alert("Failed to create inventory item")}finally{o(!1)}},className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Item Name *"}),(0,ra.jsx)("input",{type:"text",required:!0,value:r.name,onChange:e=>n(c(c({},r),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Tomatoes, Flour, etc."})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Category *"}),(0,ra.jsx)("input",{type:"text",required:!0,value:r.category,onChange:e=>n(c(c({},r),{},{category:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Vegetables, Dry Goods, etc."})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Current Stock *"}),(0,ra.jsx)("input",{type:"number",required:!0,min:"0",value:r.currentStock,onChange:e=>n(c(c({},r),{},{currentStock:parseFloat(e.target.value)||0})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Minimum Stock *"}),(0,ra.jsx)("input",{type:"number",required:!0,min:"0",value:r.minStock,onChange:e=>n(c(c({},r),{},{minStock:parseFloat(e.target.value)||0})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Unit"}),(0,ra.jsxs)("select",{value:r.unit,onChange:e=>n(c(c({},r),{},{unit:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"units",children:"Units"}),(0,ra.jsx)("option",{value:"kg",children:"Kilograms (kg)"}),(0,ra.jsx)("option",{value:"g",children:"Grams (g)"}),(0,ra.jsx)("option",{value:"L",children:"Liters (L)"}),(0,ra.jsx)("option",{value:"ml",children:"Milliliters (ml)"}),(0,ra.jsx)("option",{value:"pieces",children:"Pieces"}),(0,ra.jsx)("option",{value:"boxes",children:"Boxes"}),(0,ra.jsx)("option",{value:"packets",children:"Packets"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Cost (\u20b9)"}),(0,ra.jsx)("input",{type:"number",min:"0",step:"0.01",value:r.cost,onChange:e=>n(c(c({},r),{},{cost:parseFloat(e.target.value)||0})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"0.00"})]}),(0,ra.jsxs)("div",{className:"col-span-2",children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Supplier (Optional)"}),(0,ra.jsx)("input",{type:"text",value:r.supplier,onChange:e=>n(c(c({},r),{},{supplier:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"Supplier name"})]})]}),(0,ra.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:i,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:i?"Creating...":"Create Item"}),(0,ra.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function nc(e){let{clubId:t}=e;const[s,l]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(1),[u,m]=(0,a.useState)(1),[x,h]=(0,a.useState)("all"),[p,b]=(0,a.useState)(null),[g,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{w(),j()},[t,x,d]);const w=async()=>{try{o(!0);const e="all"===x?void 0:x,s=await cr(t,e,d,10);s&&Array.isArray(s.orders)?(l(s.orders),m(s.totalPages||1)):Array.isArray(s)?l(s):l([])}catch(e){console.error("Error loading orders:",e),alert("Failed to load orders"),l([])}finally{o(!1)}},j=async()=>{try{const e=await mr(t,!0);n(e)}catch(e){console.error("Error loading stations:",e)}},N=s||[];return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 flex justify-between items-center",children:[(0,ra.jsx)("div",{className:"flex space-x-2",children:["all","pending","processing","ready","delivered","cancelled"].map(e=>(0,ra.jsx)("button",{onClick:()=>{h(e),c(1)},className:"px-4 py-2 rounded-lg font-semibold text-sm ".concat(x===e?"bg-orange-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,ra.jsx)("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\ud83d\udd04 Refresh"})]}),(0,ra.jsxs)("div",{className:"bg-blue-600/20 border border-blue-500 rounded-xl p-4",children:[(0,ra.jsx)("h3",{className:"text-white font-bold mb-2",children:"\ud83d\udccb Order Processing Workflow"}),(0,ra.jsx)("p",{className:"text-blue-200 text-sm",children:"1. Player places order \u2192 2. FNB Manager processes & sends to Chef \u2192 3. Chef prepares food \u2192 4. Status updates visible in Player Portal"})]}),i?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading orders..."})]}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,ra.jsx)(ic,{order:e,onAccept:()=>{b(e),f(!0)},onReject:()=>{b(e),y(!0)},onMarkReady:()=>(async e=>{try{await fr(t,e),alert("Order marked as ready!"),w()}catch(s){alert("Failed to mark order as ready")}})(e.id),onMarkDelivered:()=>(async e=>{try{await vr(t,e),alert("Order delivered! Invoice generated."),w()}catch(s){alert("Failed to mark order as delivered")}})(e.id)},e.id))}),0===N.length&&(0,ra.jsx)("div",{className:"text-center py-12 bg-slate-800 rounded-xl",children:(0,ra.jsx)("p",{className:"text-gray-400 text-lg",children:"No orders found"})}),u>1&&(0,ra.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[(0,ra.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===d,className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"Previous"}),(0,ra.jsxs)("span",{className:"text-white",children:["Page ",d," of ",u]}),(0,ra.jsx)("button",{onClick:()=>c(e=>Math.min(u,e+1)),disabled:d===u,className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"Next"})]})]}),g&&p&&(0,ra.jsx)(oc,{order:p,stations:r,onAccept:async(e,s)=>{try{await br(t,e,s),alert("Order accepted successfully!"),f(!1),w()}catch(a){alert("Failed to accept order")}},onClose:()=>{f(!1),b(null)}}),v&&p&&(0,ra.jsx)(dc,{order:p,onReject:async(e,s)=>{try{await gr(t,e,s),alert("Order rejected"),y(!1),w()}catch(a){alert("Failed to reject order")}},onClose:()=>{y(!1),b(null)}})]})}function ic(e){let{order:t,onAccept:s,onReject:a,onMarkReady:l,onMarkDelivered:r}=e;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[t.orderNumber?(0,ra.jsx)("h3",{className:"text-2xl font-bold text-orange-500",children:t.orderNumber}):(0,ra.jsx)("h3",{className:"text-2xl font-bold text-gray-500",children:"No Order # (Not Accepted)"}),(()=>{const e={pending:{bg:"bg-yellow-500",text:"\u23f3 Pending",icon:"\u23f3"},processing:{bg:"bg-blue-500",text:"\ud83d\udc68\u200d\ud83c\udf73 Processing",icon:"\ud83d\udc68\u200d\ud83c\udf73"},ready:{bg:"bg-green-500",text:"\u2705 Ready",icon:"\u2705"},delivered:{bg:"bg-emerald-500",text:"\ud83c\udf89 Delivered",icon:"\ud83c\udf89"},cancelled:{bg:"bg-red-500",text:"\u274c Cancelled",icon:"\u274c"}},s=e[t.status]||e.pending;return(0,ra.jsx)("span",{className:"".concat(s.bg," text-white px-4 py-2 rounded-full text-sm font-semibold"),children:s.text})})(t.status)]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Player:"})," ",t.playerName]}),(0,ra.jsxs)("p",{className:"text-gray-400",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Table:"})," ",t.tableNumber]}),t.stationName&&(0,ra.jsxs)("p",{className:"text-blue-400",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Station:"})," ",t.stationName]})]}),(0,ra.jsxs)("div",{className:"text-right",children:[(0,ra.jsxs)("p",{className:"text-3xl font-bold text-orange-500",children:["\u20b9",t.totalAmount]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400",children:new Date(t.createdAt).toLocaleString()}),t.invoiceNumber&&(0,ra.jsxs)("p",{className:"text-sm text-green-400 mt-1",children:["Invoice: ",t.invoiceNumber]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 mb-4",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold mb-2",children:"Order Items:"}),(0,ra.jsx)("ul",{className:"space-y-1",children:t.items.map((e,t)=>(0,ra.jsxs)("li",{className:"text-gray-300 flex justify-between",children:[(0,ra.jsxs)("span",{children:[e.quantity,"x ",e.name]}),(0,ra.jsxs)("span",{className:"text-orange-400",children:["\u20b9",e.price*e.quantity]})]},t))}),t.specialInstructions&&(0,ra.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,ra.jsxs)("p",{className:"text-yellow-400 text-sm",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Special Instructions:"})," ",t.specialInstructions]})})]}),(0,ra.jsxs)("div",{className:"flex space-x-2",children:["pending"===t.status&&null===t.isAccepted&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("button",{onClick:s,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\u2705 Accept Order"}),(0,ra.jsx)("button",{onClick:a,className:"flex-1 bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\u274c Reject Order"})]}),"processing"===t.status&&(0,ra.jsx)("button",{onClick:l,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\u2705 Mark as Ready"}),"ready"===t.status&&(0,ra.jsx)("button",{onClick:r,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\ud83c\udf89 Mark as Delivered"}),"cancelled"===t.status&&t.rejectedReason&&(0,ra.jsxs)("div",{className:"flex-1 bg-red-600/20 border border-red-500 text-red-400 px-4 py-2 rounded-lg",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Rejected:"})," ",t.rejectedReason]})]})]})}function oc(e){let{order:t,stations:s,onAccept:l,onClose:r}=e;const[n,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-lg w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Accept Order"}),(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 mb-6",children:[(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Player:"})," ",t.playerName]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Table:"})," ",t.tableNumber]}),(0,ra.jsxs)("p",{className:"text-orange-500 text-2xl font-bold mt-2",children:["\u20b9",t.totalAmount]})]}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n?(d(!0),await l(t.id,n),d(!1)):alert("Please select a station")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Select Kitchen Station *"}),(0,ra.jsxs)("select",{value:n,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"",children:"-- Select Station --"}),s.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.stationName," (Chef: ",e.chefName||"Unassigned",") - ",e.ordersPending," pending"]},e.id))]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Order will be assigned to this station for preparation"})]}),(0,ra.jsx)("div",{className:"bg-green-600/20 border border-green-500 rounded-lg p-3",children:(0,ra.jsx)("p",{className:"text-green-400 text-sm",children:"\u2705 Accepting will assign an order number and send to kitchen"})}),(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:o,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:o?"Accepting...":"\u2705 Accept & Send to Kitchen"}),(0,ra.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function dc(e){let{order:t,onReject:s,onClose:l}=e;const[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-lg w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Reject Order"}),(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 mb-6",children:[(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Player:"})," ",t.playerName]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"font-semibold",children:"Table:"})," ",t.tableNumber]}),(0,ra.jsxs)("p",{className:"text-orange-500 text-2xl font-bold mt-2",children:["\u20b9",t.totalAmount]})]}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r.trim()?(o(!0),await s(t.id,r),o(!1)):alert("Please provide a rejection reason")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2 font-semibold",children:"Rejection Reason *"}),(0,ra.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),required:!0,rows:"3",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Out of stock, Kitchen closed, etc."})]}),(0,ra.jsx)("div",{className:"bg-red-600/20 border border-red-500 rounded-lg p-3",children:(0,ra.jsx)("p",{className:"text-red-400 text-sm",children:"\u26a0\ufe0f Rejecting will cancel the order (no order number assigned)"})}),(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:i,className:"flex-1 bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:i?"Rejecting...":"\u274c Reject Order"}),(0,ra.jsx)("button",{type:"button",onClick:l,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}const cc=[{value:"meat_poultry",label:"Meat & Poultry"},{value:"vegetables",label:"Vegetables"},{value:"spices",label:"Spices"},{value:"dairy",label:"Dairy"},{value:"beverages",label:"Beverages"}];function uc(e){let{clubId:t}=e;const[s,l]=(0,a.useState)([]),[r,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[t]);const u=async()=>{try{n(!0);const e=await Cr(t,!1);l(e)}catch(e){console.error("Error loading suppliers:",e),alert("Failed to load suppliers")}finally{n(!1)}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Supplier Management"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Manage your food & beverage suppliers"})]}),(0,ra.jsxs)("button",{onClick:()=>{c(null),o(!0)},className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\u2795"}),(0,ra.jsx)("span",{children:"Add Supplier"})]})]}),r?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading suppliers..."})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,ra.jsx)(mc,{supplier:e,onEdit:()=>{c(e),o(!0)},onDelete:async()=>{if(window.confirm('Delete supplier "'.concat(e.name,'"?')))try{await Tr(t,e.id),u()}catch(s){alert("Failed to delete supplier")}}},e.id))}),0===s.length&&!r&&(0,ra.jsxs)("div",{className:"text-center py-12 bg-slate-800 rounded-xl",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-lg",children:"No suppliers yet"}),(0,ra.jsx)("button",{onClick:()=>o(!0),className:"mt-4 text-orange-500 hover:text-orange-400",children:"Add your first supplier"})]}),i&&(0,ra.jsx)(xc,{clubId:t,supplier:d,onClose:()=>{o(!1),c(null)},onSave:()=>{o(!1),c(null),u()}})]})}function mc(e){let{supplier:t,onEdit:s,onDelete:a}=e;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border ".concat(t.isActive?"border-green-500":"border-slate-700"),children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:t.name}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:t.contact||"No contact person"})]}),(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(t.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"),children:t.isActive?"Active":"Inactive"})]}),(0,ra.jsxs)("div",{className:"space-y-2 mb-4",children:[t.phone&&(0,ra.jsxs)("p",{className:"text-gray-300 text-sm flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\ud83d\udcde"}),(0,ra.jsx)("span",{children:t.phone})]}),t.email&&(0,ra.jsxs)("p",{className:"text-gray-300 text-sm flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\ud83d\udce7"}),(0,ra.jsx)("span",{children:t.email})]}),t.address&&(0,ra.jsxs)("p",{className:"text-gray-400 text-xs flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\ud83d\udccd"}),(0,ra.jsx)("span",{className:"line-clamp-2",children:t.address})]})]}),t.rating&&(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)("p",{className:"text-yellow-400 text-lg",children:(e=>{const t=[],s=Math.floor(e||0),a=(e||0)%1>=.5;for(let l=0;l<5;l++)l<s||l===s&&a?t.push("\u2b50"):t.push("\u2606");return t.join("")})(t.rating)}),(0,ra.jsxs)("p",{className:"text-xs text-gray-400",children:[t.rating,"/5.0"]})]}),t.specializations&&t.specializations.length>0&&(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Specializations:"}),(0,ra.jsx)("div",{className:"flex flex-wrap gap-2",children:t.specializations.map((e,t)=>(0,ra.jsx)("span",{className:"bg-blue-600/30 text-blue-300 px-2 py-1 rounded text-xs",children:e.replace("_"," & ")},t))})]}),(0,ra.jsxs)("div",{className:"flex space-x-2 pt-4 border-t border-slate-700",children:[(0,ra.jsx)("button",{onClick:s,className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Edit"}),(0,ra.jsx)("button",{onClick:a,className:"flex-1 bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Delete"})]})]})}function xc(e){var t;let{clubId:s,supplier:l,onClose:r,onSave:n}=e;const[i,o]=(0,a.useState)({name:(null===l||void 0===l?void 0:l.name)||"",contact:(null===l||void 0===l?void 0:l.contact)||"",phone:(null===l||void 0===l?void 0:l.phone)||"",email:(null===l||void 0===l?void 0:l.email)||"",address:(null===l||void 0===l?void 0:l.address)||"",rating:(null===l||void 0===l?void 0:l.rating)||0,isActive:null===(t=null===l||void 0===l?void 0:l.isActive)||void 0===t||t,specializations:(null===l||void 0===l?void 0:l.specializations)||[]}),[d,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(!1),h=()=>{d.trim()&&!i.specializations.includes(d.trim())&&(o(c(c({},i),{},{specializations:[...i.specializations,d.trim()]})),u(""))};return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:l?"Edit Supplier":"Add Supplier"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{x(!0),l?await Pr(s,l.id,i):await kr(s,i),n()}catch(t){alert("Failed to save supplier")}finally{x(!1)}},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Supplier Name *"}),(0,ra.jsx)("input",{type:"text",required:!0,value:i.name,onChange:e=>o(c(c({},i),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Fresh Foods Ltd."})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Contact Person"}),(0,ra.jsx)("input",{type:"text",value:i.contact,onChange:e=>o(c(c({},i),{},{contact:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., John Smith"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Phone"}),(0,ra.jsx)("input",{type:"tel",value:i.phone,onChange:e=>o(c(c({},i),{},{phone:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"+91 98765 43210"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Email"}),(0,ra.jsx)("input",{type:"email",value:i.email,onChange:e=>o(c(c({},i),{},{email:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"supplier@example.com"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Address"}),(0,ra.jsx)("textarea",{value:i.address,onChange:e=>o(c(c({},i),{},{address:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",rows:"2",placeholder:"Full address..."})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Specializations"}),(0,ra.jsxs)("div",{className:"space-y-3",children:[(0,ra.jsx)("div",{className:"grid grid-cols-2 gap-2",children:cc.map(e=>(0,ra.jsxs)("label",{className:"flex items-center space-x-2 bg-slate-700 p-3 rounded-lg cursor-pointer hover:bg-slate-600",children:[(0,ra.jsx)("input",{type:"checkbox",checked:i.specializations.includes(e.value),onChange:()=>{return t=e.value,void(i.specializations.includes(t)?o(c(c({},i),{},{specializations:i.specializations.filter(e=>e!==t)})):o(c(c({},i),{},{specializations:[...i.specializations,t]})));var t},className:"w-4 h-4"}),(0,ra.jsx)("span",{className:"text-white",children:e.label})]},e.value))}),(0,ra.jsxs)("div",{className:"flex space-x-2",children:[(0,ra.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"flex-1 px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"Add custom specialization...",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),h())}),(0,ra.jsx)("button",{type:"button",onClick:h,className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg",children:"Add"})]}),i.specializations.filter(e=>!cc.some(t=>t.value===e)).length>0&&(0,ra.jsx)("div",{className:"flex flex-wrap gap-2",children:i.specializations.filter(e=>!cc.some(t=>t.value===e)).map(e=>(0,ra.jsxs)("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:e}),(0,ra.jsx)("button",{type:"button",onClick:()=>(e=>{o(c(c({},i),{},{specializations:i.specializations.filter(t=>t!==e)}))})(e),className:"text-white hover:text-red-300",children:"\xd7"})]},e))})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Rating (0-5)"}),(0,ra.jsx)("input",{type:"number",min:"0",max:"5",step:"0.1",value:i.rating,onChange:e=>o(c(c({},i),{},{rating:parseFloat(e.target.value)})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Status"}),(0,ra.jsxs)("select",{value:i.isActive?"active":"inactive",onChange:e=>o(c(c({},i),{},{isActive:"active"===e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"active",children:"Active"}),(0,ra.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,ra.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:m,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:m?"Saving...":l?"Update Supplier":"Add Supplier"}),(0,ra.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function hc(e){let{clubId:t}=e;const[s,l]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{g(),f()},[t]);const g=async()=>{try{o(!0);const e=await mr(t,!1);l(e)}catch(e){console.error("Error loading stations:",e),alert("Failed to load kitchen stations")}finally{o(!1)}},f=async()=>{try{const e=(await In.getAllStaff(t)).filter(e=>"KITCHEN_STAFF"===e.role);n(e)}catch(e){console.error("Error loading chefs:",e)}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Kitchen Operations"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Manage kitchen stations and track progress"})]}),(0,ra.jsxs)("button",{onClick:()=>{m(null),c(!0)},className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2",children:[(0,ra.jsx)("span",{children:"\u2795"}),(0,ra.jsx)("span",{children:"Create Station"})]})]}),(0,ra.jsxs)("div",{className:"bg-blue-600/20 border border-blue-500 rounded-xl p-4",children:[(0,ra.jsx)("h3",{className:"text-white font-bold mb-2",children:"\ud83c\udfe0 Kitchen Station Management"}),(0,ra.jsx)("p",{className:"text-blue-200 text-sm",children:"Create multiple stations for different food categories. Each station tracks pending and completed orders in real-time."})]}),i?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading stations..."})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,ra.jsx)(pc,{station:e,onEdit:()=>{m(e),c(!0)},onViewStats:()=>(async e=>{try{const s=await pr(t,e);b(s),h(!0)}catch(s){alert("Failed to load station statistics")}})(e.id),onDelete:async()=>{if(window.confirm('Delete station "'.concat(e.stationName,'"?')))try{await hr(t,e.id),g()}catch(s){alert(s.message||"Failed to delete station")}},onToggleStatus:async()=>{try{await xr(t,e.id,{isActive:!e.isActive}),g()}catch(s){alert("Failed to update station status")}}},e.id))}),0===s.length&&!i&&(0,ra.jsxs)("div",{className:"text-center py-12 bg-slate-800 rounded-xl",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No kitchen stations yet"}),(0,ra.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:'Create stations like "Station 1 - Quick Snacks", "Station 2 - Main Meals", etc.'}),(0,ra.jsx)("button",{onClick:()=>c(!0),className:"text-orange-500 hover:text-orange-400 font-semibold",children:"Create your first station"})]}),d&&(0,ra.jsx)(bc,{clubId:t,station:u,chefs:r,onClose:()=>{c(!1),m(null)},onSave:()=>{c(!1),m(null),g()}}),x&&p&&(0,ra.jsx)(gc,{stats:p,onClose:()=>{h(!1),b(null)}})]})}function pc(e){let{station:t,onEdit:s,onViewStats:a,onDelete:l,onToggleStatus:r}=e;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border-2 ".concat(t.isActive?"border-green-500":"border-gray-600"),children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ra.jsx)("span",{className:"text-3xl",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,ra.jsxs)("span",{className:"bg-orange-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:["#",t.stationNumber]})]}),(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:t.stationName})]}),(0,ra.jsx)("button",{onClick:r,className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(t.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"),children:t.isActive?"Active":"Inactive"})]}),(0,ra.jsxs)("div",{className:"mb-4 pb-4 border-b border-slate-700",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Chef:"}),(0,ra.jsx)("p",{className:"text-white font-semibold",children:t.chefName||"Unassigned"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ra.jsxs)("div",{className:"bg-yellow-600/20 rounded-lg p-3",children:[(0,ra.jsx)("p",{className:"text-yellow-400 text-2xl font-bold",children:t.ordersPending}),(0,ra.jsx)("p",{className:"text-yellow-300 text-xs",children:"Pending Orders"})]}),(0,ra.jsxs)("div",{className:"bg-green-600/20 rounded-lg p-3",children:[(0,ra.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:t.ordersCompleted}),(0,ra.jsx)("p",{className:"text-green-300 text-xs",children:"Completed"})]})]}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"\ud83d\udcca View Statistics"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ra.jsx)("button",{onClick:s,className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Edit"}),(0,ra.jsx)("button",{onClick:l,className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-semibold",children:"Delete"})]})]})]})}function bc(e){var t;let{clubId:s,station:l,chefs:r,onClose:n,onSave:i}=e;const[o,d]=(0,a.useState)({stationName:(null===l||void 0===l?void 0:l.stationName)||"",stationNumber:(null===l||void 0===l?void 0:l.stationNumber)||"",chefName:(null===l||void 0===l?void 0:l.chefName)||"",chefId:(null===l||void 0===l?void 0:l.chefId)||"",isActive:null===(t=null===l||void 0===l?void 0:l.isActive)||void 0===t||t}),[u,m]=(0,a.useState)(!1);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-lg w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:l?"Edit Kitchen Station":"Create Kitchen Station"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{m(!0),l?await xr(s,l.id,o):await ur(s,o),i()}catch(t){alert(t.message||"Failed to save station")}finally{m(!1)}},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Station Name *"}),(0,ra.jsx)("input",{type:"text",required:!0,value:o.stationName,onChange:e=>d(c(c({},o),{},{stationName:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Station 1 - Quick Snacks"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Station Number *"}),(0,ra.jsx)("input",{type:"number",required:!0,min:"1",value:o.stationNumber,onChange:e=>d(c(c({},o),{},{stationNumber:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"1, 2, 3..."}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Unique number for this station"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Chef Name"}),(0,ra.jsx)("input",{type:"text",value:o.chefName,onChange:e=>d(c(c({},o),{},{chefName:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",placeholder:"e.g., Chef Raj"})]}),r.length>0&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Or Select from Staff"}),(0,ra.jsxs)("select",{value:o.chefId||"",onChange:e=>{const t=r.find(t=>t.id===e.target.value);d(c(c({},o),{},{chefId:e.target.value,chefName:(null===t||void 0===t?void 0:t.name)||o.chefName}))},className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"",children:"-- Optional --"}),r.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Status"}),(0,ra.jsxs)("select",{value:o.isActive?"active":"inactive",onChange:e=>d(c(c({},o),{},{isActive:"active"===e.target.value})),className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg",children:[(0,ra.jsx)("option",{value:"active",children:"Active"}),(0,ra.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,ra.jsx)("div",{className:"bg-blue-600/20 border border-blue-500 rounded-lg p-3",children:(0,ra.jsx)("p",{className:"text-blue-300 text-sm",children:"\ud83d\udca1 Orders will be assigned to this station by the FNB manager"})}),(0,ra.jsxs)("div",{className:"flex space-x-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:u,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold disabled:opacity-50",children:u?"Saving...":l?"Update Station":"Create Station"}),(0,ra.jsx)("button",{type:"button",onClick:n,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Cancel"})]})]})]})})}function gc(e){let{stats:t,onClose:s}=e;return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Station Statistics"}),(0,ra.jsx)("div",{className:"bg-slate-900 rounded-lg p-4 mb-6",children:(0,ra.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ra.jsx)("span",{className:"text-4xl",children:"\ud83d\udc68\u200d\ud83c\udf73"}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:t.station.name}),(0,ra.jsxs)("p",{className:"text-gray-400",children:["Station #",t.station.number]}),(0,ra.jsxs)("p",{className:"text-gray-400",children:["Chef: ",t.station.chefName||"Unassigned"]})]})]})}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,ra.jsxs)("div",{className:"bg-yellow-600/20 rounded-lg p-6",children:[(0,ra.jsx)("p",{className:"text-yellow-400 text-4xl font-bold mb-2",children:t.statistics.todayCompleted}),(0,ra.jsx)("p",{className:"text-yellow-300 text-sm",children:"Completed Today"})]}),(0,ra.jsxs)("div",{className:"bg-blue-600/20 rounded-lg p-6",children:[(0,ra.jsx)("p",{className:"text-blue-400 text-4xl font-bold mb-2",children:t.statistics.todayPending}),(0,ra.jsx)("p",{className:"text-blue-300 text-sm",children:"Pending Today"})]}),(0,ra.jsxs)("div",{className:"bg-green-600/20 rounded-lg p-6",children:[(0,ra.jsx)("p",{className:"text-green-400 text-4xl font-bold mb-2",children:t.statistics.allTimeCompleted}),(0,ra.jsx)("p",{className:"text-green-300 text-sm",children:"All-Time Completed"})]}),(0,ra.jsxs)("div",{className:"bg-purple-600/20 rounded-lg p-6",children:[(0,ra.jsx)("p",{className:"text-purple-400 text-4xl font-bold mb-2",children:t.statistics.storedPending}),(0,ra.jsx)("p",{className:"text-purple-300 text-sm",children:"Currently Pending"})]})]}),(0,ra.jsx)("div",{className:"bg-slate-900 rounded-lg p-4 mb-6",children:(0,ra.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Station Status:"}),(0,ra.jsx)("span",{className:"px-4 py-2 rounded-full font-semibold ".concat(t.station.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"),children:t.station.isActive?"\u2705 Active":"\u2b55 Inactive"})]})}),(0,ra.jsx)("button",{onClick:s,className:"w-full bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold",children:"Close"})]})})}function fc(e){let{activeItem:t,setActiveItem:s,menuItems:l=[],onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=localStorage.getItem("clubId"),{data:b}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p}),g=JSON.parse(localStorage.getItem("user")||"{}"),f=g.email||"fnb@pokerroom.com",v=g.displayName||"FNB Manager",y=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-orange-500 to-red-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-orange-500/20 via-red-600/30 to-pink-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-red-300 to-pink-400 drop-shadow-lg mb-6",children:"FNB Portal"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"flex items-center text-white min-w-0 cursor-pointer hover:opacity-90 transition-opacity p-2 -m-2 rounded-lg",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-400 to-red-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,ra.jsx)("span",{className:"text-gray-900 font-bold text-sm",children:"F"})}),(0,ra.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold truncate",children:v}),(0,ra.jsx)("div",{className:"text-sm opacity-80 truncate",children:f})]})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):y.mutate({email:f,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:y.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:y.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),b&&b.code&&(0,ra.jsx)("div",{className:"mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:b.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map((e,a)=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-orange-400 to-red-600 text-gray-900 font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-orange-400/20 hover:to-red-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},a))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function vc(){const[e,t]=(0,a.useState)("Menu & Inventory"),s=pe(),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[o,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=localStorage.getItem("clubId");e&&d(e)},[]),(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("fnb_staffuser")||"{}");(e.mustResetPassword||t.mustResetPassword)&&r(!0)},[]);const u=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("fnb_staffuser")||"{}");t.userId&&(t.mustResetPassword=!1,localStorage.setItem("fnb_staffuser",JSON.stringify(t))),r(!1),i({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),m=l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("fnb_staffuser")||"{}"),a=t.email||s.email||s.userEmail;a?n.currentPassword&&n.newPassword&&n.confirmPassword?n.newPassword===n.confirmPassword?n.newPassword.length<8?Sl.error("Password must be at least 8 characters"):u.mutate({email:a,currentPassword:n.currentPassword,newPassword:n.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:n.currentPassword,onChange:e=>i(c(c({},n),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:n.newPassword,onChange:e=>i(c(c({},n),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:n.confirmPassword,onChange:e=>i(c(c({},n),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:u.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:u.isLoading?"Resetting...":"Reset Password"})]})]})}),x=()=>{localStorage.removeItem("user"),localStorage.removeItem("fnb_staffuser"),localStorage.removeItem("clubId"),s("/login")};return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white font-sans",children:[(0,ra.jsxs)("div",{className:"flex",children:[(0,ra.jsx)(fc,{activeItem:e,setActiveItem:t,menuItems:["Menu & Inventory","Order Management","Supplier Management","Kitchen Operations","Chat"],onSignOut:x}),(0,ra.jsx)("main",{className:"flex-1 lg:ml-0 min-w-0",children:(0,ra.jsxs)("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 py-6 sm:py-10 space-y-8",children:[(0,ra.jsxs)("header",{className:"bg-gradient-to-r from-orange-600 via-red-500 to-pink-400 p-6 rounded-xl shadow-md flex justify-between items-center mt-16 lg:mt-0",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["FNB Portal - ",e]}),(0,ra.jsx)("p",{className:"text-gray-200 mt-1",children:"Manage poker club F&B service, menu, and player orders"})]}),(0,ra.jsx)("button",{onClick:x,className:"bg-red-600 hover:bg-red-500 text-white font-semibold px-4 py-2 rounded-lg shadow",children:"Sign Out"})]}),!o&&(0,ra.jsx)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-4 text-yellow-100",children:(0,ra.jsx)("p",{className:"font-medium",children:"Please select a club to view FNB management."})}),"Menu & Inventory"===e&&o&&(0,ra.jsx)(Zd,{clubId:o}),"Order Management"===e&&o&&(0,ra.jsx)(nc,{clubId:o}),"Supplier Management"===e&&o&&(0,ra.jsx)(uc,{clubId:o}),"Kitchen Operations"===e&&o&&(0,ra.jsx)(hc,{clubId:o}),"Chat"===e&&o&&(0,ra.jsx)(Eo,{clubId:o})]})})]}),m]})}const yc={ADMIN:"/admin",GRE:"/gre",CASHIER:"/cashier",HR:"/hr",FNB:"/fnb",MANAGER:"/manager",STAFF:"/staff"};function wc(){var e,t;const[s,l]=(0,a.useState)({email:"",password:""}),[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),d=pe(),u=(null===(e=me().state)||void 0===e||null===(t=e.from)||void 0===t||t.pathname,e=>{l(c(c({},s),{},{[e.target.name]:e.target.value}))});return(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black flex items-center justify-center p-4",children:(0,ra.jsxs)("div",{className:"max-w-md w-full",children:[(0,ra.jsxs)("div",{className:"text-center mb-8",children:[(0,ra.jsx)("div",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 drop-shadow-lg mb-4",children:"Staff Portal"}),(0,ra.jsx)("p",{className:"text-gray-300",children:"Sign in to access your dashboard"})]}),(0,ra.jsx)("div",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-black rounded-2xl p-8 shadow-2xl border border-gray-700",children:(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n(""),o(!0);try{var t,a,l,r,i,c,u,m,x;const e=await Tl(s.email,s.password);if(console.log("Login response:",e),null!==(t=e.user)&&void 0!==t&&t.isMasterAdmin)throw new Error("Master Admin should use /master-admin/signin");const n=null===(a=e.tenantRoles)||void 0===a?void 0:a.some(e=>"SUPER_ADMIN"===e.role);if(n)throw new Error("Super Admin should use /super-admin/signin");const o=null===(l=e.clubRoles)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.role,h=null===(i=e.tenantRoles)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.role,p=o||h;if(console.log("Detected role:",p,"clubRoles:",e.clubRoles,"tenantRoles:",e.tenantRoles),!p)throw new Error("No role assigned. Please contact administrator.");const b={id:e.user.id,email:s.email,displayName:e.user.displayName,role:p,mustResetPassword:e.user.mustResetPassword||!1},g="".concat(p.toLowerCase(),"user");localStorage.setItem(g,JSON.stringify({email:s.email,role:p,userId:e.user.id,displayName:e.user.displayName,mustResetPassword:e.user.mustResetPassword||!1})),localStorage.setItem("user",JSON.stringify(b)),null!==(u=e.clubRoles)&&void 0!==u&&null!==(m=u[0])&&void 0!==m&&null!==(x=m.club)&&void 0!==x&&x.id&&localStorage.setItem("clubId",e.clubRoles[0].club.id);d(yc[p]||"/",{replace:!0})}catch(h){console.error("Login error:",h),n(h.message||"Invalid email or password. Please try again.")}finally{o(!1)}},className:"space-y-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,ra.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:u,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your email",autoComplete:"email"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,ra.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:u,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your password",autoComplete:"current-password"})]}),r&&(0,ra.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-3 text-red-300 text-sm",children:r}),(0,ra.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-semibold py-3 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,ra.jsxs)("span",{className:"flex items-center justify-center",children:[(0,ra.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ra.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ra.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]})})]})})}const jc=["Dashboard","Player Management","Staff Management","Payroll Management","Affiliates","Tables & Waitlist","VIP Store","Push Notifications","Tournaments","Bonus Management","FNB","Chat","Reports & Analytics","System Control"];function Nc(e){let{activeItem:t,setActiveItem:s,menuItems:l=jc,onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=JSON.parse(localStorage.getItem("user")||"{}"),b=JSON.parse(localStorage.getItem("adminuser")||"{}"),g=p.email||b.email||"admin@pokerroom.com",f=p.displayName||b.displayName||"Admin",v=(p.role||b.role,localStorage.getItem("clubId")),{data:y}=Si({queryKey:["club",v],queryFn:()=>Al(v),enabled:!!v}),w=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("adminuser")||"{}");t.mustResetPassword=!1,localStorage.setItem("adminuser",JSON.stringify(t)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-red-500 to-purple-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-red-500/20 via-purple-600/30 to-indigo-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-purple-300 to-indigo-400 drop-shadow-lg mb-6",children:"Admin"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"bg-white/10 rounded-xl p-4 mb-6 text-white shadow-inner cursor-pointer hover:bg-white/15 transition-colors",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold",children:f}),(0,ra.jsx)("div",{className:"text-sm opacity-80",children:g})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("adminuser")||"{}"),a=t.email||s.email;a?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):w.mutate({email:a,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:w.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:w.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),y&&y.code&&(0,ra.jsx)("div",{className:"mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:y.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map(e=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-red-400 to-purple-600 text-white font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-red-400/20 hover:to-purple-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},e))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function Sc(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),[c,u]=(0,a.useState)({title:"",points:"",description:"",stock:"",images:["","",""],imageFiles:[null,null,null],isActive:!0}),{data:m=[],isLoading:x}=Si({queryKey:["vipProducts",t],queryFn:()=>In.getVipProducts(t),enabled:!!t}),h=Ti({mutationFn:async e=>{const s=[];for(let l=0;l<3;l++)if(e.imageFiles[l])try{const{signedUrl:a,publicUrl:r}=await In.createVipProductImageUploadUrl(t,e.imageFiles[l].name);await In.uploadToSignedUrl(a,e.imageFiles[l]),s.push({url:r})}catch(a){console.error("Failed to upload image ".concat(l+1,":"),a),Sl.error("Failed to upload image ".concat(l+1))}else e.images[l]&&""!==e.images[l].trim()&&s.push({url:e.images[l]});return await In.createVipProduct(t,{title:e.title,points:parseInt(e.points),description:e.description,stock:parseInt(e.stock)||0,images:s,isActive:e.isActive})},onSuccess:()=>{Sl.success("Product created successfully!"),s.invalidateQueries(["vipProducts",t]),r(!1),g()},onError:e=>{Sl.error(e.message||"Failed to create product")}}),p=Ti({mutationFn:async e=>{let{productId:s,data:a}=e;const l=[];for(let n=0;n<3;n++)if(a.imageFiles[n])try{const{signedUrl:e,publicUrl:s}=await In.createVipProductImageUploadUrl(t,a.imageFiles[n].name);await In.uploadToSignedUrl(e,a.imageFiles[n]),l.push({url:s})}catch(r){console.error("Failed to upload image ".concat(n+1,":"),r),Sl.error("Failed to upload image ".concat(n+1))}else a.images[n]&&""!==a.images[n].trim()&&l.push({url:a.images[n]});return await In.updateVipProduct(t,s,{title:a.title,points:parseInt(a.points),description:a.description,stock:parseInt(a.stock)||0,images:l,isActive:a.isActive})},onSuccess:()=>{Sl.success("Product updated successfully!"),s.invalidateQueries(["vipProducts",t]),i(!1),d(null),g()},onError:e=>{Sl.error(e.message||"Failed to update product")}}),b=Ti({mutationFn:async e=>await In.deleteVipProduct(t,e),onSuccess:()=>{Sl.success("Product deleted successfully!"),s.invalidateQueries(["vipProducts",t])},onError:e=>{Sl.error(e.message||"Failed to delete product")}}),g=()=>{u({title:"",points:"",description:"",stock:"",images:["","",""],imageFiles:[null,null,null],isActive:!0})};return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"VIP Store Management"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Manage products that players can redeem with VIP points"})]}),(0,ra.jsx)("button",{onClick:()=>{g(),r(!0)},className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-lg transition-all shadow-lg",children:"+ Add New Product"})]}),x?(0,ra.jsx)("div",{className:"text-center text-gray-400 py-12",children:"Loading products..."}):0===m.length?(0,ra.jsxs)("div",{className:"text-center py-12",children:[(0,ra.jsx)("p",{className:"text-gray-400 text-lg mb-4",children:"No products in the VIP Store yet"}),(0,ra.jsx)("button",{onClick:()=>{g(),r(!0)},className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition-colors",children:"Create Your First Product"})]}):(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{var t,s;return(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg overflow-hidden border border-slate-700 hover:border-purple-500 transition-all shadow-lg",children:[(0,ra.jsxs)("div",{className:"relative h-48 bg-slate-700",children:[e.images&&e.images.length>0&&null!==(t=e.images[0])&&void 0!==t&&t.url?(0,ra.jsx)("img",{src:e.images[0].url,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,ra.jsx)("div",{className:"absolute inset-0 flex items-center justify-center ".concat(e.images&&e.images.length>0&&null!==(s=e.images[0])&&void 0!==s&&s.url?"hidden":"flex"),children:(0,ra.jsx)("div",{className:"text-6xl text-gray-600",children:"\ud83c\udf81"})}),(0,ra.jsx)("div",{className:"absolute top-2 right-2",children:(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(e.isActive?"bg-green-600 text-white":"bg-gray-600 text-gray-300"),children:e.isActive?"Active":"Inactive"})})]}),(0,ra.jsxs)("div",{className:"p-4",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:e.description||"No description"}),(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("div",{className:"text-yellow-400 font-bold text-lg",children:[e.points.toLocaleString()," Points"]}),(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Stock: ",e.stock||0]})]}),e.images&&e.images.length>1&&(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["+",e.images.length-1," more ",2===e.images.length?"image":"images"]})]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>(e=>{var t,s,a,l,r,n,o;d(e),u({title:e.title,points:e.points.toString(),description:e.description||"",stock:(null===(t=e.stock)||void 0===t?void 0:t.toString())||"0",images:[(null===(s=e.images)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.url)||"",(null===(l=e.images)||void 0===l||null===(r=l[1])||void 0===r?void 0:r.url)||"",(null===(n=e.images)||void 0===n||null===(o=n[2])||void 0===o?void 0:o.url)||""],imageFiles:[null,null,null],isActive:void 0===e.isActive||e.isActive}),i(!0)})(e),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold transition-colors",children:"Edit"}),(0,ra.jsx)("button",{onClick:()=>{return t=e.id,s=e.title,void(window.confirm('Are you sure you want to delete "'.concat(s,'"?'))&&b.mutate(t));var t,s},disabled:b.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg font-semibold transition-colors disabled:opacity-50",children:"Delete"})]})]})]},e.id)})}),l&&(0,ra.jsx)(Cc,{title:"Create New Product",form:c,setForm:u,onSubmit:e=>{e.preventDefault(),c.title.trim()?!c.points||parseInt(c.points)<=0?Sl.error("Valid points value is required"):h.mutate(c):Sl.error("Product title is required")},onClose:()=>{r(!1),g()},isLoading:h.isPending}),n&&o&&(0,ra.jsx)(Cc,{title:"Edit Product",form:c,setForm:u,onSubmit:e=>{e.preventDefault(),c.title.trim()?!c.points||parseInt(c.points)<=0?Sl.error("Valid points value is required"):p.mutate({productId:o.id,data:c}):Sl.error("Product title is required")},onClose:()=>{i(!1),d(null),g()},isLoading:p.isPending})]})}function Cc(e){let{title:t,form:s,setForm:a,onSubmit:l,onClose:r,isLoading:n}=e;return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full my-8 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:t}),(0,ra.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["Product Title ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"text",value:s.title,onChange:e=>a(c(c({},s),{},{title:e.target.value})),placeholder:"e.g., Premium Poker Chips Set",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["VIP Points ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"number",value:s.points,onChange:e=>a(c(c({},s),{},{points:e.target.value})),placeholder:"e.g., 5000",min:"1",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Stock Quantity"}),(0,ra.jsx)("input",{type:"number",value:s.stock,onChange:e=>a(c(c({},s),{},{stock:e.target.value})),placeholder:"e.g., 50",min:"0",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Description"}),(0,ra.jsx)("textarea",{value:s.description,onChange:e=>a(c(c({},s),{},{description:e.target.value})),placeholder:"Describe your product...",rows:3,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-gray-300 mb-2 font-semibold",children:"Product Images (Up to 3)"}),[0,1,2].map(e=>(0,ra.jsxs)("div",{className:"mb-3",children:[(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsxs)("label",{className:"flex-shrink-0 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold cursor-pointer transition-colors",children:[(0,ra.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{var l;const r=null===(l=t.target.files)||void 0===l?void 0:l[0];if(r){if(r.size>5242880)return void Sl.error("Image must be less than 5MB");const t=[...s.imageFiles];t[e]=r,a(c(c({},s),{},{imageFiles:t}))}}}),s.imageFiles[e]?"\u2713 File Selected":"Choose File"]}),(0,ra.jsx)("input",{type:"url",value:s.images[e],onChange:t=>{const l=[...s.images];l[e]=t.target.value,a(c(c({},s),{},{images:l}))},placeholder:"Or paste URL ".concat(e+1).concat(0===e?" (Primary)":" (Optional)"),disabled:!!s.imageFiles[e],className:"flex-1 px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50"}),(s.imageFiles[e]||s.images[e])&&(0,ra.jsx)("button",{type:"button",onClick:()=>{const t=[...s.imageFiles],l=[...s.images];t[e]=null,l[e]="",a(c(c({},s),{},{imageFiles:t,images:l}))},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"\xd7"})]}),s.imageFiles[e]&&(0,ra.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["\ud83d\udcc1 ",s.imageFiles[e].name," (",(s.imageFiles[e].size/1024).toFixed(1)," KB)"]})]},e)),(0,ra.jsx)("p",{className:"text-gray-500 text-xs mt-2",children:"Upload image files (max 5MB each) or paste direct URLs"})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ra.jsx)("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:e=>a(c(c({},s),{},{isActive:e.target.checked})),className:"w-5 h-5 text-purple-600 bg-slate-700 border-gray-600 rounded focus:ring-purple-500"}),(0,ra.jsx)("label",{htmlFor:"isActive",className:"text-gray-300 font-semibold",children:"Product is Active (Available for redemption)"})]}),(0,ra.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,ra.jsx)("button",{type:"submit",disabled:n,className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold py-3 rounded-lg transition-all disabled:opacity-50",children:n?"Saving...":"Create New Product"===t?"Create Product":"Update Product"}),(0,ra.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Cancel"})]})]})]})})}function kc(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)("tips"),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(1),[p,b]=(0,a.useState)(1),[g,f]=(0,a.useState)({search:"",startDate:"",endDate:"",dealerId:""}),[v,y]=(0,a.useState)({search:"",startDate:"",endDate:"",dealerId:""}),[w,j]=(0,a.useState)({clubHoldPercentage:15,dealerSharePercentage:80,floorManagerPercentage:5}),[N,S]=(0,a.useState)({dealerId:"",tipDate:(new Date).toISOString().split("T")[0],totalTips:"",notes:""}),[C,k]=(0,a.useState)({dealerId:"",cashoutDate:(new Date).toISOString().split("T")[0],amount:"",notes:""}),{data:P}=Si({queryKey:["payroll-dealers",t],queryFn:()=>en(t),enabled:!!t}),{data:T}=Si({queryKey:["tip-settings",t,null===u||void 0===u?void 0:u.id],queryFn:()=>tn(t,null===u||void 0===u?void 0:u.id),enabled:!!t&&!!u&&n,onSuccess:e=>{null!==e&&void 0!==e&&e.settings&&j({clubHoldPercentage:Number(e.settings.clubHoldPercentage),dealerSharePercentage:Number(e.settings.dealerSharePercentage),floorManagerPercentage:Number(e.settings.floorManagerPercentage)})}}),{data:I,isLoading:D}=Si({queryKey:["dealer-tips",t,x,g],queryFn:()=>ln(t,c({page:x,limit:10},g)),enabled:!!t}),{data:E,isLoading:A}=Si({queryKey:["dealer-cashouts",t,p,v],queryFn:()=>nn(t,c({page:p,limit:10},v)),enabled:!!t}),L=Ti({mutationFn:e=>sn(t,e,null===u||void 0===u?void 0:u.id),onSuccess:()=>{Sl.success("Tip settings updated successfully!"),s.invalidateQueries(["tip-settings",t,null===u||void 0===u?void 0:u.id])},onError:e=>{Sl.error(e.message||"Failed to update tip settings")}}),R=Ti({mutationFn:e=>an(t,e),onSuccess:()=>{Sl.success("Dealer tips processed successfully!"),s.invalidateQueries(["dealer-tips",t]),i(!1),m(null),S({dealerId:"",tipDate:(new Date).toISOString().split("T")[0],totalTips:"",notes:""}),j({clubHoldPercentage:15,dealerSharePercentage:80,floorManagerPercentage:5})},onError:e=>{Sl.error(e.message||"Failed to process tips")}}),O=Ti({mutationFn:e=>rn(t,e),onSuccess:()=>{Sl.success("Dealer cashout processed successfully!"),s.invalidateQueries(["dealer-cashouts",t]),d(!1),m(null),k({dealerId:"",cashoutDate:(new Date).toISOString().split("T")[0],amount:"",notes:""})},onError:e=>{Sl.error(e.message||"Failed to process cashout")}}),M=(null===P||void 0===P?void 0:P.dealers)||[],F=(null===I||void 0===I?void 0:I.tips)||[],_=(null===E||void 0===E?void 0:E.cashouts)||[],z=(null===I||void 0===I?void 0:I.totalPages)||1,q=(null===I||void 0===I?void 0:I.total)||0,U=(null===E||void 0===E?void 0:E.totalPages)||1,B=(null===E||void 0===E?void 0:E.total)||0,W=Number(w.clubHoldPercentage)+Number(w.dealerSharePercentage)+Number(w.floorManagerPercentage);return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Dealer Tips Management"})}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>r("tips"),className:"px-6 py-3 font-semibold transition-colors ".concat("tips"===l?"text-white border-b-2 border-cyan-500":"text-gray-400 hover:text-white"),children:"Dealer Tips %"}),(0,ra.jsx)("button",{onClick:()=>r("cashout"),className:"px-6 py-3 font-semibold transition-colors ".concat("cashout"===l?"text-white border-b-2 border-cyan-500":"text-gray-400 hover:text-white"),children:"Dealer Cash Out"})]}),"tips"===l&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udc64 Click a Dealer to Process Their Tips"}),(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-h-60 overflow-y-auto",children:M.map(e=>(0,ra.jsxs)("button",{onClick:()=>(e=>{m(e),S(c(c({},N),{},{dealerId:e.id})),i(!0)})(e),className:"bg-gradient-to-r from-cyan-900/30 to-blue-900/30 border border-cyan-700 rounded-lg p-4 hover:from-cyan-800/40 hover:to-blue-800/40 transition-all text-left",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold text-lg",children:e.name}),(0,ra.jsx)("p",{className:"text-sm text-cyan-400 mt-1",children:e.email}),(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Role: ",e.role]})]},e.id))})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Dealer Tips History"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",placeholder:"Dealer name...",value:g.search,onChange:e=>f(c(c({},g),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:g.startDate,onChange:e=>f(c(c({},g),{},{startDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:g.endDate,onChange:e=>f(c(c({},g),{},{endDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Dealer"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:g.dealerId,onChange:e=>f(c(c({},g),{},{dealerId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Dealers"}),M.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),D?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===F.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No tips processed yet"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Dealer"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Total Tips"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Dealer Share"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Club Hold"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Floor Manager"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Status"})]})}),(0,ra.jsx)("tbody",{children:F.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:null===(t=e.dealer)||void 0===t?void 0:t.name}),(0,ra.jsxs)("td",{className:"text-right text-white p-3",children:["\u20b9",Number(e.totalTips).toFixed(2)]}),(0,ra.jsxs)("td",{className:"text-right text-green-400 p-3",children:["\u20b9",Number(e.dealerShareAmount).toFixed(2)]}),(0,ra.jsxs)("td",{className:"text-right text-cyan-400 p-3",children:["\u20b9",Number(e.clubHoldAmount).toFixed(2)]}),(0,ra.jsxs)("td",{className:"text-right text-blue-400 p-3",children:["\u20b9",Number(e.floorManagerAmount).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-white p-3",children:new Date(e.tipDate).toLocaleDateString()}),(0,ra.jsx)("td",{className:"text-white p-3",children:(0,ra.jsx)("span",{className:"px-2 py-1 bg-green-600 rounded text-xs",children:e.status})})]},e.id)})})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(x-1)+1," to ",Math.min(10*x,q)," of"," ",q," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===x,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(z)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>h(t+1),className:"px-4 py-2 rounded-lg ".concat(x===t+1?"bg-cyan-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>h(e=>Math.min(z,e+1)),disabled:x===z,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),"cashout"===l&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udc64 Click a Dealer to Process Cash Out"}),(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-h-60 overflow-y-auto",children:M.map(e=>(0,ra.jsxs)("button",{onClick:()=>(e=>{m(e),k(c(c({},C),{},{dealerId:e.id})),d(!0)})(e),className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border border-green-700 rounded-lg p-4 hover:from-green-800/40 hover:to-emerald-800/40 transition-all text-left",children:[(0,ra.jsx)("h4",{className:"text-white font-semibold text-lg",children:e.name}),(0,ra.jsx)("p",{className:"text-sm text-green-400 mt-1",children:e.email}),(0,ra.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Role: ",e.role]})]},e.id))})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Dealer Cashout History"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",placeholder:"Dealer name...",value:v.search,onChange:e=>y(c(c({},v),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:v.startDate,onChange:e=>y(c(c({},v),{},{startDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"End Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:v.endDate,onChange:e=>y(c(c({},v),{},{endDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Dealer"}),(0,ra.jsxs)("select",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:v.dealerId,onChange:e=>y(c(c({},v),{},{dealerId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Dealers"}),M.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),A?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===_.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No cashouts processed yet"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Dealer"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Amount"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Notes"})]})}),(0,ra.jsx)("tbody",{children:_.map(e=>{var t;return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:null===(t=e.dealer)||void 0===t?void 0:t.name}),(0,ra.jsxs)("td",{className:"text-right text-green-400 font-semibold p-3",children:["\u20b9",Number(e.amount).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-white p-3",children:new Date(e.cashoutDate).toLocaleDateString()}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.notes||"-"})]},e.id)})})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(p-1)+1," to"," ",Math.min(10*p,B)," of ",B," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===p,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(U)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>b(t+1),className:"px-4 py-2 rounded-lg ".concat(p===t+1?"bg-green-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>b(e=>Math.min(U,e+1)),disabled:p===U,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full border border-cyan-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83d\udcb0 Process Dealer Tips"}),u&&(0,ra.jsxs)("div",{className:"bg-cyan-900/30 border border-cyan-600 rounded-lg p-4 mb-4",children:[(0,ra.jsx)("div",{className:"text-xs text-cyan-400 mb-1",children:"Processing tips for:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold text-xl",children:u.name}),(0,ra.jsx)("p",{className:"text-sm text-cyan-300 mt-1",children:u.email})]}),(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-cyan-900/50 to-blue-900/50 rounded-lg p-6 border border-cyan-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83c\udfaf Tip Distribution Settings"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Club Hold Percentage"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-4 py-3 bg-cyan-800/30 border border-cyan-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:w.clubHoldPercentage,onChange:e=>j(c(c({},w),{},{clubHoldPercentage:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Dealer Share Percentage"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-4 py-3 bg-cyan-800/30 border border-cyan-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:w.dealerSharePercentage,onChange:e=>j(c(c({},w),{},{dealerSharePercentage:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Floor Manager Share"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-4 py-3 bg-cyan-800/30 border border-cyan-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:w.floorManagerPercentage,onChange:e=>j(c(c({},w),{},{floorManagerPercentage:e.target.value}))})]}),(0,ra.jsxs)("div",{className:"bg-cyan-800/50 border border-cyan-600 rounded-lg p-4",children:[(0,ra.jsx)("p",{className:"text-white mb-2",children:"Current Distribution:"}),(0,ra.jsxs)("p",{className:"text-white",children:["Club: ",w.clubHoldPercentage,"% \u2022 Dealer: ",w.dealerSharePercentage,"% \u2022 Floor Manager: ",w.floorManagerPercentage,"%"]}),(0,ra.jsxs)("p",{className:"text-white font-semibold mt-2",children:["Total: ",W.toFixed(2),"%",Math.abs(W-100)>.01&&(0,ra.jsx)("span",{className:"text-red-400 ml-2",children:"\u26a0\ufe0f Must equal 100%"})]})]}),(0,ra.jsx)("button",{onClick:()=>{const e=Number(w.clubHoldPercentage)+Number(w.dealerSharePercentage)+Number(w.floorManagerPercentage);Math.abs(e-100)>.01?Sl.error("Percentages must add up to 100%"):L.mutate(w)},disabled:L.isLoading,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:L.isLoading?"Updating...":"Update Settings"})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-700/50 rounded-lg p-6 border border-slate-600",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udcb5 Tip Processing"}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Tip Date *"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:N.tipDate,onChange:e=>S(c(c({},N),{},{tipDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Total Tips (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",placeholder:"\u20b90.00",value:N.totalTips,onChange:e=>S(c(c({},N),{},{totalTips:e.target.value}))})]}),N.totalTips&&(0,ra.jsxs)("div",{className:"bg-cyan-900/30 border border-cyan-500 rounded-lg p-3",children:[(0,ra.jsx)("p",{className:"text-white text-sm mb-1 font-semibold",children:"Distribution Preview:"}),(0,ra.jsxs)("p",{className:"text-white text-xs",children:["Club: \u20b9",(Number(N.totalTips)*Number(w.clubHoldPercentage)/100).toFixed(2)," ","\u2022 Dealer: \u20b9",(Number(N.totalTips)*Number(w.dealerSharePercentage)/100).toFixed(2)," \u2022 Floor: \u20b9",(Number(N.totalTips)*Number(w.floorManagerPercentage)/100).toFixed(2)]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Notes"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500 h-20",placeholder:"Additional notes...",value:N.notes,onChange:e=>S(c(c({},N),{},{notes:e.target.value}))})]})]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{N.dealerId&&N.totalTips?R.mutate(c(c({},N),{},{totalTips:Number(N.totalTips)})):Sl.error("Please fill in all required fields")},disabled:R.isLoading,className:"flex-1 bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:R.isLoading?"Processing...":"Process Tips"}),(0,ra.jsx)("button",{onClick:()=>{i(!1),m(null),j({clubHoldPercentage:15,dealerSharePercentage:80,floorManagerPercentage:5})},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),o&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-green-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83d\udcb5 Process Dealer Cash Out"}),u&&(0,ra.jsxs)("div",{className:"bg-green-900/30 border border-green-600 rounded-lg p-4 mb-4",children:[(0,ra.jsx)("div",{className:"text-xs text-green-400 mb-1",children:"Processing cashout for:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold text-xl",children:u.name}),(0,ra.jsx)("p",{className:"text-sm text-green-300 mt-1",children:u.email})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Cashout Date *"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:C.cashoutDate,onChange:e=>k(c(c({},C),{},{cashoutDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Cash Out Amount (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",placeholder:"\u20b90.00",value:C.amount,onChange:e=>k(c(c({},C),{},{amount:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-1 block",children:"Notes (Optional)"}),(0,ra.jsx)("textarea",{className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500 h-24",placeholder:"Additional notes about the cash out...",value:C.notes,onChange:e=>k(c(c({},C),{},{notes:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{C.dealerId&&C.amount?O.mutate(c(c({},C),{},{amount:Number(C.amount)})):Sl.error("Please fill in all required fields")},disabled:O.isLoading,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:O.isLoading?"Processing...":"Process Cash Out"}),(0,ra.jsx)("button",{onClick:()=>{d(!1),m(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}function Pc(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)("salary");return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Payroll Management"})}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>l("salary"),className:"px-6 py-3 font-semibold transition-colors ".concat("salary"===s?"text-white border-b-2 border-purple-500":"text-gray-400 hover:text-white"),children:"Employee Salary"}),(0,ra.jsx)("button",{onClick:()=>l("tips"),className:"px-6 py-3 font-semibold transition-colors ".concat("tips"===s?"text-white border-b-2 border-purple-500":"text-gray-400 hover:text-white"),children:"Dealer Tips"})]}),"salary"===s&&(0,ra.jsx)(zd,{selectedClubId:t}),"tips"===s&&(0,ra.jsx)(kc,{selectedClubId:t})]})}function Tc(e){let{selectedClubId:t}=e;const[s,l]=(0,a.useState)("list"),[r,n]=(0,a.useState)(1),[i,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[f,v]=(0,a.useState)({search:"",status:""}),[y,w]=(0,a.useState)({search:"",startDate:"",endDate:"",affiliateId:""}),[j,N]=(0,a.useState)(1),[S,C]=(0,a.useState)({affiliateId:"",amount:"",transactionType:"payment",description:"",notes:""}),k=ia(),{data:P,isLoading:T}=Si({queryKey:["affiliates",t,r,f],queryFn:()=>hn(t,c({page:r,limit:10},f)),enabled:!!t&&"list"===s}),{data:I,isLoading:D}=Si({queryKey:["affiliate-referrals",null===m||void 0===m?void 0:m.id,h,b],queryFn:()=>pn(t,null===m||void 0===m?void 0:m.id,{search:h,kycStatus:b}),enabled:!(null===m||void 0===m||!m.id)&&i}),{data:E,isLoading:A}=Si({queryKey:["affiliate-transactions",t,j,y],queryFn:()=>gn(t,c({page:j,limit:10},y)),enabled:!!t&&"payments"===s}),L=Ti({mutationFn:e=>bn(t,e),onSuccess:()=>{Sl.success("Payment processed successfully!"),k.invalidateQueries(["affiliate-transactions",t]),k.invalidateQueries(["affiliates",t]),u(!1),x(null),C({affiliateId:"",amount:"",transactionType:"payment",description:"",notes:""})},onError:e=>{Sl.error(e.message||"Failed to process payment")}}),R=(null===P||void 0===P?void 0:P.affiliates)||[],O=(null===P||void 0===P?void 0:P.totalPages)||1,M=(null===P||void 0===P?void 0:P.total)||0,F=(null===I||void 0===I?void 0:I.players)||[],_=(null===E||void 0===E?void 0:E.transactions)||[],z=(null===E||void 0===E?void 0:E.totalPages)||1,q=(null===E||void 0===E?void 0:E.total)||0,U=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"text-green-400";case"inactive":default:return"text-gray-400";case"suspended":return"text-red-400"}},B=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":case"verified":return"bg-green-900/30 text-green-400 border-green-700";case"pending":return"bg-yellow-900/30 text-yellow-400 border-yellow-700";case"rejected":return"bg-red-900/30 text-red-400 border-red-700";default:return"bg-gray-900/30 text-gray-400 border-gray-700"}};return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Affiliate Management"})}),(0,ra.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,ra.jsx)("button",{onClick:()=>l("list"),className:"px-6 py-3 font-semibold transition-colors ".concat("list"===s?"text-white border-b-2 border-yellow-500 bg-yellow-900/20":"text-gray-400 hover:text-white"),children:"\ud83d\udccb Affiliates List"}),(0,ra.jsx)("button",{onClick:()=>l("payments"),className:"px-6 py-3 font-semibold transition-colors ".concat("payments"===s?"text-white border-b-2 border-green-500 bg-green-900/20":"text-gray-400 hover:text-white"),children:"\ud83d\udcb0 Payments & Transactions"})]}),"list"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-4",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-yellow-500",placeholder:"Search by name, code, or email...",value:f.search,onChange:e=>v(c(c({},f),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Status"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-yellow-500",value:f.status,onChange:e=>v(c(c({},f),{},{status:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Status"}),(0,ra.jsx)("option",{value:"Active",children:"Active"}),(0,ra.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,ra.jsx)("option",{value:"Suspended",children:"Suspended"})]})]})]})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,ra.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["Affiliates (",M,")"]})}),T?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===R.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No affiliates found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Name"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Email"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Code"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"Referrals"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Earnings"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"Status"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"Actions"})]})}),(0,ra.jsx)("tbody",{children:R.map(e=>(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:e.name||"N/A"}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.email}),(0,ra.jsx)("td",{className:"p-3",children:(0,ra.jsx)("span",{className:"px-3 py-1 bg-yellow-900/30 text-yellow-400 rounded-lg font-mono text-sm border border-yellow-700",children:e.code})}),(0,ra.jsxs)("td",{className:"text-center p-3",children:[(0,ra.jsx)("div",{className:"text-cyan-400 font-semibold",children:e.totalReferrals}),(0,ra.jsxs)("div",{className:"text-xs text-gray-400",children:["(",e.verifiedReferrals," verified)"]})]}),(0,ra.jsxs)("td",{className:"text-right text-green-400 font-semibold p-3",children:["\u20b9",Number(e.totalCommission||0).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-center p-3",children:(0,ra.jsx)("span",{className:"font-semibold ".concat(U(e.status)),children:e.status})}),(0,ra.jsx)("td",{className:"text-center p-3",children:(0,ra.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,ra.jsx)("button",{onClick:()=>(e=>{x(e),o(!0),p(""),g("")})(e),className:"px-3 py-1 bg-cyan-900/30 hover:bg-cyan-800/50 text-cyan-400 rounded-lg text-sm border border-cyan-700 transition-colors",children:"View Players"}),(0,ra.jsx)("button",{onClick:()=>(e=>{x(e),C(c(c({},S),{},{affiliateId:e.id})),u(!0)})(e),className:"px-3 py-1 bg-green-900/30 hover:bg-green-800/50 text-green-400 rounded-lg text-sm border border-green-700 transition-colors",children:"Send Money"})]})})]},e.id))})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(r-1)+1," to ",Math.min(10*r,M)," of ",M," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>n(e=>Math.max(1,e-1)),disabled:1===r,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(O)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>n(t+1),className:"px-4 py-2 rounded-lg ".concat(r===t+1?"bg-yellow-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>n(e=>Math.min(O,e+1)),disabled:r===O,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),"payments"===s&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"bg-slate-800 rounded-lg p-4",children:(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Search"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",placeholder:"Search by name, code, email...",value:y.search,onChange:e=>w(c(c({},y),{},{search:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:y.startDate,onChange:e=>w(c(c({},y),{},{startDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"End Date"}),(0,ra.jsx)("input",{type:"date",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:y.endDate,onChange:e=>w(c(c({},y),{},{endDate:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Affiliate"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:y.affiliateId,onChange:e=>w(c(c({},y),{},{affiliateId:e.target.value})),children:[(0,ra.jsx)("option",{value:"",children:"All Affiliates"}),R.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name||e.email," (",e.code,")"]},e.id))]})]})]})}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6",children:[(0,ra.jsxs)("h3",{className:"text-xl font-semibold text-white mb-4",children:["Transaction History (",q,")"]}),A?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===_.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No transactions found"}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Date"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Affiliate"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Code"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Type"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Amount"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Description"})]})}),(0,ra.jsx)("tbody",{children:_.map(e=>{var t,s,a,l;return(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:new Date(e.processedAt).toLocaleDateString()}),(0,ra.jsx)("td",{className:"text-white p-3",children:(null===(t=e.affiliate)||void 0===t?void 0:t.name)||(null===(s=e.affiliate)||void 0===s||null===(a=s.user)||void 0===a?void 0:a.email)||"N/A"}),(0,ra.jsx)("td",{className:"p-3",children:(0,ra.jsx)("span",{className:"px-2 py-1 bg-yellow-900/30 text-yellow-400 rounded text-xs font-mono border border-yellow-700",children:null===(l=e.affiliate)||void 0===l?void 0:l.code})}),(0,ra.jsx)("td",{className:"p-3",children:(0,ra.jsx)("span",{className:"px-2 py-1 bg-blue-900/30 text-blue-400 rounded text-xs capitalize border border-blue-700",children:e.transactionType})}),(0,ra.jsxs)("td",{className:"text-right text-green-400 font-semibold p-3",children:["\u20b9",Number(e.amount).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.description||e.notes||"-"})]},e.id)})})]})}),(0,ra.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing ",10*(j-1)+1," to"," ",Math.min(10*j,q)," of ",q," entries"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>N(e=>Math.max(1,e-1)),disabled:1===j,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,ra.jsx)("div",{className:"flex gap-2",children:[...Array(z)].map((e,t)=>(0,ra.jsx)("button",{onClick:()=>N(t+1),className:"px-4 py-2 rounded-lg ".concat(j===t+1?"bg-green-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:t+1},t+1))}),(0,ra.jsx)("button",{onClick:()=>N(e=>Math.min(z,e+1)),disabled:j===z,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),i&&m&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-5xl w-full border border-cyan-600 max-h-[90vh] overflow-y-auto",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Referral Players"}),(0,ra.jsxs)("p",{className:"text-cyan-400 mt-1",children:["Affiliate: ",m.name||m.email," (",m.code,")"]})]}),(0,ra.jsx)("button",{onClick:()=>{o(!1),x(null)},className:"text-gray-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Search Player"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",placeholder:"Search by name, email, or phone...",value:h,onChange:e=>p(e.target.value)})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"KYC Status"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-cyan-500",value:b,onChange:e=>g(e.target.value),children:[(0,ra.jsx)("option",{value:"",children:"All Status"}),(0,ra.jsx)("option",{value:"approved",children:"Approved"}),(0,ra.jsx)("option",{value:"verified",children:"Verified"}),(0,ra.jsx)("option",{value:"pending",children:"Pending"}),(0,ra.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),D?(0,ra.jsx)("div",{className:"text-white text-center py-8",children:"Loading..."}):0===F.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No referral players found"}):(0,ra.jsx)("div",{className:"overflow-x-auto",children:(0,ra.jsxs)("table",{className:"w-full",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Name"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Email"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Phone"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"KYC Status"}),(0,ra.jsx)("th",{className:"text-center text-white font-semibold p-3",children:"Status"}),(0,ra.jsx)("th",{className:"text-right text-white font-semibold p-3",children:"Total Spent"}),(0,ra.jsx)("th",{className:"text-left text-white font-semibold p-3",children:"Joined"})]})}),(0,ra.jsx)("tbody",{children:F.map(e=>(0,ra.jsxs)("tr",{className:"border-b border-slate-700 hover:bg-slate-700",children:[(0,ra.jsx)("td",{className:"text-white p-3",children:e.name}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.email}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:e.phoneNumber||"N/A"}),(0,ra.jsx)("td",{className:"text-center p-3",children:(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs capitalize border ".concat(B(e.kycStatus)),children:e.kycStatus})}),(0,ra.jsx)("td",{className:"text-center p-3",children:(0,ra.jsx)("span",{className:"font-semibold ".concat(U(e.status)),children:e.status})}),(0,ra.jsxs)("td",{className:"text-right text-cyan-400 font-semibold p-3",children:["\u20b9",Number(e.totalSpent||0).toFixed(2)]}),(0,ra.jsx)("td",{className:"text-gray-400 p-3 text-sm",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})})]})}),d&&m&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-green-600",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"\ud83d\udcb0 Send Money to Affiliate"}),(0,ra.jsxs)("div",{className:"bg-green-900/30 border border-green-600 rounded-lg p-4 mb-6",children:[(0,ra.jsx)("div",{className:"text-xs text-green-400 mb-1",children:"Sending to:"}),(0,ra.jsx)("h3",{className:"text-white font-semibold text-xl",children:m.name||m.email}),(0,ra.jsxs)("p",{className:"text-sm text-green-300 mt-1",children:["Code: ",m.code]}),(0,ra.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Current Earnings: \u20b9",Number(m.totalCommission||0).toFixed(2)]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Amount (\u20b9) *"}),(0,ra.jsx)("input",{type:"number",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",placeholder:"\u20b90.00",value:S.amount,onChange:e=>C(c(c({},S),{},{amount:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Transaction Type"}),(0,ra.jsxs)("select",{className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",value:S.transactionType,onChange:e=>C(c(c({},S),{},{transactionType:e.target.value})),children:[(0,ra.jsx)("option",{value:"payment",children:"Payment"}),(0,ra.jsx)("option",{value:"bonus",children:"Bonus"}),(0,ra.jsx)("option",{value:"adjustment",children:"Adjustment"}),(0,ra.jsx)("option",{value:"commission",children:"Commission"})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Description"}),(0,ra.jsx)("input",{type:"text",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500",placeholder:"Brief description...",value:S.description,onChange:e=>C(c(c({},S),{},{description:e.target.value}))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Notes (Optional)"}),(0,ra.jsx)("textarea",{className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-green-500 h-24",placeholder:"Additional notes...",value:S.notes,onChange:e=>C(c(c({},S),{},{notes:e.target.value}))})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,ra.jsx)("button",{onClick:()=>{!S.amount||parseFloat(S.amount)<=0?Sl.error("Please enter a valid amount"):L.mutate(c(c({},S),{},{amount:parseFloat(S.amount)}))},disabled:L.isLoading,className:"flex-1 bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:L.isLoading?"Processing...":"Process Payment"}),(0,ra.jsx)("button",{onClick:()=>{u(!1),x(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}function Ic(e){let{clubId:t}=e;const[s,l]=(0,a.useState)("menu-inventory");return(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-orange-600 via-red-500 to-pink-500 p-6 rounded-xl shadow-lg",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Food & Beverage Management"}),(0,ra.jsx)("p",{className:"text-white/90",children:"Complete F&B management system for your poker club"})]}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-2 shadow-lg",children:(0,ra.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:[{id:"menu-inventory",label:"Menu & Inventory",icon:"\ud83d\udccb"},{id:"order-management",label:"Order Management",icon:"\ud83c\udf7d\ufe0f"},{id:"supplier-management",label:"Supplier Management",icon:"\ud83d\ude9a"},{id:"kitchen-operations",label:"Kitchen Operations",icon:"\ud83d\udc68\u200d\ud83c\udf73"}].map(e=>(0,ra.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ".concat(s===e.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-slate-700"),children:[(0,ra.jsx)("span",{className:"text-xl",children:e.icon}),(0,ra.jsx)("span",{children:e.label})]},e.id))})}),(0,ra.jsxs)("div",{className:"min-h-[600px]",children:["menu-inventory"===s&&(0,ra.jsx)(Zd,{clubId:t}),"order-management"===s&&(0,ra.jsx)(nc,{clubId:t}),"supplier-management"===s&&(0,ra.jsx)(uc,{clubId:t}),"kitchen-operations"===s&&(0,ra.jsx)(hc,{clubId:t})]})]})}function Dc(e){let{clubId:t}=e;const[s,l]=(0,a.useState)(null),r=[{id:"individual_player",name:"Individual Player Report",icon:(0,ra.jsx)(Io,{className:"text-5xl"}),color:"from-blue-500 to-cyan-500",description:"Detailed report for a specific player"},{id:"cumulative_player",name:"Cumulative Player Report",icon:(0,ra.jsx)(co,{className:"text-5xl"}),color:"from-purple-500 to-pink-500",description:"Overall statistics for all players"},{id:"daily_transactions",name:"Daily Transactions Report",icon:(0,ra.jsx)(ho,{className:"text-5xl"}),color:"from-yellow-500 to-orange-500",description:"All transactions for a date range"},{id:"daily_rake",name:"Daily Rake Report",icon:(0,ra.jsx)(uo,{className:"text-5xl"}),color:"from-red-500 to-pink-500",description:"Rake collected per day"},{id:"per_table_transactions",name:"Per Table Transactions Report",icon:(0,ra.jsx)(ko,{className:"text-5xl"}),color:"from-green-500 to-teal-500",description:"Transactions by table"},{id:"credit_transactions",name:"Credit Transactions Report",icon:(0,ra.jsx)(xo,{className:"text-5xl"}),color:"from-indigo-500 to-purple-500",description:"Credit requests and approvals"},{id:"expenses",name:"Expenses Report",icon:(0,ra.jsx)(So,{className:"text-5xl"}),color:"from-orange-500 to-red-500",description:"Salaries, tips, and other expenses"},{id:"bonus",name:"Bonus Report",icon:(0,ra.jsx)(yo,{className:"text-5xl"}),color:"from-pink-500 to-rose-500",description:"Player and staff bonuses"},{id:"custom",name:"Custom Report",icon:(0,ra.jsx)(Do,{className:"text-5xl"}),color:"from-gray-500 to-slate-500",description:"Compile multiple reports"}];return(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:(0,ra.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 rounded-lg mb-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Reports & Analytics"}),(0,ra.jsx)("p",{className:"text-white/80 mt-2",children:"Generate comprehensive reports with real-time data"})]}),(0,ra.jsxs)("div",{className:"mb-8",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Available Report Types"}),(0,ra.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,ra.jsx)("button",{onClick:()=>l(e),className:"bg-gradient-to-br ".concat(e.color," p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300 text-white"),children:(0,ra.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,ra.jsx)("div",{className:"p-4 bg-white/20 rounded-full",children:e.icon}),(0,ra.jsx)("h3",{className:"text-xl font-bold",children:e.name}),(0,ra.jsx)("p",{className:"text-sm text-white/80",children:e.description})]})},e.id))})]}),s&&(0,ra.jsx)(Ec,{report:s,clubId:t,onClose:()=>l(null)})]})})}function Ec(e){let{report:t,clubId:s,onClose:l}=e;const[r,n]=(0,a.useState)({startDate:(new Date).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0],format:"excel",playerId:"",playerSearch:"",tableNumber:"",customReportTypes:[]}),[i,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)([]);return(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-8 max-w-2xl w-full my-8",children:[(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"Report Configuration"}),(0,ra.jsxs)("div",{className:"bg-gradient-to-r ".concat(t.color," p-4 rounded-lg mb-6 flex items-center gap-4"),children:[(0,ra.jsx)("div",{className:"text-white text-3xl",children:t.icon}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:t.name}),(0,ra.jsx)("p",{className:"text-white/80 text-sm",children:t.description})]})]}),"individual_player"===t.id&&(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsxs)("label",{className:"block text-white mb-2 font-semibold",children:["Search Player ",(0,ra.jsx)("span",{className:"text-red-400",children:"(Type at least 3 characters)"})]}),(0,ra.jsx)("input",{type:"text",value:r.playerSearch,onChange:e=>{n(c(c({},r),{},{playerSearch:e.target.value})),(async e=>{if(e.length<3)x([]);else try{x([{id:"1",name:"John Doe",email:"john@example.com"},{id:"2",name:"Jane Smith",email:"jane@example.com"}])}catch(t){console.error("Error searching players:",t)}})(e.target.value)},placeholder:"Search by name, ID, or email...",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg"}),m.length>0&&(0,ra.jsx)("div",{className:"mt-2 bg-slate-700 rounded-lg max-h-48 overflow-y-auto",children:m.map(e=>(0,ra.jsxs)("button",{onClick:()=>{n(c(c({},r),{},{playerId:e.id,playerSearch:e.name})),x([])},className:"w-full text-left px-4 py-3 text-white hover:bg-slate-600 transition-colors",children:[(0,ra.jsx)("div",{className:"font-semibold",children:e.name}),(0,ra.jsx)("div",{className:"text-sm text-white/60",children:e.email})]},e.id))})]}),"per_table_transactions"===t.id&&(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsxs)("label",{className:"block text-white mb-2 font-semibold",children:["Table Number ",(0,ra.jsx)("span",{className:"text-white/60 text-sm",children:"(Optional - leave blank for all tables)"})]}),(0,ra.jsx)("input",{type:"text",value:r.tableNumber,onChange:e=>n(c(c({},r),{},{tableNumber:e.target.value})),placeholder:"e.g., Table 1, T-5",className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg"})]}),"custom"===t.id&&(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("label",{className:"block text-white mb-3 font-semibold",children:"Select Multiple Report Types to Compile"}),(0,ra.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["cumulative_player","daily_transactions","daily_rake","credit_transactions","expenses","bonus"].map(e=>(0,ra.jsxs)("label",{className:"flex items-center gap-2 bg-slate-700 p-3 rounded-lg cursor-pointer hover:bg-slate-600",children:[(0,ra.jsx)("input",{type:"checkbox",checked:r.customReportTypes.includes(e),onChange:t=>{t.target.checked?n(c(c({},r),{},{customReportTypes:[...r.customReportTypes,e]})):n(c(c({},r),{},{customReportTypes:r.customReportTypes.filter(t=>t!==e)}))},className:"w-4 h-4"}),(0,ra.jsx)("span",{className:"text-white text-sm capitalize",children:e.replace(/_/g," ")})]},e))})]}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Date Range"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",value:r.startDate,onChange:e=>n(c(c({},r),{},{startDate:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white mb-2",children:"End Date"}),(0,ra.jsx)("input",{type:"date",value:r.endDate,onChange:e=>n(c(c({},r),{},{endDate:e.target.value})),className:"w-full px-4 py-3 bg-slate-700 text-white rounded-lg"})]})]})]}),(0,ra.jsxs)("div",{className:"mb-8",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Download Format"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ra.jsxs)("button",{onClick:()=>n(c(c({},r),{},{format:"excel"})),className:"p-4 rounded-lg border-2 transition-all ".concat("excel"===r.format?"bg-green-600 border-green-400 text-white":"bg-slate-700 border-slate-600 text-white/70 hover:border-slate-500"),children:[(0,ra.jsx)(go,{className:"text-4xl mx-auto mb-2"}),(0,ra.jsx)("div",{className:"font-semibold",children:"Excel (.xlsx)"})]}),(0,ra.jsxs)("button",{onClick:()=>n(c(c({},r),{},{format:"pdf"})),className:"p-4 rounded-lg border-2 transition-all ".concat("pdf"===r.format?"bg-red-600 border-red-400 text-white":"bg-slate-700 border-slate-600 text-white/70 hover:border-slate-500"),children:[(0,ra.jsx)(fo,{className:"text-4xl mx-auto mb-2"}),(0,ra.jsx)("div",{className:"font-semibold",children:"PDF (.pdf)"})]})]})]}),(0,ra.jsxs)("div",{className:"flex gap-4",children:[(0,ra.jsxs)("button",{onClick:async()=>{try{o(!0);const e=c(c(c({reportType:t.id,startDate:r.startDate,endDate:r.endDate,format:r.format},"individual_player"===t.id&&{playerId:r.playerId}),"per_table_transactions"===t.id&&{tableNumber:r.tableNumber}),"custom"===t.id&&{customReportTypes:r.customReportTypes}),a="http://localhost:3333/api",n=await fetch("".concat(a,"/clubs/").concat(s,"/reports/generate"),{method:"POST",headers:kl(),body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to generate report");const i=await n.blob(),d=window.URL.createObjectURL(i),u=document.createElement("a");u.href=d,u.download="".concat(t.id,"_report_").concat(r.startDate,".").concat("excel"===r.format?"xlsx":"pdf"),document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(d),alert("Report generated successfully!"),l()}catch(e){console.error("Error generating report:",e),alert("Failed to generate report")}finally{o(!1)}},disabled:i||"individual_player"===t.id&&!r.playerId||"custom"===t.id&&0===r.customReportTypes.length,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-6 py-4 rounded-lg font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,ra.jsx)(po,{}),i?"Generating...":"Generate Report"]}),(0,ra.jsx)("button",{onClick:l,className:"px-6 py-4 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold",children:"Cancel"})]})]})})}function Ac(e){let{clubId:t}=e;const[s,l]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),x=Ti({mutationFn:async e=>{let{password:s,confirmationText:a}=e;return await Pl("/clubs/".concat(t,"/system/factory-reset"),{method:"POST",body:JSON.stringify({password:s,confirmationText:a})})},onSuccess:()=>{alert("Factory reset completed successfully. All club data has been wiped. Please refresh the page."),window.location.reload()},onError:e=>{m(e.message||"Failed to perform factory reset")}}),h=()=>{l(!1),n(!1),o(""),c(""),m("")};return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:[(0,ra.jsxs)("div",{className:"mb-8",children:[(0,ra.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"System Control"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Dangerous operations that affect the entire club"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-xl p-8 border border-red-500/30",children:[(0,ra.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,ra.jsx)("div",{className:"bg-red-500/20 p-4 rounded-xl",children:(0,ra.jsx)(To,{className:"text-3xl text-red-500"})}),(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Factory Reset"}),(0,ra.jsx)("p",{className:"text-gray-300 mb-4",children:"Factory Reset clears local data and resets the UI. Use with caution."}),(0,ra.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-4 mb-4",children:(0,ra.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ra.jsx)(bo,{className:"text-red-400 text-xl mt-0.5 flex-shrink-0"}),(0,ra.jsxs)("div",{className:"text-red-200 text-sm",children:[(0,ra.jsx)("p",{className:"font-semibold mb-2",children:"\u26a0\ufe0f WARNING: This action is irreversible!"}),(0,ra.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,ra.jsx)("li",{children:"All players will be permanently deleted"}),(0,ra.jsx)("li",{children:"All staff members will be removed"}),(0,ra.jsx)("li",{children:"All financial records will be wiped"}),(0,ra.jsx)("li",{children:"All transactions, bonuses, and credit data will be lost"}),(0,ra.jsx)("li",{children:"All tables, waitlists, and tournaments will be deleted"}),(0,ra.jsx)("li",{children:"All FNB orders, inventory, and suppliers will be removed"}),(0,ra.jsx)("li",{children:"All chat history will be erased"}),(0,ra.jsx)("li",{children:"The club will be reset to a completely blank state"})]}),(0,ra.jsx)("p",{className:"mt-3 font-semibold",children:"This operation cannot be undone. All data will be permanently lost!"})]})]})})]})]}),(0,ra.jsx)("button",{onClick:()=>{m(""),o(""),c(""),l(!0)},disabled:x.isPending,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed text-white px-8 py-4 rounded-lg font-bold text-lg transition-all shadow-lg hover:shadow-xl",children:x.isPending?"Processing...":"Factory Reset"})]}),s&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-8 max-w-md w-full border border-slate-700 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ra.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,ra.jsx)(wo,{className:"text-2xl text-red-500"})}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Verify Password"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"Enter your password to continue"})]})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i?(l(!1),n(!0)):m("Please enter your password")},children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("label",{className:"block text-white font-medium mb-2",children:"Password"}),(0,ra.jsx)("input",{type:"password",value:i,onChange:e=>o(e.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent",autoFocus:!0})]}),u&&(0,ra.jsx)("div",{className:"mb-4 bg-red-900/30 border border-red-500/50 rounded-lg p-3 text-red-200 text-sm",children:u}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:h,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg font-medium transition-all",children:"Continue"})]})]})]})}),r&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-8 max-w-md w-full border border-red-500 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ra.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,ra.jsx)(bo,{className:"text-2xl text-red-500"})}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Final Confirmation"}),(0,ra.jsx)("p",{className:"text-gray-400 text-sm",children:"This action cannot be undone!"})]})]}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-4 mb-4",children:(0,ra.jsx)("p",{className:"text-red-200 text-sm font-semibold",children:"You are about to permanently delete ALL club data!"})}),(0,ra.jsxs)("p",{className:"text-white mb-4",children:["To confirm, type ",(0,ra.jsx)("span",{className:"font-bold text-red-400",children:"DELETE ALL DATA"})," below:"]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"DELETE ALL DATA"===d?(x.mutate({password:i,confirmationText:d}),n(!1)):m('Please type "DELETE ALL DATA" exactly to confirm')},children:[(0,ra.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Type: DELETE ALL DATA",className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent mb-4",autoFocus:!0}),u&&(0,ra.jsx)("div",{className:"mb-4 bg-red-900/30 border border-red-500/50 rounded-lg p-3 text-red-200 text-sm",children:u}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:h,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:x.isPending||"DELETE ALL DATA"!==d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all",children:x.isPending?"Deleting...":"Delete Everything"})]})]})]})]})})]})}function Lc(){var e,t,s,l,r,n,i,o,d;const u=pe(),m=ia(),[x,h]=(0,a.useState)("Dashboard"),[p,b]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=localStorage.getItem("clubId");e?b(e):u("/login")},[u]);const{data:N,isLoading:S}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p});(0,a.useEffect)(()=>{N&&f(N)},[N]),(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("adminuser")||"{}");e.id||t.userId?(e.mustResetPassword||t.mustResetPassword)&&y(!0):u("/login")},[u]);const{data:C,isLoading:k}=Si({queryKey:["clubRevenue",p],queryFn:()=>Rl(p),enabled:!!p,refetchInterval:3e4}),{data:P,isLoading:T}=Si({queryKey:["clubPlayers",p],queryFn:()=>Gl(p,{limit:100}),enabled:!!p}),{data:I=[],isLoading:D}=Si({queryKey:["pendingPlayers",p],queryFn:()=>$l(p),enabled:!!p}),{data:E=[],isLoading:A}=Si({queryKey:["suspendedPlayers",p],queryFn:()=>Yl(p),enabled:!!p}),L=e=>"\u20b9".concat((e||0).toLocaleString("en-IN")),R=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("adminuser")||"{}");t.mustResetPassword=!1,localStorage.setItem("adminuser",JSON.stringify(t)),y(!1),j({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),O=v&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("adminuser")||"{}"),a=t.email||s.email;a?w.currentPassword&&w.newPassword&&w.confirmPassword?w.newPassword===w.confirmPassword?w.newPassword.length<8?Sl.error("Password must be at least 8 characters"):R.mutate({email:a,currentPassword:w.currentPassword,newPassword:w.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:w.currentPassword,onChange:e=>j(c(c({},w),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:w.newPassword,onChange:e=>j(c(c({},w),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:w.confirmPassword,onChange:e=>j(c(c({},w),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:R.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:R.isLoading?"Resetting...":"Reset Password"})]})]})});if(S||!p)return(0,ra.jsxs)(ra.Fragment,{children:[O,(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-white text-center",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-xl",children:"Loading club data..."})]})})]});return(0,ra.jsxs)(ra.Fragment,{children:[O,(0,ra.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900",children:[(0,ra.jsx)(Nc,{activeItem:x,setActiveItem:h,menuItems:["Dashboard","Player Management","Staff Management","Payroll Management","Affiliates","Tables & Waitlist","VIP Store","Push Notifications","Tournaments","Bonus Management","FNB","Chat","Reports & Analytics","System Control"],onSignOut:()=>{localStorage.clear(),u("/login")}}),(0,ra.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:["Dashboard"===x&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Dashboard - ",(null===g||void 0===g?void 0:g.name)||(null===N||void 0===N?void 0:N.name)||"Loading..."]})}),k?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading revenue data..."})]}):(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(e=C.previousDay)||void 0===e?void 0:e.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===C||void 0===C||null===(t=C.previousDay)||void 0===t?void 0:t.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-600",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:L((null===C||void 0===C||null===(s=C.currentDay)||void 0===s?void 0:s.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===C||void 0===C||null===(l=C.currentDay)||void 0===l?void 0:l.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(r=C.currentDay)||void 0===r?void 0:r.rake)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"10% of revenue"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(n=C.previousDay)||void 0===n?void 0:n.rake)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(i=C.previousDay)||void 0===i?void 0:i.tips)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:L((null===C||void 0===C||null===(o=C.currentDay)||void 0===o?void 0:o.tips)||0)})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Players"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Total Players"}),(0,ra.jsx)("span",{className:"text-white font-semibold",children:T?"...":(null===P||void 0===P||null===(d=P.players)||void 0===d?void 0:d.length)||0})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Pending Approval"}),(0,ra.jsx)("span",{className:"text-yellow-400 font-semibold",children:D?"...":I.length})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Suspended"}),(0,ra.jsx)("span",{className:"text-red-400 font-semibold",children:A?"...":E.length})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("button",{onClick:()=>h("Player Management"),className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white py-2 rounded-lg transition-colors",children:"Manage Players"}),(0,ra.jsxs)("button",{onClick:()=>h("Player Approval"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-lg transition-colors",children:["Review Approvals (",D?"...":I.length,")"]}),(0,ra.jsxs)("button",{onClick:()=>h("Player Suspension"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white py-2 rounded-lg transition-colors",children:["Suspended Players (",A?"...":E.length,")"]})]})]})]})]}),"Player Management"===x&&(0,ra.jsx)(Ai,{selectedClubId:p,playersData:P,playersLoading:T,pendingPlayers:I,pendingLoading:D,suspendedPlayers:E,suspendedLoading:A,onRefresh:()=>{m.invalidateQueries(["pendingPlayers",p]),m.invalidateQueries(["clubPlayers",p]),m.invalidateQueries(["suspendedPlayers",p])}}),"Tables & Waitlist"===x&&(0,ra.jsx)(Ri,{selectedClubId:p}),"VIP Store"===x&&(0,ra.jsx)(Sc,{selectedClubId:p}),"Push Notifications"===x&&(0,ra.jsx)(Qi,{selectedClubId:p}),"Tournaments"===x&&(0,ra.jsx)(Yi,{selectedClubId:p}),"Staff Management"===x&&(0,ra.jsx)(Id,{selectedClubId:p}),"Payroll Management"===x&&(0,ra.jsx)(Pc,{selectedClubId:p}),"Bonus Management"===x&&(0,ra.jsx)(Wd,{selectedClubId:p}),"Affiliates"===x&&(0,ra.jsx)(Tc,{selectedClubId:p}),"FNB"===x&&p&&(0,ra.jsx)(Ic,{clubId:p}),"Chat"===x&&p&&(0,ra.jsx)(Eo,{clubId:p}),"Reports & Analytics"===x&&p&&(0,ra.jsx)(Dc,{clubId:p}),"System Control"===x&&p&&(0,ra.jsx)(Ac,{clubId:p}),!["Dashboard","Player Management","Tables & Waitlist","VIP Store","Push Notifications","Tournaments","Staff Management","Payroll Management","Bonus Management","Affiliates","FNB","Chat","Reports & Analytics","System Control"].includes(x)&&(0,ra.jsxs)("div",{className:"text-white",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold mb-6",children:x}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"This section is under development and will use real data from the backend."})})]})]})]})]})}function Rc(){return(0,ra.jsx)(Cd,{role:"MASTER_ADMIN",roleDisplayName:"Master Admin",redirectPath:"/master-admin",gradientFrom:"from-indigo-400",gradientTo:"to-purple-600",description:"System-wide Administration"})}function Oc(e){let{title:t,subtitle:s}=e;const[l,r]=a.useState(!1);return(0,ra.jsx)("header",{className:"bg-gradient-to-r from-emerald-600 via-green-500 to-yellow-400 p-6 rounded-xl shadow-md flex items-center justify-between",children:(0,ra.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ra.jsx)("div",{className:"w-12 h-12 rounded-lg bg-white/20 flex items-center justify-center overflow-hidden border border-white/30",children:l?(0,ra.jsx)("div",{className:"text-white font-bold",children:"WL"}):(0,ra.jsx)("img",{src:"/branding/logo.png",alt:"Brand Logo",className:"w-full h-full object-contain",onError:()=>r(!0)})}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h1",{className:"text-2xl font-bold text-white",children:t}),s&&(0,ra.jsx)("p",{className:"text-gray-200 mt-1",children:s})]})]})})}function Mc(e){let{activeItem:t,setActiveItem:s,menuItems:l=[],onSignOut:r=null,userEmail:n=null,userName:i=null}=e;const[o,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(window.innerWidth<1024),[x,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),[g,f]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[v,y]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[N,S]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[I,D]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;m(e),e||d(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(o&&u){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[o,u]),(0,ra.jsxs)(ra.Fragment,{children:[u&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-emerald-500 to-teal-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>d(!o),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u&&o&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>d(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-emerald-500/20 via-teal-600/30 to-cyan-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(u?o?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 drop-shadow-lg mb-6",children:"Master Admin"}),(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsxs)("button",{onClick:()=>h(!x),className:"flex items-center text-white min-w-0 w-full hover:bg-white/10 p-2 rounded-lg transition-colors",children:[(0,ra.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:(0,ra.jsx)("span",{className:"text-gray-900 font-bold text-sm",children:i?i.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"MA"})}),(0,ra.jsxs)("div",{className:"min-w-0 flex-1 text-left",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold truncate",children:i||"Master Admin"}),(0,ra.jsx)("div",{className:"text-sm opacity-80 truncate",children:n||"No email"})]}),(0,ra.jsx)("svg",{className:"w-4 h-4 ml-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&(0,ra.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 rounded-lg shadow-xl border border-gray-700 z-50 overflow-hidden",children:[(0,ra.jsxs)("div",{className:"p-3 border-b border-gray-700",children:[(0,ra.jsx)("div",{className:"text-white font-semibold text-sm mb-1",children:"Profile"}),(0,ra.jsx)("div",{className:"text-gray-400 text-xs truncate",children:n||"No email"})]}),(0,ra.jsxs)("button",{onClick:()=>{b(!0),h(!1)},className:"w-full text-left px-4 py-3 text-white hover:bg-white/10 transition-colors flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Change Password"]})]})]})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map(e=>(0,ra.jsx)("button",{onClick:()=>{s(e),u&&d(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-emerald-400 to-cyan-600 text-gray-900 font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-emerald-400/20 hover:to-cyan-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},e))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})}),p&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-md border border-gray-700",children:[(0,ra.jsxs)("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white",children:"Change Password"}),(0,ra.jsx)("button",{onClick:()=>{b(!1),f({currentPassword:"",newPassword:"",confirmPassword:""}),y(""),j("")},className:"text-gray-400 hover:text-white transition",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ra.jsxs)("div",{className:"p-6 space-y-4",children:[v&&(0,ra.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm",children:v}),w&&(0,ra.jsx)("div",{className:"bg-green-500/20 border border-green-500 text-green-400 px-4 py-3 rounded-lg text-sm",children:w}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Current Password"}),(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)("input",{type:C?"text":"password",value:g.currentPassword,onChange:e=>f(c(c({},g),{},{currentPassword:e.target.value})),className:"w-full px-4 py-3 pr-12 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",disabled:N}),(0,ra.jsx)("button",{type:"button",onClick:()=>k(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition",children:C?(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,ra.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"New Password"}),(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)("input",{type:P?"text":"password",value:g.newPassword,onChange:e=>f(c(c({},g),{},{newPassword:e.target.value})),className:"w-full px-4 py-3 pr-12 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",disabled:N}),(0,ra.jsx)("button",{type:"button",onClick:()=>T(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition",children:P?(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,ra.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Confirm New Password"}),(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)("input",{type:I?"text":"password",value:g.confirmPassword,onChange:e=>f(c(c({},g),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-3 pr-12 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",disabled:N}),(0,ra.jsx)("button",{type:"button",onClick:()=>D(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition",children:I?(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,ra.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,ra.jsx)("button",{onClick:()=>{b(!1),f({currentPassword:"",newPassword:"",confirmPassword:""}),y(""),j("")},className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition",disabled:N,children:"Cancel"}),(0,ra.jsx)("button",{onClick:async()=>{if(y(""),j(""),g.currentPassword&&g.newPassword&&g.confirmPassword)if(g.newPassword.length<6)y("New password must be at least 6 characters");else if(g.newPassword===g.confirmPassword)try{S(!0);const e=await fetch("".concat("http://localhost:3333/api","/auth/change-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,currentPassword:g.currentPassword,newPassword:g.newPassword})}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to change password");j("Password changed successfully!"),f({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{b(!1),j("")},2e3)}catch(e){y(e.message||"Failed to change password")}finally{S(!1)}else y("New passwords do not match");else y("All fields are required")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,children:N?"Changing...":"Change Password"})]})]})]})})]})}function Fc(){var e;const[t,s]=(0,a.useState)("Dashboard"),[l,r]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(null),[p,b]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),[v,y]=(0,a.useState)(null),[w,j]=(0,a.useState)(null),[N,S]=(0,a.useState)("all"),[C,k]=(0,a.useState)("name"),[P,T]=(0,a.useState)("name"),[I,D]=(0,a.useState)("price"),[E,A]=(0,a.useState)(null),[L,R]=(0,a.useState)({}),[O,M]=(0,a.useState)(!1),[F,_]=(0,a.useState)(!1),[z,q]=(0,a.useState)(null),[U,B]=(0,a.useState)({tenantName:"",superAdminName:"",superAdminEmail:""}),[W,H]=(0,a.useState)({clubName:"",clubDescription:"",skinColor:"#10b981",gradient:"emerald-green-teal",logoUrl:"",videoUrl:"",tenantId:"",createNewTenant:!1,newTenantName:"",newSuperAdminName:"",newSuperAdminEmail:""}),[V,J]=(0,a.useState)(null),[K,Q]=(0,a.useState)(!1),[G,$]=(0,a.useState)(!1),[Y,X]=(0,a.useState)(null),[Z,ee]=(0,a.useState)(""),[te,se]=(0,a.useState)(""),[ae,le]=(0,a.useState)({termsText:"",publicUrl:""}),re=pe(),ne=[{value:"emerald-green-teal",label:"Emerald \u2192 Green \u2192 Teal",class:"from-emerald-600 via-green-500 to-teal-500"},{value:"teal-cyan-blue",label:"Teal \u2192 Cyan \u2192 Blue",class:"from-teal-500 via-cyan-500 to-blue-500"},{value:"cyan-blue-indigo",label:"Cyan \u2192 Blue \u2192 Indigo",class:"from-cyan-500 via-blue-500 to-indigo-600"},{value:"blue-indigo-purple",label:"Blue \u2192 Indigo \u2192 Purple",class:"from-blue-600 via-indigo-500 to-purple-600"},{value:"purple-pink-rose",label:"Purple \u2192 Pink \u2192 Rose",class:"from-purple-600 via-pink-500 to-rose-500"},{value:"pink-red-orange",label:"Pink \u2192 Red \u2192 Orange",class:"from-pink-500 via-red-500 to-orange-500"},{value:"red-orange-yellow",label:"Red \u2192 Orange \u2192 Yellow",class:"from-red-600 via-orange-500 to-yellow-500"},{value:"orange-yellow-lime",label:"Orange \u2192 Yellow \u2192 Lime",class:"from-orange-500 via-yellow-500 to-lime-500"},{value:"yellow-lime-green",label:"Yellow \u2192 Lime \u2192 Green",class:"from-yellow-500 via-lime-500 to-green-500"},{value:"indigo-purple-pink",label:"Indigo \u2192 Purple \u2192 Pink",class:"from-indigo-600 via-purple-500 to-pink-500"},{value:"gray-slate-zinc",label:"Gray \u2192 Slate \u2192 Zinc",class:"from-gray-600 via-slate-500 to-zinc-500"},{value:"slate-gray-neutral",label:"Slate \u2192 Gray \u2192 Neutral",class:"from-slate-600 via-gray-500 to-neutral-500"}];(0,a.useEffect)(()=>{(async()=>{const e=localStorage.getItem("user"),t=localStorage.getItem("userEmail");if(e)try{const s=JSON.parse(e);return d(s.email||t||""),void m(s.displayName||s.name||"Master Admin")}catch(ca){console.error("Failed to parse user data:",ca)}if(t)return d(t),void m("Master Admin");t&&(d(t),m("Master Admin"));if(localStorage.getItem("userId")&&!e)try{const e=await Tn.getCurrentUser();e&&e.email&&(d(e.email),m(e.displayName||"Master Admin"),localStorage.setItem("user",JSON.stringify({id:e.id,email:e.email,name:e.displayName||e.email,displayName:e.displayName})))}catch(s){console.error("Failed to fetch user info:",s),t&&(d(t),m("Master Admin"))}})()},[]),(0,a.useEffect)(()=>{ie()},[]);const ie=async()=>{r(!0),i("");try{const e=await Tn.getDashboardStats();h(e),b(e.clubs||[]),f(e.tenants||[]),e.clubs&&e.clubs.length>0&&j(e.clubs[0].id)}catch(e){console.error("Failed to load dashboard data:",e),i("Failed to load dashboard data: "+e.message)}finally{r(!1)}},oe=()=>{Il(),re("/master-admin/signin")},de=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";ee(e),se(t),setTimeout(()=>{ee(""),se("")},5e3)},ce=async(e,t,s)=>{if(confirm("Are you sure you want to ".concat(t," this club?\n\n").concat(s?"Reason: "+s:"")))try{await Tn.updateClubStatus(e,t,s),alert("\u2705 Club status updated to: ".concat(t)),ie()}catch(a){alert("Failed to update club status: "+a.message)}},ue=()=>{A(null),R({})},me=async e=>{if(e.preventDefault(),w)try{await Tn.updateClubTerms(w,ae.termsText),alert("\u2705 Terms & Conditions updated successfully!"),ie()}catch(t){alert("Failed to update terms: "+t.message)}else alert("Please select a club first")},xe=p.filter(e=>"all"===N||e.status===N).sort((e,t)=>"name"===C?e.name.localeCompare(t.name):"status"===C?e.status.localeCompare(t.status):"subscription"===C?parseFloat(t.subscriptionPrice)-parseFloat(e.subscriptionPrice):0),he=[...g].sort((e,t)=>{if("name"===P)return e.name.localeCompare(t.name);if("clubs"===P){const s=p.filter(t=>t.tenant.id===e.id).length,a=p.filter(e=>e.tenant.id===t.id).length;return a-s}return 0}),be=p.find(e=>e.id===w);return l?(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-xl font-medium",children:"Loading Master Admin Dashboard..."}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Fetching data from backend..."})]})}):n?(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"max-w-md text-center",children:[(0,ra.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Error Loading Dashboard"}),(0,ra.jsx)("p",{className:"text-gray-400 mb-6",children:n}),(0,ra.jsx)("button",{onClick:ie,className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-lg font-medium",children:"Retry"})]})}):(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white font-sans",children:[(0,ra.jsxs)("div",{className:"flex",children:[(0,ra.jsx)(Mc,{activeItem:t,setActiveItem:s,menuItems:["Dashboard","Tenants Management","Clubs Management","Rummy Settings","Terms & Conditions","Subscriptions","Reports"],onSignOut:oe,userEmail:o,userName:u}),(0,ra.jsx)("main",{className:"flex-1 lg:ml-0 min-w-0",children:(0,ra.jsxs)("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 py-6 sm:py-10 space-y-8",children:[(0,ra.jsx)("div",{className:"mt-16 lg:mt-0",children:(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)(Oc,{title:"Master Admin - ".concat(t),subtitle:"White-label control center"}),(0,ra.jsx)("button",{onClick:oe,className:"bg-red-600 hover:bg-red-500 text-white font-semibold px-4 py-2 rounded-lg shadow",children:"Sign Out"})]})}),"Dashboard"===t&&x&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6",children:[(0,ra.jsxs)("div",{className:"p-6 rounded-xl bg-gradient-to-br from-emerald-400 via-teal-500 to-cyan-500 text-gray-900 shadow-lg",children:[(0,ra.jsx)("div",{className:"text-sm opacity-90 text-white/90",children:"Total Tenants"}),(0,ra.jsx)("div",{className:"text-3xl font-bold mt-2 text-white",children:x.totalTenants}),(0,ra.jsx)("div",{className:"text-xs mt-1 text-white/70",children:"Organization groups"})]}),(0,ra.jsxs)("div",{className:"p-6 rounded-xl bg-gradient-to-br from-blue-400 via-indigo-500 to-purple-500 text-gray-900 shadow-lg",children:[(0,ra.jsx)("div",{className:"text-sm opacity-90 text-white/90",children:"Total Clubs"}),(0,ra.jsx)("div",{className:"text-3xl font-bold mt-2 text-white",children:x.totalClubs}),(0,ra.jsx)("div",{className:"text-xs mt-1 text-white/70",children:"All poker clubs"})]}),(0,ra.jsxs)("div",{className:"p-6 rounded-xl bg-gradient-to-br from-green-400 via-emerald-500 to-teal-500 text-gray-900 shadow-lg",children:[(0,ra.jsx)("div",{className:"text-sm opacity-90 text-white/90",children:"Active Clubs"}),(0,ra.jsx)("div",{className:"text-3xl font-bold mt-2 text-white",children:x.activeClubs}),(0,ra.jsxs)("div",{className:"text-xs mt-1 text-white/70",children:[x.suspendedClubs>0&&"".concat(x.suspendedClubs," suspended, "),x.killedClubs>0&&"".concat(x.killedClubs," killed")]})]}),(0,ra.jsxs)("div",{className:"p-6 rounded-xl bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 text-gray-900 shadow-lg",children:[(0,ra.jsx)("div",{className:"text-sm opacity-90 text-white/90",children:"Monthly Revenue"}),(0,ra.jsxs)("div",{className:"text-3xl font-bold mt-2 text-white",children:["\u20b9",x.monthlyRevenue.toLocaleString("en-IN")]}),(0,ra.jsx)("div",{className:"text-xs mt-1 text-white/70",children:"From subscriptions"})]})]}),(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),(0,ra.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,ra.jsx)("button",{onClick:()=>M(!0),className:"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-400 hover:to-teal-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg",children:"+ Create Tenant"}),(0,ra.jsx)("button",{onClick:()=>_(!0),className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-400 hover:to-indigo-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg",children:"+ Create Club"}),(0,ra.jsx)("button",{onClick:()=>s("Reports"),className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg",children:"View Reports"})]})]}),(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Recent Clubs"}),(0,ra.jsx)("div",{className:"space-y-4",children:p.slice(0,5).map(e=>(0,ra.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg border border-slate-700 flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"font-bold text-white",children:e.name}),(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["Code: ",e.code," | Tenant: ",e.tenant.name]})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-500/20 text-green-300":"suspended"===e.status?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"),children:e.status}),(0,ra.jsxs)("span",{className:"text-emerald-400 font-medium",children:["\u20b9",e.subscriptionPrice,"/mo"]})]})]},e.id))})]})]}),"Tenants Management"===t&&(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Tenants (",g.length,")"]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsxs)("select",{value:P,onChange:e=>T(e.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",children:[(0,ra.jsx)("option",{value:"name",children:"Sort by Name"}),(0,ra.jsx)("option",{value:"clubs",children:"Sort by Club Count"})]}),(0,ra.jsx)("button",{onClick:()=>M(!0),className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg font-medium",children:"+ Create Tenant"})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[he.map(e=>{const t=p.filter(t=>t.tenant.id===e.id),s=v===e.id;return(0,ra.jsxs)("div",{className:"p-6 bg-slate-800/50 rounded-lg border ".concat(s?"border-emerald-500":"border-slate-700"," cursor-pointer transition-all hover:border-emerald-500/50"),children:[(0,ra.jsx)("div",{onClick:()=>y(s?null:e.id),children:(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,ra.jsxs)("div",{className:"text-right",children:[(0,ra.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:t.length}),(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:"Clubs"})]})]})}),s&&t.length>0&&(0,ra.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700 space-y-2",children:[(0,ra.jsx)("div",{className:"text-sm font-medium text-gray-300 mb-3",children:"Clubs:"}),t.map(e=>(0,ra.jsx)("div",{className:"p-3 bg-slate-900/50 rounded border border-slate-700",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,ra.jsxs)("div",{className:"text-xs text-gray-400 font-mono",children:["Code: ",e.code]})]}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-500/20 text-green-300":"suspended"===e.status?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"),children:e.status})]})},e.id))]}),s&&0===t.length&&(0,ra.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-700 text-center text-gray-400 text-sm",children:"No clubs yet"})]},e.id)}),0===g.length&&(0,ra.jsx)("div",{className:"col-span-full text-center py-12 text-gray-400",children:(0,ra.jsx)("p",{children:"No tenants found. Create your first tenant to get started!"})})]})]}),"Clubs Management"===t&&(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["All Clubs (",xe.length,")"]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsxs)("select",{value:N,onChange:e=>S(e.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",children:[(0,ra.jsx)("option",{value:"all",children:"All Status"}),(0,ra.jsx)("option",{value:"active",children:"Active"}),(0,ra.jsx)("option",{value:"suspended",children:"Suspended"}),(0,ra.jsx)("option",{value:"killed",children:"Killed"})]}),(0,ra.jsxs)("select",{value:C,onChange:e=>k(e.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",children:[(0,ra.jsx)("option",{value:"name",children:"Sort by Name"}),(0,ra.jsx)("option",{value:"status",children:"Sort by Status"}),(0,ra.jsx)("option",{value:"subscription",children:"Sort by Subscription"})]}),(0,ra.jsx)("button",{onClick:()=>_(!0),className:"bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg font-medium",children:"+ Create Club"})]})]}),(0,ra.jsxs)("div",{className:"grid gap-4",children:[xe.map(e=>(0,ra.jsx)("div",{className:"p-6 bg-slate-800/50 rounded-lg border border-slate-700",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-500/20 text-green-300":"suspended"===e.status?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"),children:e.status})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Club Code:"}),(0,ra.jsx)("span",{className:"text-white font-mono ml-2",children:e.code})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Tenant:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:e.tenant.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Subscription:"}),(0,ra.jsxs)("span",{className:"text-emerald-400 ml-2 font-medium",children:["\u20b9",e.subscriptionPrice,"/month"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Sub Status:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:e.subscriptionStatus})]})]}),e.description&&(0,ra.jsx)("p",{className:"text-gray-400 mt-3 text-sm",children:e.description})]}),(0,ra.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:["active"===e.status&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("button",{onClick:()=>ce(e.id,"suspended","Temporary suspension"),className:"bg-yellow-600 hover:bg-yellow-500 px-3 py-1 rounded text-sm",children:"Suspend"}),(0,ra.jsx)("button",{onClick:()=>ce(e.id,"killed","Permanent closure"),className:"bg-red-600 hover:bg-red-500 px-3 py-1 rounded text-sm",children:"Kill"})]}),"suspended"===e.status&&(0,ra.jsx)("button",{onClick:()=>ce(e.id,"active","Reactivated"),className:"bg-green-600 hover:bg-green-500 px-3 py-1 rounded text-sm",children:"Reactivate"}),"killed"===e.status&&(0,ra.jsx)("button",{onClick:()=>ce(e.id,"active","Restored from killed status"),className:"bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded text-sm",children:"Restore"}),(0,ra.jsx)("button",{onClick:()=>{q(e),s("Subscriptions")},className:"bg-purple-600 hover:bg-purple-500 px-3 py-1 rounded text-sm",children:"Edit Sub"}),(0,ra.jsx)("button",{onClick:()=>{q(e),j(e.id),s("Terms & Conditions")},className:"bg-indigo-600 hover:bg-indigo-500 px-3 py-1 rounded text-sm",children:"Terms"})]})]})},e.id)),0===xe.length&&(0,ra.jsx)("div",{className:"text-center py-12 text-gray-400",children:(0,ra.jsx)("p",{children:"No clubs found with the selected filters."})})]})]}),"Rummy Settings"===t&&(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Rummy Mode Settings"}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Club Selection"}),(0,ra.jsxs)("select",{value:w||"",onChange:e=>j(e.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"",children:"Choose a club..."}),p.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))]})]}),be&&(0,ra.jsxs)("div",{className:"p-6 bg-slate-800/70 rounded-lg border border-slate-600",children:[(0,ra.jsxs)("h4",{className:"font-bold text-lg mb-4 text-emerald-400",children:["Enable Rummy Mode for ",be.name]}),(0,ra.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"When enabled, the club's backend dashboard and player portal will show Rummy-specific features:"}),(0,ra.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400 mb-6",children:[(0,ra.jsx)("li",{children:'\u2022 UI labels change from "Poker Table" to "Rummy Table"'}),(0,ra.jsx)("li",{children:"\u2022 Table shape switches to round for Rummy tables"}),(0,ra.jsx)("li",{children:"\u2022 Rummy variants become available in table creation"}),(0,ra.jsx)("li",{children:"\u2022 Rummy-specific rules and gameplay features are enabled"})]}),(0,ra.jsx)("button",{disabled:!0,className:"w-full bg-slate-700 text-gray-400 px-6 py-3 rounded-lg font-medium cursor-not-allowed",children:"Disabled"}),(0,ra.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Note: Table creation and management is handled by club staff (Admin/Manager) in their respective portals, just like poker tables. This setting only enables/disables Rummy mode features for the club."})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:"Club Rummy Status"}),(0,ra.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,ra.jsxs)("div",{className:"p-4 bg-slate-800/70 rounded-lg border border-slate-600 flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,ra.jsx)("div",{className:"text-xs text-gray-400",children:"Rummy Mode: Disabled"})]}),(0,ra.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-500/20 text-gray-300",children:"Disabled"})]},e.id))})]})]})]}),"Terms & Conditions"===t&&(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Terms & Conditions (Per Club)"}),(0,ra.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,ra.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,ra.jsxs)("select",{value:w||"",onChange:e=>{j(e.target.value);const t=p.find(t=>t.id===e.target.value);t&&le({termsText:t.termsAndConditions||"",publicUrl:""})},className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"",children:"Choose a club..."}),p.map(e=>(0,ra.jsxs)("option",{value:e.id,children:[e.name," (",e.code,") - ",e.tenant.name]},e.id))]}),(0,ra.jsx)("input",{type:"text",placeholder:"Optional public URL",value:ae.publicUrl,onChange:e=>le(c(c({},ae),{},{publicUrl:e.target.value})),className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white placeholder-gray-500"}),(0,ra.jsx)("button",{onClick:me,disabled:!w,className:"bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-600 disabled:cursor-not-allowed px-8 py-3 rounded-lg font-medium text-white whitespace-nowrap",children:"Upload / Save"})]}),be&&(0,ra.jsxs)("form",{onSubmit:me,children:[(0,ra.jsx)("textarea",{name:"terms",value:ae.termsText,onChange:e=>le(c(c({},ae),{},{termsText:e.target.value})),rows:15,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white font-mono text-sm",placeholder:"Paste Terms & Conditions here..."}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Only Master Admin can manage club T&C."})]}),!be&&(0,ra.jsx)("div",{className:"text-center py-12 text-gray-400",children:(0,ra.jsx)("p",{children:"Select a club from the dropdown above to edit terms & conditions."})})]})]}),"Subscriptions"===t&&(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Subscription Management (",p.length,")"]}),(0,ra.jsxs)("select",{value:I,onChange:e=>D(e.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",children:[(0,ra.jsx)("option",{value:"price",children:"Sort by Price"}),(0,ra.jsx)("option",{value:"name",children:"Sort by Club Name"}),(0,ra.jsx)("option",{value:"tenant",children:"Sort by Tenant Name"}),(0,ra.jsx)("option",{value:"date",children:"Sort by Date Created"})]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[[...p].sort((e,t)=>"price"===I?parseFloat(t.subscriptionPrice)-parseFloat(e.subscriptionPrice):"name"===I?e.name.localeCompare(t.name):"tenant"===I?e.tenant.name.localeCompare(t.tenant.name):"date"===I?new Date(t.createdAt)-new Date(e.createdAt):0).map(e=>(0,ra.jsx)("div",{className:"p-6 bg-slate-800/50 rounded-lg border border-slate-700",children:E===e.id?(0,ra.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async(e,t)=>{try{await Tn.updateClubSubscription(e,t),alert("\u2705 Subscription updated successfully!"),A(null),R({}),ie()}catch(s){alert("Failed to update subscription: "+s.message)}})(e.id,{subscriptionPrice:parseFloat(L.price),subscriptionStatus:L.status,subscriptionNotes:L.notes})},className:"space-y-4",children:[(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Club Name"}),(0,ra.jsxs)("div",{className:"px-4 py-2 bg-slate-900 rounded-lg text-white",children:[e.name," (",e.code,")"]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Tenant"}),(0,ra.jsx)("div",{className:"px-4 py-2 bg-slate-900 rounded-lg text-white",children:e.tenant.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Monthly Price (\u20b9)"}),(0,ra.jsx)("input",{type:"number",step:"0.01",value:L.price,onChange:e=>R(c(c({},L),{},{price:e.target.value})),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Status"}),(0,ra.jsxs)("select",{value:L.status,onChange:e=>R(c(c({},L),{},{status:e.target.value})),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white",children:[(0,ra.jsx)("option",{value:"active",children:"Active"}),(0,ra.jsx)("option",{value:"paused",children:"Paused"}),(0,ra.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Notes"}),(0,ra.jsx)("textarea",{value:L.notes,onChange:e=>R(c(c({},L),{},{notes:e.target.value})),rows:3,className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white",placeholder:"Payment notes, reminders, etc."})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-2 rounded-lg font-medium",children:"Save Changes"}),(0,ra.jsx)("button",{type:"button",onClick:ue,className:"bg-slate-600 hover:bg-slate-500 px-6 py-2 rounded-lg font-medium",children:"Cancel"})]})]}):(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ra.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-slate-700 text-gray-300",children:e.code})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Tenant:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:e.tenant.name})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Created:"}),(0,ra.jsx)("span",{className:"text-white ml-2",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Monthly Price:"}),(0,ra.jsxs)("span",{className:"text-emerald-400 ml-2 font-bold text-lg",children:["\u20b9",e.subscriptionPrice]})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,ra.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.subscriptionStatus?"bg-green-500/20 text-green-300":"paused"===e.subscriptionStatus?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"),children:e.subscriptionStatus})]})]}),e.subscriptionNotes&&(0,ra.jsxs)("div",{className:"mt-3 text-sm text-gray-400",children:[(0,ra.jsx)("span",{className:"font-medium",children:"Notes:"})," ",e.subscriptionNotes]})]}),(0,ra.jsx)("button",{onClick:()=>(e=>{A(e.id),R({price:e.subscriptionPrice,status:e.subscriptionStatus,notes:e.subscriptionNotes||""})})(e),className:"ml-4 bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap",children:"Edit Subscription"})]})},e.id)),0===p.length&&(0,ra.jsx)("div",{className:"text-center py-12 text-gray-400",children:(0,ra.jsx)("p",{children:"No clubs found."})})]})]}),"Reports"===t&&(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-slate-800/50 via-slate-900/50 to-black/50 rounded-xl border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Revenue Reports"}),(0,ra.jsx)("button",{onClick:()=>{const e=p.map(e=>[e.name,e.code,e.tenant.name,e.subscriptionPrice,e.status,e.subscriptionStatus,new Date(e.createdAt).toLocaleDateString()]),t=[["Club Name","Club Code","Tenant Name","Monthly Price (\u20b9)","Status","Subscription Status","Created Date"].join(","),...e.map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),l=URL.createObjectURL(s);a.setAttribute("href",l),a.setAttribute("download","revenue-report-".concat((new Date).toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-2 rounded-lg font-medium text-white",children:"Export CSV"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,ra.jsxs)("div",{className:"p-6 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-lg border border-emerald-500/30",children:[(0,ra.jsx)("div",{className:"text-sm text-gray-300",children:"Total Monthly Revenue"}),(0,ra.jsxs)("div",{className:"text-3xl font-bold text-emerald-400 mt-2",children:["\u20b9",null===x||void 0===x?void 0:x.monthlyRevenue.toLocaleString("en-IN")]})]}),(0,ra.jsxs)("div",{className:"p-6 bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-lg border border-blue-500/30",children:[(0,ra.jsx)("div",{className:"text-sm text-gray-300",children:"Active Subscriptions"}),(0,ra.jsx)("div",{className:"text-3xl font-bold text-blue-400 mt-2",children:p.filter(e=>"active"===e.subscriptionStatus).length})]}),(0,ra.jsxs)("div",{className:"p-6 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-lg border border-purple-500/30",children:[(0,ra.jsx)("div",{className:"text-sm text-gray-300",children:"Avg. Subscription"}),(0,ra.jsxs)("div",{className:"text-3xl font-bold text-purple-400 mt-2",children:["\u20b9",p.length>0?Math.round((null===x||void 0===x?void 0:x.monthlyRevenue)/p.length).toLocaleString("en-IN"):0]})]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-bold text-white",children:"Club Revenue Breakdown"}),p.map(e=>(0,ra.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg border border-slate-700 flex justify-between items-center",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:e.tenant.name})]}),(0,ra.jsxs)("div",{className:"text-right",children:[(0,ra.jsxs)("div",{className:"text-xl font-bold text-emerald-400",children:["\u20b9",e.subscriptionPrice,"/mo"]}),(0,ra.jsx)("div",{className:"text-xs text-gray-400",children:e.subscriptionStatus})]})]},e.id))]})]})]})})]}),O&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create Tenant + Super Admin"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Nn({name:U.tenantName,superAdminName:U.superAdminName,superAdminEmail:U.superAdminEmail});X({type:"tenant",tenantName:e.tenant.name,superAdminEmail:e.superAdmin.email,tempPassword:e.superAdmin.tempPassword}),$(!0),M(!1),B({tenantName:"",superAdminName:"",superAdminEmail:""}),ie()}catch(t){const e=t.message||"Unknown error";e.includes("already exists")||e.includes("already used")||e.includes("Tenant name")?de(e,"error"):de("Failed to create tenant: "+e,"error")}},className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-emerald-400",children:"Tenant Information"}),(0,ra.jsx)("input",{type:"text",placeholder:"Tenant Name (e.g., Poker Group India)",value:U.tenantName,onChange:e=>B(c(c({},U),{},{tenantName:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:!0})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-blue-400",children:"Super Admin"}),(0,ra.jsx)("input",{type:"text",placeholder:"Super Admin Name",value:U.superAdminName,onChange:e=>B(c(c({},U),{},{superAdminName:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:!0}),(0,ra.jsx)("input",{type:"email",placeholder:"Super Admin Email",value:U.superAdminEmail,onChange:e=>B(c(c({},U),{},{superAdminEmail:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:!0}),(0,ra.jsx)("p",{className:"text-sm text-gray-400",children:"A temporary password will be generated automatically"})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-lg font-medium text-white",children:"Create Tenant"}),(0,ra.jsx)("button",{type:"button",onClick:()=>M(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg font-medium text-white",children:"Cancel"})]})]})]})}),F&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ra.jsxs)("div",{className:"bg-slate-900 rounded-xl p-8 max-w-6xl w-full my-8 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create Club with Branding"}),(0,ra.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),Q(!0);try{var t;let e,a=W.logoUrl;const l=(null===(t=ne.find(e=>e.value===W.gradient))||void 0===t?void 0:t.class)||W.gradient;if(W.createNewTenant){if(e=await Tn.createTenantWithClub({tenantName:W.newTenantName,superAdminName:W.newSuperAdminName,superAdminEmail:W.newSuperAdminEmail,clubName:W.clubName,clubDescription:W.clubDescription,skinColor:W.skinColor,gradient:l,logoUrl:W.logoUrl||void 0,videoUrl:W.videoUrl||void 0}),V&&e.club&&e.tenant)try{const t=e.tenant.id,s=e.club.id,l=await Cn(t,s);await kn(l.signedUrl,V),a=await Pn(t,s)}catch(s){console.error("Logo upload failed:",s),de("Club created but logo upload failed","error")}X({type:"tenant-club",tenant:e.tenant,superAdmin:e.superAdmin,club:e.club,logoUrl:a}),$(!0)}else{if(e=await Sn(W.tenantId,{name:W.clubName,description:W.clubDescription||void 0,skinColor:W.skinColor||void 0,gradient:l||void 0,logoUrl:W.logoUrl||void 0,videoUrl:W.videoUrl||void 0}),V&&e.id)try{const t=W.tenantId,s=e.id,l=await Cn(t,s);await kn(l.signedUrl,V),a=await Pn(t,s)}catch(s){console.error("Logo upload failed:",s),de("Club created but logo upload failed","error")}X({type:"club",club:e,logoUrl:a}),$(!0)}_(!1),H({clubName:"",clubDescription:"",skinColor:"#10b981",gradient:"emerald-green-teal",logoUrl:"",videoUrl:"",tenantId:"",createNewTenant:!1,newTenantName:"",newSuperAdminName:"",newSuperAdminEmail:""}),J(null),ie()}catch(a){const e=a.message||"Unknown error";e.includes("already exists")||e.includes("already used")?de(e,"error"):de("Failed to create club: "+e,"error")}finally{Q(!1)}},children:[(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-purple-400",children:"Club Information"}),(0,ra.jsx)("input",{type:"text",placeholder:"Club Name (e.g., Emerald Poker Mumbai)",value:W.clubName,onChange:e=>H(c(c({},W),{},{clubName:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:!0}),(0,ra.jsx)("textarea",{placeholder:"Club Description",value:W.clubDescription,onChange:e=>H(c(c({},W),{},{clubDescription:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",rows:3})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-pink-400",children:"Club Branding"}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm mb-2 text-gray-300",children:"Club Logo (PNG)"}),(0,ra.jsx)("input",{type:"file",accept:"image/png",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return de("Logo file size must be less than 5MB","error"),void(e.target.value="");if(!t.type.includes("png"))return de("Logo must be a PNG image","error"),void(e.target.value="");J(t)}},className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-emerald-600 file:text-white hover:file:bg-emerald-500 file:cursor-pointer"}),V&&(0,ra.jsxs)("p",{className:"text-xs text-emerald-400 mt-2",children:["\u2713 ",V.name," selected (will upload when club is created)"]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Logo will be uploaded to Supabase when you create the club (max 5MB)"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm mb-2 text-gray-300",children:"Promo Video URL (mp4) - Optional"}),(0,ra.jsx)("input",{type:"text",placeholder:"Promo Video URL (mp4)",value:W.videoUrl,onChange:e=>H(c(c({},W),{},{videoUrl:e.target.value})),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white placeholder-gray-500"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm mb-2 text-gray-300",children:"Skin Color"}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("input",{type:"color",value:W.skinColor,onChange:e=>H(c(c({},W),{},{skinColor:e.target.value})),className:"w-16 h-12 bg-slate-800 border border-slate-600 rounded-lg cursor-pointer"}),(0,ra.jsx)("input",{type:"text",value:W.skinColor,onChange:e=>H(c(c({},W),{},{skinColor:e.target.value})),className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white font-mono"})]}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Primary theme color for the club"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm mb-2 text-gray-300",children:"Gradient Selection"}),(0,ra.jsx)("select",{value:W.gradient,onChange:e=>H(c(c({},W),{},{gradient:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",children:ne.map(e=>(0,ra.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,ra.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Gradient theme for club branding"})]})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-cyan-400",children:"Tenant Assignment"}),(0,ra.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,ra.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,ra.jsx)("input",{type:"radio",checked:!W.createNewTenant,onChange:()=>H(c(c({},W),{},{createNewTenant:!1})),className:"w-4 h-4"}),(0,ra.jsx)("span",{children:"Assign to Existing Tenant"})]}),(0,ra.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,ra.jsx)("input",{type:"radio",checked:W.createNewTenant,onChange:()=>H(c(c({},W),{},{createNewTenant:!0})),className:"w-4 h-4"}),(0,ra.jsx)("span",{children:"Create New Tenant"})]})]}),W.createNewTenant?(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h4",{className:"text-sm font-medium text-emerald-400",children:"New Tenant Details"}),(0,ra.jsx)("input",{type:"text",placeholder:"Tenant Name",value:W.newTenantName,onChange:e=>H(c(c({},W),{},{newTenantName:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:W.createNewTenant}),(0,ra.jsx)("input",{type:"text",placeholder:"Super Admin Name",value:W.newSuperAdminName,onChange:e=>H(c(c({},W),{},{newSuperAdminName:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:W.createNewTenant}),(0,ra.jsx)("input",{type:"email",placeholder:"Super Admin Email",value:W.newSuperAdminEmail,onChange:e=>H(c(c({},W),{},{newSuperAdminEmail:e.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:W.createNewTenant})]}):(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm mb-2",children:"Select Tenant"}),(0,ra.jsxs)("select",{value:W.tenantId,onChange:async e=>{const t=e.target.value;if(H(c(c({},W),{},{tenantId:t})),t)try{const e=await jn(t);e&&e.superAdmin&&console.log("\u2705 Tenant has super admin:",e.superAdmin.email)}catch(s){console.error("Failed to fetch tenant info:",s)}},className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white",required:!W.createNewTenant,children:[(0,ra.jsx)("option",{value:"",children:"Choose a tenant..."}),g.map(e=>(0,ra.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,ra.jsx)("p",{className:"text-sm text-gray-400 text-center",children:"A unique 6-digit club code will be generated automatically"})]}),(0,ra.jsxs)("div",{className:"space-y-4",children:[(0,ra.jsx)("h3",{className:"text-lg font-medium text-white",children:"Live Preview"}),(0,ra.jsx)("div",{className:"p-8 rounded-xl bg-gradient-to-br ".concat((e=>{const t=ne.find(t=>t.value===e);return t?t.class:e})(W.gradient)," min-h-[500px]"),children:(0,ra.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,ra.jsx)("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white font-bold text-xs overflow-hidden",style:{backgroundColor:W.skinColor},children:V?(0,ra.jsx)("img",{src:URL.createObjectURL(V),alt:"Logo Preview",className:"w-full h-full object-cover rounded-lg"}):W.logoUrl?(0,ra.jsx)("img",{src:W.logoUrl,alt:"Logo",className:"w-full h-full object-contain rounded-lg",onError:e=>e.target.style.display="none"}):"LOGO"}),(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("h4",{className:"text-2xl font-bold text-white",children:W.clubName||"Club Name"}),(0,ra.jsx)("p",{className:"text-white/80 text-sm",children:W.clubDescription||"Club description will appear here"})]})]}),(0,ra.jsxs)("div",{className:"space-y-3 text-white",children:[(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("span",{className:"font-medium",children:"Logo:"}),(0,ra.jsx)("span",{className:"text-white/80",children:V?"".concat(V.name," (").concat((V.size/1024).toFixed(1),"KB)"):W.logoUrl?"Set via URL":"Not set"})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("span",{className:"font-medium",children:"Video:"}),(0,ra.jsx)("span",{className:"text-white/80",children:W.videoUrl?"Set":"Not set"})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("span",{className:"font-medium",children:"Skin Color:"}),(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("div",{className:"w-6 h-6 rounded border-2 border-white",style:{backgroundColor:W.skinColor}}),(0,ra.jsx)("span",{className:"text-white/80 font-mono text-sm",children:W.skinColor})]})]}),(0,ra.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ra.jsx)("span",{className:"font-medium",children:"Gradient:"}),(0,ra.jsx)("span",{className:"text-white/80 text-sm",children:(null===(e=ne.find(e=>e.value===W.gradient))||void 0===e?void 0:e.label)||W.gradient})]})]}),(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/20",children:(0,ra.jsx)("p",{className:"text-white/70 text-sm",children:"This preview shows how the branding will appear in the player portal and club dashboards."})})]})})]})]}),(0,ra.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,ra.jsx)("button",{type:"submit",disabled:K,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-600 disabled:cursor-not-allowed px-6 py-3 rounded-lg font-medium text-white",children:K?"Uploading Logo...":"Create Club"}),(0,ra.jsx)("button",{type:"button",onClick:()=>{_(!1),J(null)},disabled:K,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 disabled:cursor-not-allowed rounded-lg font-medium text-white",children:"Cancel"})]})]})]})}),Z&&(0,ra.jsx)("div",{className:"fixed top-4 right-4 z-[100] px-6 py-4 rounded-lg shadow-2xl border-2 ".concat("error"===te?"bg-red-900 border-red-500 text-red-100":"bg-emerald-900 border-emerald-500 text-emerald-100"),children:(0,ra.jsxs)("div",{className:"flex items-center gap-3",children:["error"===te?(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,ra.jsx)("p",{className:"font-medium",children:Z})]})}),G&&Y&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-8 max-w-2xl w-full border-2 border-emerald-500 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-500 rounded-full mb-4",children:(0,ra.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"tenant"===Y.type?"\ud83c\udf89 Tenant Created!":"tenant-club"===Y.type?"\ud83c\udf89 Tenant & Club Created!":"\ud83c\udf89 Club Created!"}),(0,ra.jsx)("p",{className:"text-emerald-400 text-sm",children:"Save these credentials securely!"})]}),(0,ra.jsxs)("div",{className:"space-y-6",children:["tenant"===Y.type&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-purple-500/30",children:[(0,ra.jsxs)("h3",{className:"text-purple-400 font-semibold mb-3 flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),"Tenant Details"]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Name:"})," ",Y.tenantName]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-blue-500/30",children:[(0,ra.jsxs)("h3",{className:"text-blue-400 font-semibold mb-3 flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Super Admin Login"]}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Email:"})," ",Y.superAdminEmail]}),(0,ra.jsxs)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-3 mt-2",children:[(0,ra.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"\u26a0\ufe0f Temporary Password"}),(0,ra.jsx)("p",{className:"text-yellow-100 font-mono text-lg font-bold",children:Y.tempPassword})]})]})]})]}),"tenant-club"===Y.type&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-purple-500/30",children:[(0,ra.jsxs)("h3",{className:"text-purple-400 font-semibold mb-3 flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),"Tenant Details"]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Name:"})," ",Y.tenant.name]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-blue-500/30",children:[(0,ra.jsxs)("h3",{className:"text-blue-400 font-semibold mb-3 flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Super Admin Login"]}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Name:"})," ",Y.superAdmin.displayName||Y.superAdmin.email]}),(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Email:"})," ",Y.superAdmin.email]}),(0,ra.jsxs)("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-3 mt-2",children:[(0,ra.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"\u26a0\ufe0f Temporary Password"}),(0,ra.jsx)("p",{className:"text-yellow-100 font-mono text-lg font-bold",children:Y.superAdmin.tempPassword})]})]})]})]}),("tenant-club"===Y.type||"club"===Y.type)&&(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-emerald-500/30",children:[(0,ra.jsxs)("h3",{className:"text-emerald-400 font-semibold mb-3 flex items-center gap-2",children:[(0,ra.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ra.jsx)("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})}),"Club Details"]}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("p",{className:"text-white",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Club Name:"})," ",Y.club.name]}),(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3 mt-2",children:[(0,ra.jsx)("p",{className:"text-emerald-400 text-sm font-medium mb-1",children:"\ud83c\udfae Unique Club Code"}),(0,ra.jsx)("p",{className:"text-emerald-100 font-mono text-2xl font-bold tracking-wider",children:Y.club.code}),(0,ra.jsx)("p",{className:"text-emerald-300 text-xs mt-1",children:"Players use this code to sign up"})]}),Y.logoUrl&&(0,ra.jsx)("p",{className:"text-emerald-400 text-sm mt-2",children:"\u2705 Logo uploaded successfully"})]})]})]}),(0,ra.jsx)("button",{onClick:()=>{$(!1),X(null)},className:"w-full mt-6 bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-lg font-bold text-white text-lg transition-colors",children:"Got it! Close"})]})})]})}function _c(){return(0,ra.jsx)(Cd,{role:"SUPER_ADMIN",roleDisplayName:"Super Admin",redirectPath:"/super-admin",gradientFrom:"from-blue-400",gradientTo:"to-indigo-600",description:"Tenant-level Administration"})}const zc=["Dashboard","Player Management","Staff Management","Payroll Management","Affiliates","Tables & Waitlist","Club Buy-In","Credit Management","VIP Store","Push Notifications","Tournaments","Bonus Management","FNB","Chat","Financial Overrides","Reports & Analytics","Audit Logs","System Control"];function qc(e){let{activeItem:t,setActiveItem:s,menuItems:l=zc,onSignOut:r=null,clubs:n=[],selectedClubId:i=null,onClubChange:o=null}=e;const[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(window.innerWidth<1024),[h,p]=(0,a.useState)(!1),[b,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;x(e),e||u(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(d&&m){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[d,m]);const y=n.find(e=>e.clubId===i)||n[0],w=JSON.parse(localStorage.getItem("user")||"{}"),j=JSON.parse(localStorage.getItem("superadminuser")||"{}"),N=w.email||j.email||"super@admin.com",S=w.displayName||j.displayName||"Root Administrator",C=(w.role||j.role,Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("superadminuser")||"{}");t.mustResetPassword=!1,localStorage.setItem("superadminuser",JSON.stringify(t)),g(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}));return(0,ra.jsxs)(ra.Fragment,{children:[m&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-red-500 to-purple-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>u(!d),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),m&&d&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>u(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-red-500/20 via-purple-600/30 to-indigo-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(m?d?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-purple-300 to-indigo-400 drop-shadow-lg mb-6",children:"Super Admin"}),(0,ra.jsxs)("div",{onClick:()=>g(!0),className:"bg-white/10 rounded-xl p-4 mb-6 text-white shadow-inner cursor-pointer hover:bg-white/15 transition-colors",children:[(0,ra.jsx)("div",{className:"text-lg font-semibold",children:S}),(0,ra.jsx)("div",{className:"text-sm opacity-80",children:N})]}),b&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>g(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("superadminuser")||"{}"),a=t.email||s.email;a?f.currentPassword&&f.newPassword&&f.confirmPassword?f.newPassword===f.confirmPassword?f.newPassword.length<8?Sl.error("Password must be at least 8 characters"):C.mutate({email:a,currentPassword:f.currentPassword,newPassword:f.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:f.currentPassword,onChange:e=>v(c(c({},f),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:f.newPassword,onChange:e=>v(c(c({},f),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:f.confirmPassword,onChange:e=>v(c(c({},f),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{g(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:C.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:C.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),n.length>0&&o&&(0,ra.jsxs)("div",{className:"mb-6 relative min-w-0",children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block font-semibold",children:"\ud83d\udccd Select Club"}),(0,ra.jsxs)("div",{className:"relative min-w-0",children:[(0,ra.jsxs)("button",{type:"button",onClick:()=>p(!h),className:"w-full px-4 py-3 bg-gradient-to-r from-emerald-600/20 to-teal-600/20 border border-emerald-500/40 rounded-lg text-white text-left flex items-center justify-between hover:from-emerald-600/30 hover:to-teal-600/30 transition-all overflow-hidden min-w-0 shadow-md",children:[(0,ra.jsx)("span",{className:"truncate min-w-0 flex-1 font-medium",children:(null===y||void 0===y?void 0:y.clubName)||"Select Club"}),(0,ra.jsx)("svg",{className:"w-5 h-5 ml-2 transition-transform ".concat(h?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),(0,ra.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-slate-800 border border-emerald-500/40 rounded-lg shadow-2xl max-h-64 overflow-y-auto overflow-x-hidden hide-scrollbar",children:n.map(e=>(0,ra.jsxs)("button",{type:"button",onClick:()=>{o(e.clubId),p(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-emerald-600/30 transition-colors overflow-hidden border-b border-slate-700 last:border-b-0 ".concat(i===e.clubId?"bg-emerald-600/40 font-semibold":""),children:[(0,ra.jsx)("span",{className:"block truncate",children:e.clubName}),(0,ra.jsx)("span",{className:"block text-xs text-gray-400 truncate mt-0.5",children:e.tenantName})]},e.clubId))})]})]}),(0,ra.jsxs)("p",{className:"text-xs text-emerald-400 mt-2 font-medium",children:["\ud83d\udcca ",n.length," ",1===n.length?"Club":"Clubs"," Available"]}),y&&y.code&&(0,ra.jsxs)("div",{className:"mt-3 bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-lg font-bold tracking-wider text-center",children:y.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})]})]}),(0,ra.jsx)("nav",{className:"space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map(e=>(0,ra.jsx)("button",{onClick:()=>{s(e),m&&u(!1)},className:"w-full text-left rounded-xl px-4 py-3 font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-red-400 to-purple-600 text-white font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-red-400/20 hover:to-purple-500/20 text-white"),children:(0,ra.jsx)("span",{className:"block truncate",children:e})},e))}),r&&(0,ra.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-4 py-3 rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function Uc(e){let{selectedClubId:t}=e;const s=ia(),[l,r]=(0,a.useState)("players-list"),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[b,g]=(0,a.useState)(null),[f,v]=(0,a.useState)(""),{data:y=[],isLoading:w}=Si({queryKey:["creditPlayers",t],queryFn:async()=>{if(!t)return[];const e=[];let s=1;let a=!0;for(;a;)try{const l=await In.getPlayers(t,{limit:50,page:s}),r=(null===l||void 0===l?void 0:l.players)||[];if(!r||0===r.length){a=!1;break}const n=r.filter(e=>("approved"===e.kycStatus||"verified"===e.kycStatus)&&"Active"===e.status);e.push(...n),r.length<50?a=!1:(s++,s>20&&(a=!1))}catch(l){console.error("Error fetching page ".concat(s,":"),l),a=!1}return e},enabled:!!t}),{data:j=[],isLoading:N}=Si({queryKey:["creditRequests",t],queryFn:()=>In.getCreditRequests(t,"Pending"),enabled:!!t&&"credit-requests"===l}),S=Ti({mutationFn:async e=>{let{playerId:s,limit:a}=e;return await In.unlockCredit(t,s,{creditLimit:parseFloat(a)})},onSuccess:()=>{Sl.success("Credit feature unlocked successfully!"),s.invalidateQueries(["creditPlayers",t]),i(!1),u(null),x("")},onError:e=>{Sl.error(e.message||"Failed to unlock credit feature")}}),C=Ti({mutationFn:async e=>{let{playerId:s,limit:a}=e;return await In.updateCreditLimit(t,s,{creditLimit:parseFloat(a)})},onSuccess:()=>{Sl.success("Credit limit updated successfully!"),s.invalidateQueries(["creditPlayers",t]),d(!1),u(null),x("")},onError:e=>{Sl.error(e.message||"Failed to update credit limit")}}),k=Ti({mutationFn:async e=>{let{requestId:s,playerId:a}=e;return await In.approveCreditRequest(t,s)},onSuccess:()=>{Sl.success("Credit request approved!"),s.invalidateQueries(["creditRequests",t]),s.invalidateQueries(["creditPlayers",t])},onError:e=>{Sl.error(e.message||"Failed to approve credit request")}}),P=Ti({mutationFn:async e=>{let{requestId:s,reason:a}=e;return await In.rejectCreditRequest(t,s,{reason:a})},onSuccess:()=>{Sl.success("Credit request rejected"),s.invalidateQueries(["creditRequests",t]),p(!1),g(null),v("")},onError:e=>{Sl.error(e.message||"Failed to reject credit request")}});return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:[(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Credit Feature Management"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Ultimate control: players, staff, credit, overrides and more"})]}),(0,ra.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,ra.jsx)("button",{onClick:()=>r("players-list"),className:"px-6 py-3 font-semibold rounded-t-lg transition-colors ".concat("players-list"===l?"bg-gradient-to-r from-amber-600 to-amber-500 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"),children:"Players List & Credit Management"}),(0,ra.jsx)("button",{onClick:()=>r("credit-requests"),className:"px-6 py-3 font-semibold rounded-t-lg transition-colors ".concat("credit-requests"===l?"bg-gradient-to-r from-amber-600 to-amber-500 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"),children:"Credit Approval Requests"})]}),(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/30 to-orange-900/30 rounded-lg p-6",children:["players-list"===l&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"All Players - Credit Management"}),w?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"Loading players..."}):0===y.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No players found"}):(0,ra.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,ra.jsx)("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-700",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-white font-semibold text-lg",children:e.name}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["ID: ",e.playerId||e.id]}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Email: ",e.email]}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Balance: ",(0,ra.jsxs)("span",{className:"font-bold text-green-400",children:["\u20b9",e.balance||0]})]}),e.creditEnabled&&(0,ra.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,ra.jsxs)("p",{className:"text-blue-400 text-sm",children:["Credit Limit: ",(0,ra.jsxs)("span",{className:"font-bold",children:["\u20b9",e.creditLimit||0]})]}),(0,ra.jsxs)("p",{className:"text-yellow-400 text-sm",children:["Credit Used: ",(0,ra.jsxs)("span",{className:"font-bold",children:["\u20b9",e.creditUsed||0]})]}),(0,ra.jsxs)("p",{className:"text-green-400 text-sm",children:["Available Credit: ",(0,ra.jsxs)("span",{className:"font-bold",children:["\u20b9",(e.creditLimit||0)-(e.creditUsed||0)]})]})]})]}),(0,ra.jsxs)("div",{className:"flex flex-col gap-2",children:[e.creditEnabled?(0,ra.jsx)("button",{onClick:()=>{var t;u(e),x((null===(t=e.creditLimit)||void 0===t?void 0:t.toString())||""),d(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:"Edit Limit"}):(0,ra.jsx)("button",{onClick:()=>{u(e),i(!0)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",children:"Unlock Credit"}),e.creditEnabled&&(0,ra.jsx)("span",{className:"px-4 py-2 bg-green-600 text-white text-center rounded-lg font-semibold",children:"Credit Enabled"})]})]})},e.id))})]}),"credit-requests"===l&&(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Credit Approval Requests"}),N?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"Loading requests..."}):0===j.length?(0,ra.jsx)("div",{className:"text-gray-400 text-center py-8",children:"No pending credit requests"}):(0,ra.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,ra.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("h3",{className:"text-white font-semibold text-xl",children:e.playerName}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Player ID: ",e.playerId]}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Requested Amount: ",(0,ra.jsxs)("span",{className:"font-bold text-yellow-400",children:["\u20b9",Number(e.amount).toLocaleString()]})]}),e.limit&&(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Credit Limit: ",(0,ra.jsxs)("span",{className:"font-bold text-blue-400",children:["\u20b9",Number(e.limit).toLocaleString()]})]}),(0,ra.jsxs)("p",{className:"text-gray-400 text-sm",children:["Requested: ",new Date(e.createdAt).toLocaleDateString()]}),e.notes&&(0,ra.jsxs)("p",{className:"text-gray-300 text-sm mt-2",children:["Notes: ",e.notes]})]}),(0,ra.jsx)("span",{className:"px-3 py-1 bg-yellow-600 text-white text-sm font-semibold rounded",children:"Pending"})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>k.mutate({requestId:e.id,playerId:e.playerId}),disabled:k.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:k.isPending?"Approving...":"Approve Credit"}),(0,ra.jsx)("button",{onClick:()=>{g(e),p(!0)},disabled:P.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-semibold transition-colors disabled:opacity-50",children:"Reject"})]})]},e.id))})]})]}),n&&c&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Unlock Credit Feature"}),(0,ra.jsxs)("p",{className:"text-gray-300 mb-4",children:["Do you want to unlock the credit feature for ",(0,ra.jsx)("span",{className:"font-semibold text-white",children:c.name}),"?"]}),(0,ra.jsx)("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500 rounded-lg",children:(0,ra.jsxs)("p",{className:"text-blue-400 text-sm",children:["Current Balance: \u20b9",c.balance||0]})}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["Set Credit Limit (\u20b9) ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"number",value:m,onChange:e=>x(e.target.value),placeholder:"Enter credit limit",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>{!m||parseFloat(m)<=0?Sl.error("Please enter a valid credit limit"):S.mutate({playerId:c.id,limit:m})},disabled:S.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-semibold transition-colors disabled:opacity-50",children:S.isPending?"Unlocking...":"Unlock & Set Limit"}),(0,ra.jsx)("button",{onClick:()=>{i(!1),u(null),x("")},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),o&&c&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Edit Credit Limit"}),(0,ra.jsxs)("p",{className:"text-gray-300 mb-4",children:["Update credit limit for ",(0,ra.jsx)("span",{className:"font-semibold text-white",children:c.name})]}),(0,ra.jsxs)("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500 rounded-lg",children:[(0,ra.jsxs)("p",{className:"text-blue-400 text-sm",children:["Current Limit: \u20b9",c.creditLimit||0]}),(0,ra.jsxs)("p",{className:"text-blue-400 text-sm",children:["Credit Used: \u20b9",c.creditUsed||0]})]}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["New Credit Limit (\u20b9) ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("input",{type:"number",value:m,onChange:e=>x(e.target.value),placeholder:"Enter new credit limit",className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>{!m||parseFloat(m)<=0?Sl.error("Please enter a valid credit limit"):C.mutate({playerId:c.id,limit:m})},disabled:C.isPending,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-semibold transition-colors disabled:opacity-50",children:C.isPending?"Updating...":"Update Limit"}),(0,ra.jsx)("button",{onClick:()=>{d(!1),u(null),x("")},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})}),h&&b&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Reject Credit Request"}),(0,ra.jsxs)("p",{className:"text-gray-300 mb-4",children:["Rejecting request from ",(0,ra.jsx)("span",{className:"font-semibold text-white",children:b.playerName})]}),(0,ra.jsxs)("div",{className:"mb-6",children:[(0,ra.jsxs)("label",{className:"block text-gray-300 mb-2 font-semibold",children:["Rejection Reason ",(0,ra.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,ra.jsx)("textarea",{value:f,onChange:e=>v(e.target.value),placeholder:"Enter reason for rejection...",rows:4,className:"w-full px-4 py-2 bg-slate-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{onClick:()=>{f.trim()?P.mutate({requestId:b.id,reason:f}):Sl.error("Please provide a reason for rejection")},disabled:P.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg font-semibold transition-colors disabled:opacity-50",children:P.isPending?"Rejecting...":"Confirm Rejection"}),(0,ra.jsx)("button",{onClick:()=>{p(!1),g(null),v("")},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})})]})}function Bc(e){var t,s;let{clubId:l}=e;const[r,n]=(0,a.useState)(1),[i,o]=(0,a.useState)({search:"",category:"",staffRole:"",startDate:"",endDate:""}),[d,u]=(0,a.useState)({}),[m,x]=(0,a.useState)(!1),{data:h,isLoading:p,refetch:b}=Si({queryKey:["auditLogs",l,r,d],queryFn:async()=>{const e=new URLSearchParams(c({page:r.toString(),limit:"10"},d));return await Pl("/clubs/".concat(l,"/audit-logs?").concat(e))},enabled:!!l}),{data:g}=Si({queryKey:["auditLogStats",l],queryFn:async()=>await Pl("/clubs/".concat(l,"/audit-logs/statistics?days=30")),enabled:!!l}),f=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Kolkata"}).format(t)};return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:[(0,ra.jsxs)("div",{className:"mb-8",children:[(0,ra.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Audit Logs & Backups"}),(0,ra.jsx)("p",{className:"text-gray-400",children:"Track all staff activities and system events"})]}),g&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[(0,ra.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,ra.jsx)(co,{className:"text-3xl opacity-75"})}),(0,ra.jsx)("div",{className:"text-3xl font-bold mb-1",children:g.totalActions}),(0,ra.jsx)("div",{className:"text-sm opacity-90",children:"Total Actions (30 days)"})]}),Object.entries(g.byCategory||{}).slice(0,3).map((e,t)=>{let[s,a]=e;return(0,ra.jsxs)("div",{className:"bg-gradient-to-br ".concat(0===t?"from-green-500 to-green-600":1===t?"from-orange-500 to-orange-600":"from-purple-500 to-purple-600"," rounded-xl p-6 text-white"),children:[(0,ra.jsx)("div",{className:"text-2xl font-bold mb-1",children:a}),(0,ra.jsx)("div",{className:"text-sm opacity-90 capitalize",children:s.replace(/_/g," ")})]},s)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-xl p-6 mb-6 border border-slate-700",children:[(0,ra.jsxs)("div",{className:"flex flex-wrap gap-4 items-end",children:[(0,ra.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),(0,ra.jsxs)("div",{className:"relative",children:[(0,ra.jsx)(Co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,ra.jsx)("input",{type:"text",value:i.search,onChange:e=>o(c(c({},i),{},{search:e.target.value})),placeholder:"Search by name or description...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,ra.jsx)("input",{type:"date",value:i.startDate,onChange:e=>o(c(c({},i),{},{startDate:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,ra.jsx)("input",{type:"date",value:i.endDate,onChange:e=>o(c(c({},i),{},{endDate:e.target.value})),className:"px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,ra.jsxs)("button",{onClick:()=>x(!m),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg flex items-center gap-2 transition-colors",children:[(0,ra.jsx)(vo,{}),"More Filters"]}),(0,ra.jsx)("button",{onClick:()=>{const e={};i.search&&(e.search=i.search),i.category&&(e.category=i.category),i.staffRole&&(e.staffRole=i.staffRole),i.startDate&&(e.startDate=i.startDate),i.endDate&&(e.endDate=i.endDate),u(e),n(1),x(!1)},className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg font-medium transition-colors",children:"Apply Filters"}),Object.keys(d).length>0&&(0,ra.jsx)("button",{onClick:()=>{o({search:"",category:"",staffRole:"",startDate:"",endDate:""}),u({}),n(1)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Clear"})]}),m&&(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-slate-700",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,ra.jsx)("select",{value:i.category,onChange:e=>o(c(c({},i),{},{category:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[{value:"",label:"All Categories"},{value:"player_management",label:"Player Management"},{value:"financial",label:"Financial"},{value:"table_management",label:"Table Management"},{value:"staff_management",label:"Staff Management"},{value:"tournament",label:"Tournament"},{value:"bonus",label:"Bonus"},{value:"credit",label:"Credit"},{value:"fnb",label:"FNB"},{value:"shift",label:"Shift"},{value:"payroll",label:"Payroll"},{value:"override",label:"Override"},{value:"system",label:"System"}].map(e=>(0,ra.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Staff Role"}),(0,ra.jsx)("select",{value:i.staffRole,onChange:e=>o(c(c({},i),{},{staffRole:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[{value:"",label:"All Roles"},{value:"SUPER_ADMIN",label:"Super Admin"},{value:"ADMIN",label:"Admin"},{value:"MANAGER",label:"Manager"},{value:"HR",label:"HR"},{value:"GRE",label:"GRE"},{value:"CASHIER",label:"Cashier"},{value:"DEALER",label:"Dealer"},{value:"KITCHEN_STAFF",label:"Kitchen Staff"},{value:"AFFILIATE",label:"Affiliate"}].map(e=>(0,ra.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-xl rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Audit Log"}),p?(0,ra.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):0===(null===h||void 0===h||null===(t=h.logs)||void 0===t?void 0:t.length)?(0,ra.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,ra.jsx)("p",{className:"text-lg",children:"No audit logs found"}),(0,ra.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your filters"})]}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("div",{className:"space-y-3 mb-6",children:null===h||void 0===h||null===(s=h.logs)||void 0===s?void 0:s.map(e=>(0,ra.jsx)("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-4 hover:bg-slate-700 transition-colors",children:(0,ra.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ra.jsxs)("div",{className:"flex-1",children:[(0,ra.jsx)("p",{className:"text-white font-medium mb-1",children:e.description}),(0,ra.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-gray-400",children:[(0,ra.jsxs)("span",{className:"flex items-center gap-1",children:[(0,ra.jsx)("span",{className:"font-medium text-purple-400",children:e.staffName}),(0,ra.jsxs)("span",{children:["(",e.staffRole.replace(/_/g," "),")"]})]}),e.targetName&&(0,ra.jsxs)("span",{children:["\u2192 ",(0,ra.jsx)("span",{className:"font-medium text-blue-400",children:e.targetName})]}),(0,ra.jsx)("span",{className:"text-gray-500",children:"\u2022"}),(0,ra.jsx)("span",{className:"capitalize text-green-400",children:e.actionCategory.replace(/_/g," ")})]})]}),(0,ra.jsx)("div",{className:"text-right text-sm text-gray-400 ml-4",children:f(e.createdAt)})]})},e.id))}),h&&h.totalPages>1&&(0,ra.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-slate-700",children:[(0,ra.jsxs)("div",{className:"text-gray-400 text-sm",children:["Showing page ",r," of ",h.totalPages," (",h.total," total logs)"]}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("button",{onClick:()=>n(e=>Math.max(1,e-1)),disabled:1===r,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Previous"}),(0,ra.jsx)("button",{onClick:()=>n(e=>Math.min(h.totalPages,e+1)),disabled:r===h.totalPages,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Next"})]})]})]})]})]})}function Wc(){var e,t,s,l,r,n,i,o,d;const u=pe(),m=ia(),[x,h]=(0,a.useState)("Dashboard"),[p,b]=(0,a.useState)(null),[g,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("superadminuser")||"{}");e.id||t.userId?(e.mustResetPassword||t.mustResetPassword)&&f(!0):u("/super-admin/signin")},[u]);const{data:w=[],isLoading:j,error:N}=Si({queryKey:["superAdminClubs"],queryFn:In.getClubs});(0,a.useEffect)(()=>{w&&w.length>0&&!p&&b(w[0].clubId)},[w,p]);const{data:S,isLoading:C}=Si({queryKey:["clubRevenue",p],queryFn:()=>In.getClubRevenue(p),enabled:!!p}),{data:k,isLoading:P}=Si({queryKey:["clubPlayers",p],queryFn:()=>In.getAllPlayers(p,{limit:100}),enabled:!!p}),{data:T=[],isLoading:I}=Si({queryKey:["pendingPlayers",p],queryFn:()=>In.getPendingApprovalPlayers(p),enabled:!!p}),{data:D=[],isLoading:E}=Si({queryKey:["suspendedPlayers",p],queryFn:()=>In.getSuspendedPlayers(p),enabled:!!p}),A=w.find(e=>e.clubId===p),L=()=>{localStorage.clear(),u("/super-admin/signin")},R=e=>"\u20b9".concat((e||0).toLocaleString("en-IN")),O=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("superadminuser")||"{}");t.mustResetPassword=!1,localStorage.setItem("superadminuser",JSON.stringify(t)),f(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),M=g&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("superadminuser")||"{}"),a=t.email||s.email;a?v.currentPassword&&v.newPassword&&v.confirmPassword?v.newPassword===v.confirmPassword?v.newPassword.length<8?Sl.error("Password must be at least 8 characters"):O.mutate({email:a,currentPassword:v.currentPassword,newPassword:v.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:v.currentPassword,onChange:e=>y(c(c({},v),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:v.newPassword,onChange:e=>y(c(c({},v),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:v.confirmPassword,onChange:e=>y(c(c({},v),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:O.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:O.isLoading?"Resetting...":"Reset Password"})]})]})});return j?(0,ra.jsxs)(ra.Fragment,{children:[M,(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 flex items-center justify-center",children:(0,ra.jsxs)("div",{className:"text-white text-center",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{className:"text-xl",children:"Loading clubs..."})]})})]}):N?(0,ra.jsxs)(ra.Fragment,{children:[M,(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 flex items-center justify-center p-8",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 text-center border border-red-600 max-w-2xl w-full",children:[(0,ra.jsx)("div",{className:"text-red-400 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,ra.jsx)("p",{className:"text-xl text-red-400 mb-2",children:"Error loading clubs"}),(0,ra.jsx)("p",{className:"text-gray-400 mb-8",children:N.message}),(0,ra.jsx)("button",{onClick:L,className:"bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Sign Out"})]})})]}):w&&0!==w.length?(0,ra.jsxs)(ra.Fragment,{children:[M,(0,ra.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900",children:[(0,ra.jsx)(qc,{activeItem:x,setActiveItem:h,clubs:w,selectedClubId:p,onClubChange:b}),(0,ra.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:["Dashboard"===x&&(0,ra.jsxs)("div",{className:"space-y-6",children:[(0,ra.jsx)("div",{className:"flex justify-between items-center",children:(0,ra.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Dashboard - ",(null===A||void 0===A?void 0:A.clubName)||"Loading..."]})}),C?(0,ra.jsxs)("div",{className:"text-white text-center py-12",children:[(0,ra.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),(0,ra.jsx)("p",{children:"Loading revenue data..."})]}):(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:R((null===S||void 0===S||null===(e=S.previousDay)||void 0===e?void 0:e.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===S||void 0===S||null===(t=S.previousDay)||void 0===t?void 0:t.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-emerald-600",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Revenue"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:R((null===S||void 0===S||null===(s=S.currentDay)||void 0===s?void 0:s.revenue)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:(null===S||void 0===S||null===(l=S.currentDay)||void 0===l?void 0:l.date)||"-"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:R((null===S||void 0===S||null===(r=S.currentDay)||void 0===r?void 0:r.rake)||0)}),(0,ra.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"10% of revenue"})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Rake"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:R((null===S||void 0===S||null===(n=S.previousDay)||void 0===n?void 0:n.rake)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Previous Day Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:R((null===S||void 0===S||null===(i=S.previousDay)||void 0===i?void 0:i.tips)||0)})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-gray-400 text-sm mb-2",children:"Today's Tips"}),(0,ra.jsx)("p",{className:"text-3xl font-bold text-white",children:R((null===S||void 0===S||null===(o=S.currentDay)||void 0===o?void 0:o.tips)||0)})]})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Players"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Total Players"}),(0,ra.jsx)("span",{className:"text-white font-semibold",children:P?"...":(null===k||void 0===k||null===(d=k.players)||void 0===d?void 0:d.length)||0})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Pending Approval"}),(0,ra.jsx)("span",{className:"text-yellow-400 font-semibold",children:I?"...":T.length})]}),(0,ra.jsxs)("div",{className:"flex justify-between",children:[(0,ra.jsx)("span",{className:"text-gray-400",children:"Suspended"}),(0,ra.jsx)("span",{className:"text-red-400 font-semibold",children:E?"...":D.length})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[(0,ra.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,ra.jsxs)("div",{className:"space-y-2",children:[(0,ra.jsx)("button",{onClick:()=>h("Player Management"),className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white py-2 rounded-lg transition-colors",children:"Manage Players"}),(0,ra.jsxs)("button",{onClick:()=>h("Player Approval"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-lg transition-colors",children:["Review Approvals (",I?"...":T.length,")"]}),(0,ra.jsxs)("button",{onClick:()=>h("Player Suspension"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white py-2 rounded-lg transition-colors",children:["Suspended Players (",E?"...":D.length,")"]})]})]})]})]}),"Player Management"===x&&(0,ra.jsx)(Ai,{selectedClubId:p,playersData:k,playersLoading:P,pendingPlayers:T,pendingLoading:I,suspendedPlayers:D,suspendedLoading:E,onRefresh:()=>{m.invalidateQueries(["pendingPlayers",p]),m.invalidateQueries(["clubPlayers",p]),m.invalidateQueries(["suspendedPlayers",p])}}),"Tables & Waitlist"===x&&(0,ra.jsx)(Ri,{selectedClubId:p}),"Club Buy-In"===x&&(0,ra.jsx)(Kd,{selectedClubId:p}),"Credit Management"===x&&(0,ra.jsx)(Uc,{selectedClubId:p}),"VIP Store"===x&&(0,ra.jsx)(Sc,{selectedClubId:p}),"Push Notifications"===x&&(0,ra.jsx)(Qi,{selectedClubId:p}),"Tournaments"===x&&(0,ra.jsx)(Yi,{selectedClubId:p}),"Staff Management"===x&&(0,ra.jsx)(Id,{selectedClubId:p}),"Payroll Management"===x&&(0,ra.jsx)(Pc,{selectedClubId:p}),"Bonus Management"===x&&(0,ra.jsx)(Wd,{selectedClubId:p}),"Affiliates"===x&&(0,ra.jsx)(Tc,{selectedClubId:p}),"Financial Overrides"===x&&(0,ra.jsx)(Qd,{selectedClubId:p}),"FNB"===x&&p&&(0,ra.jsx)(Ic,{clubId:p}),"Chat"===x&&p&&(0,ra.jsx)(Eo,{clubId:p}),"Reports & Analytics"===x&&p&&(0,ra.jsx)(Dc,{clubId:p}),"Audit Logs"===x&&p&&(0,ra.jsx)(Bc,{clubId:p}),"System Control"===x&&p&&(0,ra.jsx)(Ac,{clubId:p}),!["Dashboard","Player Management","Tables & Waitlist","Club Buy-In","Credit Management","VIP Store","Push Notifications","Tournaments","Staff Management","Payroll Management","Bonus Management","Affiliates","Financial Overrides","FNB","Chat","Reports & Analytics","Audit Logs","System Control"].includes(x)&&(0,ra.jsxs)("div",{className:"text-white",children:[(0,ra.jsx)("h1",{className:"text-3xl font-bold mb-6",children:x}),(0,ra.jsx)("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:(0,ra.jsx)("p",{className:"text-gray-400",children:"This section is under development and will use real data from the backend."})})]})]})]})]}):(0,ra.jsxs)(ra.Fragment,{children:[M,(0,ra.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-emerald-900 flex items-center justify-center p-8",children:(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-xl p-12 text-center border border-slate-700 max-w-2xl w-full",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-6xl mb-6",children:"\ud83c\udfe2"}),(0,ra.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"No Clubs Created Yet"}),(0,ra.jsx)("p",{className:"text-gray-400 text-lg mb-8",children:"You don't have any clubs assigned to you. Please contact the Master Admin to create a club for your tenant."}),(0,ra.jsx)("div",{className:"bg-slate-700 rounded-lg p-6 border border-slate-600 mb-8",children:(0,ra.jsx)("p",{className:"text-sm text-gray-300",children:"\ud83d\udcde Need help? Contact Master Admin to set up your first club and start managing players, tables, and tournaments."})}),(0,ra.jsx)("button",{onClick:L,className:"w-full max-w-xs mx-auto bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg font-semibold transition-colors shadow-lg",children:"Sign Out"})]})})]})}function Hc(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}const Vc=a.forwardRef((e,t)=>{let{id:s,name:l,value:r,defaultValue:n,onChange:i,options:o=[],placeholder:d="Select an option",disabled:u=!1,className:m="",dropdownPlacement:x,size:h="md",fullWidth:p=!0,renderValue:b,renderOption:g,ariaLabel:f,ariaDescribedBy:v,allowSearch:y=!1,searchPlaceholder:w="Search\u2026",emptyState:j="No matches found",children:N}=e;const S=(0,a.useRef)(null),C=(0,a.useRef)(null),k=(0,a.useRef)(null),[P,T]=(0,a.useState)(!1),[I,D]=(0,a.useState)(!1),[E,A]=(0,a.useState)(""),L=void 0!==r,[R,O]=(0,a.useState)(null!==n&&void 0!==n?n:""),M=L?r:R,F=(0,a.useMemo)(()=>N?a.Children.toArray(N).filter(e=>a.isValidElement(e)&&("option"===e.type||"optgroup"===e.type)).flatMap((e,t)=>{var s,l,r,n,i,o,d,c,u;if("optgroup"===e.type){const s=e.props.label;return a.Children.toArray(e.props.children||[]).map((e,a)=>{var l,r,n,i,o,d,c,u,m;return{group:s,value:null!==(l=null!==(r=null===(n=e.props)||void 0===n?void 0:n.value)&&void 0!==r?r:null===(i=e.props)||void 0===i?void 0:i.children)&&void 0!==l?l:"option-".concat(t,"-").concat(a),label:null!==(o=null!==(d=null===(c=e.props)||void 0===c?void 0:c.children)&&void 0!==d?d:null===(u=e.props)||void 0===u?void 0:u.value)&&void 0!==o?o:"",disabled:null===(m=e.props)||void 0===m?void 0:m.disabled}})}return{value:null!==(s=null!==(l=null===(r=e.props)||void 0===r?void 0:r.value)&&void 0!==l?l:null===(n=e.props)||void 0===n?void 0:n.children)&&void 0!==s?s:"option-".concat(t),label:null!==(i=null!==(o=null===(d=e.props)||void 0===d?void 0:d.children)&&void 0!==o?o:null===(c=e.props)||void 0===c?void 0:c.value)&&void 0!==i?i:"",disabled:null===(u=e.props)||void 0===u?void 0:u.disabled}}):[],[N]),_=(0,a.useMemo)(()=>(o.length?o:F).map((e,t)=>{var s,a,l,r,n;return c(c({},e),{},{key:null!==(s=e.value)&&void 0!==s?s:t.toString(),label:null!==(a=null!==(l=e.label)&&void 0!==l?l:e.value)&&void 0!==a?a:"",value:null!==(r=null!==(n=e.value)&&void 0!==n?n:e.label)&&void 0!==r?r:"option-".concat(t)})}),[o,F]),z=(0,a.useMemo)(()=>{if(!y||!E.trim())return _;const e=E.toLowerCase();return _.filter(t=>{var s,a,l;const r=String(null!==(s=t.label)&&void 0!==s?s:""),n=String(null!==(a=t.value)&&void 0!==a?a:""),i=String(null!==(l=t.description)&&void 0!==l?l:"");return r.toLowerCase().includes(e)||n.toLowerCase().includes(e)||i.toLowerCase().includes(e)})},[_,y,E]),q=_.find(e=>e.value===M),U=null!==x&&void 0!==x?x:"bottom";(0,a.useEffect)(()=>{function e(e){S.current&&!S.current.contains(e.target)&&T(!1)}return P?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[P]),(0,a.useEffect)(()=>{!P&&y&&A("")},[P,y]);const B=e=>{var t;if(!e.disabled){if(L||O(e.value),i){const t={target:{value:e.value,name:l},currentTarget:{value:e.value,name:l},value:e.value,option:e,preventDefault:()=>{},stopPropagation:()=>{}};i(t,e)}T(!1),null===(t=C.current)||void 0===t||t.focus()}};return(0,ra.jsxs)("div",{ref:S,className:Hc("relative select-none text-white",p&&"w-full",m),children:[(0,ra.jsxs)("button",{id:s,ref:C,name:l,type:"button",className:Hc("flex items-center justify-between gap-3 rounded-lg border bg-white/5 px-3 py-2 transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2","sm"===h?"py-1.5 text-sm":"py-2 text-sm",u?"cursor-not-allowed border-white/10 text-white/40":I?"border-white/40 bg-white/10":"border-white/15 hover:border-white/35 hover:bg-white/10"),"aria-haspopup":"listbox","aria-expanded":P,"aria-label":f,"aria-describedby":v,disabled:u,onClick:()=>T(e=>!e),onKeyDown:e=>{if(!u)switch(e.key){case" ":case"Enter":case"ArrowUp":case"ArrowDown":if(e.preventDefault(),P){if("ArrowUp"===e.key||"ArrowDown"===e.key){const t=z.findIndex(e=>e.value===M);let s="ArrowDown"===e.key?Math.min(t+1,z.length-1):Math.max(t-1,0);-1===t&&(s="ArrowDown"===e.key?0:z.length-1);const a=z[s];a&&!a.disabled&&B(a)}}else T(!0);break;case"Escape":P&&(e.preventDefault(),T(!1))}},onFocus:()=>D(!0),onBlur:()=>D(!1),children:[(0,ra.jsx)("div",{className:"flex-1 text-left truncate",children:q?b?b(q):(0,ra.jsx)("span",{className:"font-medium text-white",children:q.label}):(0,ra.jsx)("span",{className:"text-gray-400",children:d})}),(0,ra.jsx)("svg",{className:Hc("h-4 w-4 flex-shrink-0 text-gray-300 transition-transform",P?"rotate-180":"rotate-0"),viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),P&&(0,ra.jsxs)("div",{ref:k,role:"listbox",tabIndex:-1,className:Hc("absolute z-40 mt-1 max-h-56 overflow-y-auto rounded-lg border border-white/10 bg-gray-900/95 shadow-xl backdrop-blur-sm","top"===U?"bottom-full mb-2":"top-full"),children:[y&&(0,ra.jsx)("div",{className:"p-3 border-b border-white/10",children:(0,ra.jsx)("input",{autoFocus:!0,type:"text",value:E,onChange:e=>A(e.target.value),placeholder:w,className:"w-full rounded-md border border-white/15 bg-white/5 px-3 py-2 text-sm text-white placeholder:text-gray-500 focus:border-white/40 focus:outline-none focus:ring-0"})}),(0,ra.jsxs)("ul",{className:"py-1",children:[0===z.length&&(0,ra.jsx)("li",{className:"px-3 py-6 text-center text-sm text-gray-400",children:j}),z.map(e=>{const t=e.value===M,s=Hc("flex flex-col gap-1 px-3 py-2 cursor-pointer transition text-sm",e.disabled?"cursor-not-allowed text-gray-500":t?"bg-white/15 border-l-2 border-emerald-400 text-white":"text-gray-200 hover:bg-white/10");return(0,ra.jsx)("li",{role:"option","aria-selected":t,className:s,onClick:()=>B(e),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),B(e))},children:g?g(e,{isSelected:t}):(0,ra.jsxs)(ra.Fragment,{children:[(0,ra.jsx)("span",{className:"font-medium",children:e.label}),e.description&&(0,ra.jsx)("span",{className:"text-xs text-gray-400",children:e.description})]})},e.key)})]})]})]})});Vc.displayName="CustomSelect";const Jc=Vc;function Kc(e){let{userRole:t="manager",playerChats:s=null,setPlayerChats:l=null,staffChats:r=null,setStaffChats:n=null}=e;const i=["superadmin","admin","manager","cashier","gre","fnb"].includes(t),o=["superadmin","admin","manager","cashier","gre","hr","fnb","staff"].includes(t),d=()=>({superadmin:"Super Admin",admin:"Admin",manager:"Manager",cashier:"Cashier",gre:"GRE",hr:"HR",fnb:"FNB",staff:"Staff",affiliate:"Affiliate",masteradmin:"Master Admin"}[t]||"Staff"),u=[{id:"PC001",playerId:"P001",playerName:"Alex Johnson",status:"open",lastMessage:"Need assistance at Table 2",lastMessageTime:new Date(Date.now()-18e4).toISOString(),messages:[{id:"M1",sender:"player",senderName:"Alex Johnson",text:"Need assistance at Table 2",timestamp:new Date(Date.now()-18e4).toISOString()},{id:"M2",sender:"staff",senderName:d(),text:"On my way!",timestamp:new Date(Date.now()-12e4).toISOString()}],createdAt:new Date(Date.now()-6e5).toISOString()}],m=[{id:"SC001",staffId:"ST001",staffName:"Sarah Johnson",staffRole:"Dealer",status:"open",lastMessage:"Player dispute at Table 3",lastMessageTime:new Date(Date.now()-3e5).toISOString(),messages:[{id:"M3",sender:"staff",senderName:"Sarah Johnson",text:"Player dispute at Table 3",timestamp:new Date(Date.now()-3e5).toISOString()},{id:"M4",sender:"admin",senderName:d(),text:"I'll handle it.",timestamp:new Date(Date.now()-24e4).toISOString()}],createdAt:new Date(Date.now()-3e5).toISOString()}],[x,h]=(0,a.useState)(u),[p,b]=(0,a.useState)(m),g=null!==s?s:x,f=l||h,v=null!==r?r:p,y=n||b,[w,j]=(0,a.useState)(i?"player":o?"staff":"player"),[N,S]=(0,a.useState)(null),[C,k]=(0,a.useState)(""),[P,T]=(0,a.useState)("all"),I="player"===w?g.filter(e=>"all"===P||e.status===P):v.filter(e=>"all"===P||e.status===P),D=()=>{if(!C.trim()||!N)return;const e=d(),s="player"===w||"staff"===t?"staff":"admin",a={id:"M".concat(Date.now()),sender:s,senderName:e,text:C.trim(),timestamp:(new Date).toISOString()};"player"===w?f(e=>e.map(e=>e.id===N.id?c(c({},e),{},{messages:[...e.messages,a],lastMessage:a.text,lastMessageTime:a.timestamp,status:"closed"===e.status?"in_progress":e.status}):e)):y(e=>e.map(e=>e.id===N.id?c(c({},e),{},{messages:[...e.messages,a],lastMessage:a.text,lastMessageTime:a.timestamp,status:"closed"===e.status?"in_progress":e.status}):e)),k("")};if((0,a.useEffect)(()=>{if(N){const e=("player"===w?g:v).find(e=>e.id===N.id);S(e||null)}},[w,g,v]),(0,a.useEffect)(()=>{"player"===w&&!i&&o?(j("staff"),S(null)):"staff"===w&&!o&&i&&(j("player"),S(null))},[w,i,o]),!i&&!o)return(0,ra.jsx)("div",{className:"space-y-6",children:(0,ra.jsx)("section",{className:"p-6 bg-gradient-to-r from-yellow-600/30 via-orange-500/20 to-red-700/30 rounded-xl shadow-md border border-yellow-800/40",children:(0,ra.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,ra.jsx)("div",{className:"text-lg mb-2",children:"No chat access"}),(0,ra.jsx)("div",{className:"text-sm",children:"You do not have permission to access chat"})]})})});const E=()=>"manager"===t?"from-yellow-400 to-orange-600":"cashier"===t?"from-blue-400 to-cyan-600":"from-purple-400 to-pink-600",A=()=>"manager"===t?"from-green-500 to-emerald-600":"hr"===t?"from-purple-500 to-pink-600":"from-blue-500 to-cyan-600";return(0,ra.jsx)("div",{className:"space-y-6",children:(0,ra.jsxs)("section",{className:"p-6 bg-gradient-to-r from-yellow-600/30 via-orange-500/20 to-red-700/30 rounded-xl shadow-md border border-yellow-800/40",children:[(0,ra.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Player & Staff Support Chat"}),(0,ra.jsxs)("div",{className:"flex gap-2 mb-6",children:[i&&(0,ra.jsx)("button",{onClick:()=>{j("player"),S(null),T("all")},className:"px-6 py-3 rounded-lg font-semibold transition-all ".concat("player"===w?"bg-gradient-to-r ".concat(E()," text-white shadow-lg"):"bg-white/10 text-white/70 hover:bg-white/15"),children:"\ud83d\udcf1 Player Chat"}),o&&(0,ra.jsx)("button",{onClick:()=>{j("staff"),S(null),T("all")},className:"px-6 py-3 rounded-lg font-semibold transition-all ".concat("staff"===w?"bg-gradient-to-r ".concat(A()," text-white shadow-lg"):"bg-white/10 text-white/70 hover:bg-white/15"),children:"\ud83d\udc65 Staff Chat"})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ra.jsxs)("div",{className:"lg:col-span-1 bg-white/10 p-4 rounded-lg",children:[(0,ra.jsxs)("div",{className:"mb-4",children:[(0,ra.jsx)("label",{className:"text-white text-sm mb-2 block",children:"Filter by Status"}),(0,ra.jsxs)(Jc,{className:"w-full",value:P,onChange:e=>T(e.target.value),children:[(0,ra.jsx)("option",{value:"all",children:"All Status"}),(0,ra.jsx)("option",{value:"open",children:"Open"}),(0,ra.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,ra.jsx)("option",{value:"closed",children:"Closed"})]})]}),(0,ra.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:I.length>0?I.map(e=>(0,ra.jsxs)("div",{onClick:()=>S(e),className:"p-3 rounded-lg border cursor-pointer transition-all ".concat((null===N||void 0===N?void 0:N.id)===e.id?"player"===w?"bg-gradient-to-r from-yellow-500/30 to-orange-500/30 border-yellow-400/50":"bg-gradient-to-r from-green-500/30 to-emerald-500/30 border-green-400/50":"bg-white/5 border-white/10 hover:bg-white/10"),children:[(0,ra.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,ra.jsx)("div",{className:"font-semibold text-white text-sm",children:"player"===w?e.playerName:e.staffName}),(0,ra.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("open"===e.status?"bg-yellow-500/30 text-yellow-300":"in_progress"===e.status?"bg-blue-500/30 text-blue-300":"bg-gray-500/30 text-gray-300"),children:"open"===e.status?"Open":"in_progress"===e.status?"In Progress":"Closed"})]}),"staff"===w&&(0,ra.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:e.staffRole}),(0,ra.jsx)("div",{className:"text-xs text-gray-300 truncate",children:e.lastMessage}),(0,ra.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:new Date(e.lastMessageTime).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]},e.id)):(0,ra.jsxs)("div",{className:"text-center py-8 text-gray-400 text-sm",children:["No ","all"!==P?P:""," chats found"]})})]}),(0,ra.jsx)("div",{className:"lg:col-span-2 bg-white/10 p-4 rounded-lg",children:N?(0,ra.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,ra.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-white/20",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("div",{className:"font-semibold text-white text-lg",children:"player"===w?N.playerName:N.staffName}),"staff"===w&&(0,ra.jsx)("div",{className:"text-sm text-gray-400",children:N.staffRole}),"player"===w&&(0,ra.jsxs)("div",{className:"text-sm text-gray-400",children:["ID: ",N.playerId]})]}),(0,ra.jsx)("div",{className:"flex items-center gap-2",children:(0,ra.jsxs)(Jc,{className:"px-3 py-2 bg-white/10 border border-white/20 rounded text-white text-sm",value:N.status,onChange:e=>((e,t)=>{if("player"===w){if(f(s=>s.map(s=>s.id===e?c(c({},s),{},{status:t}):s)),N&&N.id===e){const s=g.find(t=>t.id===e);s&&S(c(c({},s),{},{status:t}))}}else if(y(s=>s.map(s=>s.id===e?c(c({},s),{},{status:t}):s)),N&&N.id===e){const s=v.find(t=>t.id===e);s&&S(c(c({},s),{},{status:t}))}})(N.id,e.target.value),children:[(0,ra.jsx)("option",{value:"open",children:"Open"}),(0,ra.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,ra.jsx)("option",{value:"closed",children:"Closed"})]})})]}),(0,ra.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4",children:N.messages.map(e=>{const s="staff"===e.sender||"manager"===e.sender||"admin"===e.sender||e.sender===t||"staff"===t&&"admin"===e.sender;return(0,ra.jsx)("div",{className:"flex ".concat(s?"justify-end":"justify-start"),children:(0,ra.jsxs)("div",{className:"max-w-[70%] rounded-lg p-3 ".concat(s?"bg-gradient-to-r ".concat("player"===w?E():A()," text-white"):"bg-white/20 text-white"),children:[(0,ra.jsx)("div",{className:"text-xs font-semibold mb-1 opacity-90",children:e.senderName}),(0,ra.jsx)("div",{className:"text-sm",children:e.text}),(0,ra.jsx)("div",{className:"text-xs opacity-70 mt-1",children:new Date(e.timestamp).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})},e.id)})}),(0,ra.jsxs)("div",{className:"flex gap-2",children:[(0,ra.jsx)("input",{type:"text",className:"flex-1 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400",placeholder:"Type your message...",value:C,onChange:e=>k(e.target.value),onKeyPress:e=>"Enter"===e.key&&D(),disabled:"closed"===N.status}),(0,ra.jsx)("button",{onClick:D,disabled:"closed"===N.status||!C.trim(),className:"bg-gradient-to-r ".concat("player"===w?E():A()," hover:opacity-90 text-white px-6 py-2 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed"),children:"Send"})]}),"closed"===N.status&&(0,ra.jsx)("div",{className:"text-xs text-gray-400 mt-2 text-center",children:"This chat is closed. Change status to reopen."})]}):(0,ra.jsx)("div",{className:"flex items-center justify-center h-[600px] text-gray-400",children:(0,ra.jsxs)("div",{className:"text-center",children:[(0,ra.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcac"}),(0,ra.jsxs)("div",{className:"text-lg",children:["Select a"," ","player"===w?"player":"staff"," chat to start messaging"]})]})})})]})]})})}function Qc(e){let{activeItem:t,setActiveItem:s,menuItems:l=[],onSignOut:r=null}=e;const[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(window.innerWidth<1024),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;d(e),e||i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(n&&o){const e=e=>{e.target.closest(".sidebar-container")||e.target.closest(".sidebar-toggle")||i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}},[n,o]);const p=localStorage.getItem("clubId"),{data:b}=Si({queryKey:["club",p],queryFn:()=>Al(p),enabled:!!p}),g=JSON.parse(localStorage.getItem("user")||"{}"),f=g.email||"staff@example.com",v=g.displayName||"Staff Member",y=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e)),m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}});return(0,ra.jsxs)(ra.Fragment,{children:[o&&(0,ra.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 bg-gradient-to-r from-purple-500 to-blue-600 text-white p-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 lg:hidden",onClick:()=>i(!n),"aria-label":"Toggle sidebar",children:(0,ra.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&n&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden",onClick:()=>i(!1)}),(0,ra.jsx)("aside",{className:"sidebar-container fixed lg:sticky top-0 left-0 h-screen z-40 w-80 max-w-[90vw] bg-gradient-to-b from-purple-500/20 via-blue-600/30 to-indigo-700/30 border-r border-gray-800 shadow-2xl transition-transform duration-300 ease-in-out overflow-y-auto overflow-x-hidden hide-scrollbar ".concat(o?n?"translate-x-0":"-translate-x-full":"translate-x-0"),children:(0,ra.jsxs)("div",{className:"p-3 sm:p-4 md:p-5 h-full flex flex-col min-w-0",children:[(0,ra.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,ra.jsx)("div",{className:"pt-11 lg:pt-0 text-xl sm:text-2xl md:text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-blue-300 to-indigo-400 drop-shadow-lg mb-4 sm:mb-6 break-words",children:"Staff Portal"}),(0,ra.jsxs)("div",{onClick:()=>m(!0),className:"bg-white/10 rounded-lg md:rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 text-white shadow-inner cursor-pointer hover:bg-white/15 transition-colors",children:[(0,ra.jsx)("div",{className:"text-base sm:text-lg font-semibold truncate",children:v}),(0,ra.jsx)("div",{className:"text-xs sm:text-sm opacity-80 truncate",children:f})]}),u&&(0,Ii.createPortal)((0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[9999]",onClick:()=>m(!1),children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full mx-4 border border-emerald-600 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Enter your current and new password"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f?x.currentPassword&&x.newPassword&&x.confirmPassword?x.newPassword===x.confirmPassword?x.newPassword.length<8?Sl.error("Password must be at least 8 characters"):y.mutate({email:f,currentPassword:x.currentPassword,newPassword:x.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:x.currentPassword,onChange:e=>h(c(c({},x),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter current password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:x.newPassword,onChange:e=>h(c(c({},x),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:x.confirmPassword,onChange:e=>h(c(c({},x),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsxs)("div",{className:"flex gap-3",children:[(0,ra.jsx)("button",{type:"button",onClick:()=>{m(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-medium py-3 rounded-lg transition-colors",children:"Cancel"}),(0,ra.jsx)("button",{type:"submit",disabled:y.isLoading,className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:y.isLoading?"Resetting...":"Reset Password"})]})]})]})}),document.body),b&&b.code&&(0,ra.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,ra.jsxs)("div",{className:"bg-emerald-900/30 border border-emerald-500/50 rounded-lg p-3",children:[(0,ra.jsx)("div",{className:"text-xs text-emerald-300 font-semibold mb-1",children:"\ud83c\udfae Club Code"}),(0,ra.jsx)("div",{className:"text-emerald-100 font-mono text-base sm:text-lg font-bold tracking-wider text-center",children:b.code}),(0,ra.jsx)("div",{className:"text-xs text-emerald-400 mt-1 text-center",children:"Players use this to sign up"})]})})]}),(0,ra.jsx)("nav",{className:"space-y-2 sm:space-y-3 flex-1 overflow-y-auto overflow-x-hidden hide-scrollbar min-w-0",children:l.map(e=>(0,ra.jsx)("button",{onClick:()=>{s(e),o&&i(!1)},className:"w-full text-left rounded-lg md:rounded-xl px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base font-medium transition-all duration-300 shadow-md overflow-hidden ".concat(t===e?"bg-gradient-to-r from-purple-400 to-blue-600 text-white font-bold shadow-lg scale-[1.02]":"bg-white/5 hover:bg-gradient-to-r hover:from-purple-400/20 hover:to-blue-500/20 text-white"),children:(0,ra.jsx)("span",{className:"truncate block",children:e})},e))}),r&&(0,ra.jsx)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/10",children:(0,ra.jsx)("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-500 text-white px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base rounded-lg font-semibold shadow transition",children:"Sign Out"})})]})})]})}function Gc(){const[e,t]=(0,a.useState)("Chat"),s=pe(),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=JSON.parse(localStorage.getItem("staffuser")||"{}");(e.mustResetPassword||t.mustResetPassword)&&r(!0)},[]);const o=Ti({mutationFn:async e=>{const t=await fetch("".concat("http://localhost:3333/api","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reset password")}return t.json()},onSuccess:()=>{Sl.success("Password reset successfully!");const e=JSON.parse(localStorage.getItem("user")||"{}");e.mustResetPassword=!1,localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("staffuser")||"{}");t.mustResetPassword=!1,localStorage.setItem("staffuser",JSON.stringify(t)),r(!1),i({currentPassword:"",newPassword:"",confirmPassword:""})},onError:e=>{Sl.error(e.message||"Failed to reset password")}}),d=l&&(0,ra.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[200]",children:(0,ra.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl p-8 max-w-md w-full border border-emerald-600 shadow-2xl",children:[(0,ra.jsxs)("div",{className:"text-center mb-6",children:[(0,ra.jsx)("div",{className:"text-yellow-400 text-5xl mb-3",children:"\ud83d\udd12"}),(0,ra.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Password Reset Required"}),(0,ra.jsx)("p",{className:"text-gray-400 mt-2",children:"Please set a new password to continue"})]}),(0,ra.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")||"{}"),s=JSON.parse(localStorage.getItem("staffuser")||"{}"),a=t.email||s.email;a?n.currentPassword&&n.newPassword&&n.confirmPassword?n.newPassword===n.confirmPassword?n.newPassword.length<8?Sl.error("Password must be at least 8 characters"):o.mutate({email:a,currentPassword:n.currentPassword,newPassword:n.newPassword}):Sl.error("New passwords do not match"):Sl.error("All fields are required"):Sl.error("User email not found. Please login again.")},className:"space-y-4",children:[(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,ra.jsx)("input",{type:"password",value:n.currentPassword,onChange:e=>i(c(c({},n),{},{currentPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter temporary password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,ra.jsx)("input",{type:"password",value:n.newPassword,onChange:e=>i(c(c({},n),{},{newPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,ra.jsxs)("div",{children:[(0,ra.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),(0,ra.jsx)("input",{type:"password",value:n.confirmPassword,onChange:e=>i(c(c({},n),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]}),(0,ra.jsx)("button",{type:"submit",disabled:o.isLoading,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:o.isLoading?"Resetting...":"Reset Password"})]})]})}),[u,m]=(0,a.useState)([{id:"SC001",staffId:"ST001",staffName:"Sarah Johnson",staffRole:"Dealer",status:"open",lastMessage:"Need assistance with player dispute",lastMessageTime:new Date(Date.now()-3e5).toISOString(),messages:[{id:"M3",sender:"staff",senderName:"Sarah Johnson",text:"Need assistance with player dispute",timestamp:new Date(Date.now()-3e5).toISOString()}],createdAt:new Date(Date.now()-3e5).toISOString()}]),[x,h]=(0,a.useState)(!1),p="STAFF2025",b=[{id:1,name:"Rahul Sharma",joinedAt:"2024-12-10",status:"Active"},{id:2,name:"Anita Desai",joinedAt:"2024-12-12",status:"Playing"},{id:3,name:"Vikram Singh",joinedAt:"2024-12-15",status:"Inactive"},{id:4,name:"Priya Patel",joinedAt:"2024-12-18",status:"Active"},{id:5,name:"Arjun Kumar",joinedAt:"2024-12-18",status:"Pending Deposit"}];return(0,ra.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-950 to-black text-white font-sans overflow-x-hidden",children:[(0,ra.jsxs)("div",{className:"flex",children:[(0,ra.jsx)(Qc,{activeItem:e,setActiveItem:t,menuItems:["Chat","Affiliate Dashboard"],onSignOut:()=>{s("/")}}),(0,ra.jsx)("main",{className:"flex-1 lg:ml-0 min-w-0",children:(0,ra.jsxs)("div",{className:"mx-auto max-w-[1600px] px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-10 space-y-4 sm:space-y-6 md:space-y-8",children:[(0,ra.jsxs)("header",{className:"bg-gradient-to-r from-purple-600 via-blue-500 to-indigo-400 p-3 sm:p-4 md:p-6 rounded-lg md:rounded-xl shadow-md flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-3 justify-between items-start sm:items-center mt-16 lg:mt-0",children:[(0,ra.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,ra.jsxs)("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white truncate",children:["Staff - ",e]}),(0,ra.jsx)("p",{className:"text-gray-200 mt-1 text-xs sm:text-sm",children:"Staff communication and support"})]}),(0,ra.jsx)("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto",children:(0,ra.jsx)("button",{onClick:()=>s("/"),className:"bg-red-600 hover:bg-red-500 text-white font-semibold px-3 sm:px-4 py-1.5 sm:py-2 text-sm sm:text-base rounded-lg shadow flex-1 sm:flex-none",children:"Sign Out"})})]}),"Chat"===e&&(0,ra.jsx)(Kc,{userRole:"staff",playerChats:null,setPlayerChats:null,staffChats:u,setStaffChats:m}),"Affiliate Dashboard"===e&&(0,ra.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-lg border border-slate-700/50 rounded-lg md:rounded-2xl p-4 sm:p-6 md:p-8 flex flex-col items-center justify-center relative overflow-hidden group",children:[(0,ra.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,ra.jsx)("h2",{className:"text-base sm:text-lg md:text-xl text-slate-400 mb-3 sm:mb-4 z-10 text-center",children:"Your Unique Referral Code"}),(0,ra.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4 z-10 w-full max-w-full sm:max-w-md",children:[(0,ra.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black tracking-tight sm:tracking-wider text-white drop-shadow-lg font-mono break-all text-center sm:text-left px-2",children:p}),(0,ra.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(p),h(!0),setTimeout(()=>h(!1),2e3)},className:"p-2 sm:p-3 rounded-full bg-slate-700 hover:bg-blue-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 flex-shrink-0",title:"Copy Code",children:x?(0,ra.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ra.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,ra.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ra.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,ra.jsx)("p",{className:"mt-3 sm:mt-4 text-xs sm:text-sm text-slate-500 z-10 text-center px-2 sm:px-4",children:"Share this code with new players to earn rewards."})]}),(0,ra.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:[(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg md:rounded-2xl p-3 sm:p-4 md:p-6 border border-slate-700 shadow-xl",children:[(0,ra.jsx)("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-300 mb-3 sm:mb-4",children:"Performance Overview"}),(0,ra.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[(0,ra.jsxs)("div",{className:"bg-slate-700/50 p-2 sm:p-3 md:p-4 rounded-lg md:rounded-xl",children:[(0,ra.jsx)("div",{className:"text-xs sm:text-sm text-slate-400",children:"Total Referrals"}),(0,ra.jsx)("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white mt-1",children:b.length})]}),(0,ra.jsxs)("div",{className:"bg-slate-700/50 p-2 sm:p-3 md:p-4 rounded-lg md:rounded-xl",children:[(0,ra.jsx)("div",{className:"text-xs sm:text-sm text-slate-400",children:"Active Players"}),(0,ra.jsx)("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-400 mt-1",children:b.filter(e=>"Active"===e.status||"Playing"===e.status).length})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg md:rounded-2xl p-3 sm:p-4 md:p-6 border border-slate-700 shadow-xl",children:[(0,ra.jsx)("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-300 mb-3 sm:mb-4",children:"Quick Stats"}),(0,ra.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,ra.jsxs)("div",{className:"bg-slate-700/50 p-2 sm:p-3 rounded-lg md:rounded-xl",children:[(0,ra.jsx)("div",{className:"text-xs text-slate-400",children:"Pending Deposits"}),(0,ra.jsx)("div",{className:"text-lg sm:text-xl font-bold text-yellow-400 mt-1",children:b.filter(e=>"Pending Deposit"===e.status).length})]}),(0,ra.jsxs)("div",{className:"bg-slate-700/50 p-2 sm:p-3 rounded-lg md:rounded-xl",children:[(0,ra.jsx)("div",{className:"text-xs text-slate-400",children:"Inactive"}),(0,ra.jsx)("div",{className:"text-lg sm:text-xl font-bold text-slate-400 mt-1",children:b.filter(e=>"Inactive"===e.status).length})]})]})]})]}),(0,ra.jsxs)("div",{className:"bg-slate-800 rounded-lg md:rounded-2xl border border-slate-700 shadow-xl overflow-hidden",children:[(0,ra.jsxs)("div",{className:"p-3 sm:p-4 md:p-6 border-b border-slate-700 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-3",children:[(0,ra.jsx)("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-white",children:"Referred Players"}),(0,ra.jsxs)("span",{className:"text-xs font-medium px-2 py-1 bg-blue-900/50 text-blue-300 rounded-md border border-blue-800 whitespace-nowrap",children:["Latest ",b.length]})]}),(0,ra.jsx)("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:(0,ra.jsx)("div",{className:"inline-block min-w-full align-middle px-3 sm:px-0",children:(0,ra.jsxs)("table",{className:"w-full text-left min-w-[400px] sm:min-w-[500px]",children:[(0,ra.jsx)("thead",{children:(0,ra.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase tracking-wider",children:[(0,ra.jsx)("th",{className:"px-2 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 font-medium",children:"Player Name"}),(0,ra.jsx)("th",{className:"px-2 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 font-medium",children:"Joined Date"}),(0,ra.jsx)("th",{className:"px-2 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 font-medium",children:"Status"})]})}),(0,ra.jsx)("tbody",{className:"divide-y divide-slate-700",children:b.map(e=>(0,ra.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[(0,ra.jsx)("td",{className:"px-2 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 text-slate-200 font-medium",children:(0,ra.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 min-w-0",children:[(0,ra.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:e.name.charAt(0)}),(0,ra.jsx)("span",{className:"truncate text-xs sm:text-sm",children:e.name})]})}),(0,ra.jsx)("td",{className:"px-2 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4 text-slate-400 text-xs sm:text-sm whitespace-nowrap",children:new Date(e.joinedAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}),(0,ra.jsx)("td",{className:"px-2 sm:px-4 md:px-6 py-2 sm:py-3 md:py-4",children:(0,ra.jsxs)("span",{className:"inline-flex items-center px-1.5 sm:px-2 md:px-2.5 py-0.5 rounded-full text-xs font-medium border\n                                ".concat("Active"===e.status||"Playing"===e.status?"bg-green-900/30 text-green-400 border-green-800":"Pending Deposit"===e.status?"bg-yellow-900/30 text-yellow-400 border-yellow-800":"bg-slate-800 text-slate-400 border-slate-700","\n                              "),children:["Active"===e.status||"Playing"===e.status?(0,ra.jsx)("span",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full bg-current mr-1 sm:mr-1.5 animate-pulse"}):null,(0,ra.jsx)("span",{className:"whitespace-nowrap text-xs",children:e.status})]})})]},e.id))})]})})}),0===b.length&&(0,ra.jsx)("div",{className:"p-6 sm:p-8 md:p-12 text-center text-slate-500 text-sm sm:text-base",children:"No referrals yet. Share your code to get started!"})]})]})]})})]}),d]})}const $c=new la({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});const Yc=function(){return(0,ra.jsx)(oa,{client:$c,children:(0,ra.jsx)(ht,{children:(0,ra.jsxs)("div",{className:"App",children:[(0,ra.jsx)(Nl,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#fff",border:"1px solid #334155"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,ra.jsxs)(Oe,{children:[(0,ra.jsx)(Le,{path:"/login",element:(0,ra.jsx)(wc,{})}),(0,ra.jsx)(Le,{path:"/master-admin/signin",element:(0,ra.jsx)(Rc,{})}),(0,ra.jsx)(Le,{path:"/super-admin/signin",element:(0,ra.jsx)(_c,{})}),(0,ra.jsx)(Le,{path:"/gre/signin",element:(0,ra.jsx)(Ae,{to:"/login",replace:!0})}),(0,ra.jsx)(Le,{path:"/hr/signin",element:(0,ra.jsx)(Ae,{to:"/login",replace:!0})}),(0,ra.jsx)(Le,{path:"/cashier/signin",element:(0,ra.jsx)(Ae,{to:"/login",replace:!0})}),(0,ra.jsx)(Le,{path:"/fnb/signin",element:(0,ra.jsx)(Ae,{to:"/login",replace:!0})}),(0,ra.jsx)(Le,{path:"/admin/signin",element:(0,ra.jsx)(Ae,{to:"/login",replace:!0})}),(0,ra.jsx)(Le,{path:"/gre",element:(0,ra.jsx)(Mn,{requiredRole:"GRE",children:(0,ra.jsx)(Sd,{})})}),(0,ra.jsx)(Le,{path:"/hr",element:(0,ra.jsx)(Mn,{requiredRole:"HR",children:(0,ra.jsx)(Md,{})})}),(0,ra.jsx)(Le,{path:"/cashier",element:(0,ra.jsx)(Mn,{requiredRole:"CASHIER",children:(0,ra.jsx)(Xd,{})})}),(0,ra.jsx)(Le,{path:"/fnb",element:(0,ra.jsx)(Mn,{requiredRole:"FNB_STAFF",children:(0,ra.jsx)(vc,{})})}),(0,ra.jsx)(Le,{path:"/admin",element:(0,ra.jsx)(Mn,{requiredRole:"ADMIN",children:(0,ra.jsx)(Lc,{})})}),(0,ra.jsx)(Le,{path:"/master-admin",element:(0,ra.jsx)(Mn,{requiredRole:"MASTER_ADMIN",children:(0,ra.jsx)(Fc,{})})}),(0,ra.jsx)(Le,{path:"/super-admin",element:(0,ra.jsx)(Mn,{requiredRole:"SUPER_ADMIN",children:(0,ra.jsx)(Wc,{})})}),(0,ra.jsx)(Le,{path:"/manager",element:(0,ra.jsx)(Mn,{requiredRole:"MANAGER",children:(0,ra.jsx)(_o,{})})}),(0,ra.jsx)(Le,{path:"/staff",element:(0,ra.jsx)(Gc,{})}),(0,ra.jsx)(Le,{path:"/404",element:(0,ra.jsx)(Fn,{})}),(0,ra.jsx)(Le,{path:"/",element:(0,ra.jsx)(Ae,{to:"/manager",replace:!0})}),(0,ra.jsx)(Le,{path:"*",element:(0,ra.jsx)(Fn,{})})]})]})})})};l.createRoot(document.getElementById("root")).render((0,ra.jsx)(a.StrictMode,{children:(0,ra.jsx)(Yc,{})}))})();
//# sourceMappingURL=main.172777c0.js.map